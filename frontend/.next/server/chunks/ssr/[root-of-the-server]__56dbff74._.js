module.exports=[98589,(a,b,c)=>{"use strict";function d(a){}function e(a){let b=d(a);if(!b)throw Error(`${a} is not defined in Window`);return b}Object.defineProperty(c,"__esModule",{value:!0}),c.getLocalStorage=c.getLocalStorageOrThrow=c.getCrypto=c.getCryptoOrThrow=c.getLocation=c.getLocationOrThrow=c.getNavigator=c.getNavigatorOrThrow=c.getDocument=c.getDocumentOrThrow=c.getFromWindowOrThrow=c.getFromWindow=void 0,c.getFromWindow=d,c.getFromWindowOrThrow=e,c.getDocumentOrThrow=function(){return e("document")},c.getDocument=function(){return d("document")},c.getNavigatorOrThrow=function(){return e("navigator")},c.getNavigator=function(){return d("navigator")},c.getLocationOrThrow=function(){return e("location")},c.getLocation=function(){return d("location")},c.getCryptoOrThrow=function(){return e("crypto")},c.getCrypto=function(){return d("crypto")},c.getLocalStorageOrThrow=function(){return e("localStorage")},c.getLocalStorage=function(){return d("localStorage")}},81063,(a,b,c)=>{"use strict";Object.defineProperty(c,"__esModule",{value:!0}),c.getWindowMetadata=void 0;let d=a.r(98589);c.getWindowMetadata=function(){let a,b,c;try{a=d.getDocumentOrThrow(),b=d.getLocationOrThrow()}catch(a){return null}function e(...b){let c=a.getElementsByTagName("meta");for(let a=0;a<c.length;a++){let d=c[a],e=["itemprop","property","name"].map(a=>d.getAttribute(a)).filter(a=>!!a&&b.includes(a));if(e.length&&e){let a=d.getAttribute("content");if(a)return a}}return""}let f=((c=e("name","og:site_name","og:title","twitter:title"))||(c=a.title),c),g=e("description","og:description","twitter:description","keywords"),h=b.origin;return{description:g,url:h,icons:function(){let c=a.getElementsByTagName("link"),d=[];for(let a=0;a<c.length;a++){let e=c[a],f=e.getAttribute("rel");if(f&&f.toLowerCase().indexOf("icon")>-1){let a=e.getAttribute("href");if(a)if(-1===a.toLowerCase().indexOf("https:")&&-1===a.toLowerCase().indexOf("http:")&&0!==a.indexOf("//")){let c=b.protocol+"//"+b.host;if(0===a.indexOf("/"))c+=a;else{let d=b.pathname.split("/");d.pop(),c+=d.join("/")+"/"+a}d.push(c)}else if(0===a.indexOf("//")){let c=b.protocol+a;d.push(c)}else d.push(a)}}return d}(),name:f}}},99160,a=>{"use strict";var b=function(){for(var a=0,b=0,c=arguments.length;b<c;b++)a+=arguments[b].length;for(var d=Array(a),e=0,b=0;b<c;b++)for(var f=arguments[b],g=0,h=f.length;g<h;g++,e++)d[e]=f[g];return d},c=function(a,b,c){this.name=a,this.version=b,this.os=c,this.type="browser"},d=function(a){this.version=a,this.type="node",this.name="node",this.os=process.platform},e=function(a,b,c,d){this.name=a,this.version=b,this.os=c,this.bot=d,this.type="bot-device"},f=function(){this.type="bot",this.bot=!0,this.name="bot",this.version=null,this.os=null},g=function(){this.type="react-native",this.name="react-native",this.version=null,this.os=null},h=/(nuhk|Googlebot|Yammybot|Openbot|Slurp|MSNBot|Ask\ Jeeves\/Teoma|ia_archiver)/,i=[["aol",/AOLShield\/([0-9\._]+)/],["edge",/Edge\/([0-9\._]+)/],["edge-ios",/EdgiOS\/([0-9\._]+)/],["yandexbrowser",/YaBrowser\/([0-9\._]+)/],["kakaotalk",/KAKAOTALK\s([0-9\.]+)/],["samsung",/SamsungBrowser\/([0-9\.]+)/],["silk",/\bSilk\/([0-9._-]+)\b/],["miui",/MiuiBrowser\/([0-9\.]+)$/],["beaker",/BeakerBrowser\/([0-9\.]+)/],["edge-chromium",/EdgA?\/([0-9\.]+)/],["chromium-webview",/(?!Chrom.*OPR)wv\).*Chrom(?:e|ium)\/([0-9\.]+)(:?\s|$)/],["chrome",/(?!Chrom.*OPR)Chrom(?:e|ium)\/([0-9\.]+)(:?\s|$)/],["phantomjs",/PhantomJS\/([0-9\.]+)(:?\s|$)/],["crios",/CriOS\/([0-9\.]+)(:?\s|$)/],["firefox",/Firefox\/([0-9\.]+)(?:\s|$)/],["fxios",/FxiOS\/([0-9\.]+)/],["opera-mini",/Opera Mini.*Version\/([0-9\.]+)/],["opera",/Opera\/([0-9\.]+)(?:\s|$)/],["opera",/OPR\/([0-9\.]+)(:?\s|$)/],["ie",/Trident\/7\.0.*rv\:([0-9\.]+).*\).*Gecko$/],["ie",/MSIE\s([0-9\.]+);.*Trident\/[4-7].0/],["ie",/MSIE\s(7\.0)/],["bb10",/BB10;\sTouch.*Version\/([0-9\.]+)/],["android",/Android\s([0-9\.]+)/],["ios",/Version\/([0-9\._]+).*Mobile.*Safari.*/],["safari",/Version\/([0-9\._]+).*Safari/],["facebook",/FBAV\/([0-9\.]+)/],["instagram",/Instagram\s([0-9\.]+)/],["ios-webview",/AppleWebKit\/([0-9\.]+).*Mobile/],["ios-webview",/AppleWebKit\/([0-9\.]+).*Gecko\)$/],["searchbot",/alexa|bot|crawl(er|ing)|facebookexternalhit|feedburner|google web preview|nagios|postrank|pingdom|slurp|spider|yahoo!|yandex/]],j=[["iOS",/iP(hone|od|ad)/],["Android OS",/Android/],["BlackBerry OS",/BlackBerry|BB10/],["Windows Mobile",/IEMobile/],["Amazon OS",/Kindle/],["Windows 3.11",/Win16/],["Windows 95",/(Windows 95)|(Win95)|(Windows_95)/],["Windows 98",/(Windows 98)|(Win98)/],["Windows 2000",/(Windows NT 5.0)|(Windows 2000)/],["Windows XP",/(Windows NT 5.1)|(Windows XP)/],["Windows Server 2003",/(Windows NT 5.2)/],["Windows Vista",/(Windows NT 6.0)/],["Windows 7",/(Windows NT 6.1)/],["Windows 8",/(Windows NT 6.2)/],["Windows 8.1",/(Windows NT 6.3)/],["Windows 10",/(Windows NT 10.0)/],["Windows ME",/Windows ME/],["Open BSD",/OpenBSD/],["Sun OS",/SunOS/],["Chrome OS",/CrOS/],["Linux",/(Linux)|(X11)/],["Mac OS",/(Mac_PowerPC)|(Macintosh)/],["QNX",/QNX/],["BeOS",/BeOS/],["OS/2",/OS\/2/]];function k(a){return a?n(a):"undefined"==typeof document&&"undefined"!=typeof navigator&&"ReactNative"===navigator.product?new g:"undefined"!=typeof navigator?n(navigator.userAgent):p()}function l(a){return""!==a&&i.reduce(function(b,c){var d=c[0],e=c[1];if(b)return b;var f=e.exec(a);return!!f&&[d,f]},!1)}function m(a){var b=l(a);return b?b[0]:null}function n(a){var d=l(a);if(!d)return null;var g=d[0],i=d[1];if("searchbot"===g)return new f;var j=i[1]&&i[1].split(/[._]/).slice(0,3);j?j.length<3&&(j=b(j,function(a){for(var b=[],c=0;c<a;c++)b.push("0");return b}(3-j.length))):j=[];var k=j.join("."),m=o(a),n=h.exec(a);return n&&n[1]?new e(g,k,m,n[1]):new c(g,k,m)}function o(a){for(var b=0,c=j.length;b<c;b++){var d=j[b],e=d[0];if(d[1].exec(a))return e}return null}function p(){return"undefined"!=typeof process&&process.version?new d(process.version.slice(1)):null}a.s(["BotInfo",()=>f,"BrowserInfo",()=>c,"NodeInfo",()=>d,"ReactNativeInfo",()=>g,"SearchBotDeviceInfo",()=>e,"browserName",()=>m,"detect",()=>k,"detectOS",()=>o,"getNodeVersion",()=>p,"parseUserAgent",()=>n])},44190,(a,b,c)=>{"use strict";Object.defineProperty(c,"__esModule",{value:!0}),c.getClientMeta=c.getLocalStorage=c.getLocalStorageOrThrow=c.getCrypto=c.getCryptoOrThrow=c.getLocation=c.getLocationOrThrow=c.getNavigator=c.getNavigatorOrThrow=c.getDocument=c.getDocumentOrThrow=c.getFromWindowOrThrow=c.getFromWindow=c.isBrowser=c.isNode=c.isMobile=c.isIOS=c.isAndroid=c.detectOS=c.detectEnv=void 0;let d=a.r(17385),e=d.__importStar(a.r(81063)),f=d.__importStar(a.r(98589)),g=a.r(99160);function h(a){return(0,g.detect)(a)}function i(){let a=h();return a&&a.os?a.os:void 0}function j(){let a=i();return!!a&&a.toLowerCase().includes("android")}function k(){let a=i();return!!a&&(a.toLowerCase().includes("ios")||a.toLowerCase().includes("mac")&&navigator.maxTouchPoints>1)}function l(){let a=h();return!!a&&!!a.name&&"node"===a.name.toLowerCase()}c.detectEnv=h,c.detectOS=i,c.isAndroid=j,c.isIOS=k,c.isMobile=function(){return!!i()&&(j()||k())},c.isNode=l,c.isBrowser=function(){return!l()&&!!(0,c.getNavigator)()},c.getFromWindow=f.getFromWindow,c.getFromWindowOrThrow=f.getFromWindowOrThrow,c.getDocumentOrThrow=f.getDocumentOrThrow,c.getDocument=f.getDocument,c.getNavigatorOrThrow=f.getNavigatorOrThrow,c.getNavigator=f.getNavigator,c.getLocationOrThrow=f.getLocationOrThrow,c.getLocation=f.getLocation,c.getCryptoOrThrow=f.getCryptoOrThrow,c.getCrypto=f.getCrypto,c.getLocalStorageOrThrow=f.getLocalStorageOrThrow,c.getLocalStorage=f.getLocalStorage,c.getClientMeta=function(){return e.getWindowMetadata()}},4054,a=>{"use strict";function b(a){if("string"!=typeof a)throw Error(`Cannot safe json parse value of type ${typeof a}`);try{return JSON.parse(a)}catch(b){return a}}function c(a){return"string"==typeof a?a:JSON.stringify(a)}a.s(["safeJsonParse",()=>b,"safeJsonStringify",()=>c])},61731,(a,b,c)=>{"use strict";Object.defineProperty(c,"__esModule",{value:!0}),c.safeJsonStringify=c.safeJsonParse=void 0;let d=a.r(17385).__importStar(a.r(4054));c.safeJsonParse=d.safeJsonParse,c.safeJsonStringify=d.safeJsonStringify},17256,(a,b,c)=>{"use strict";Object.defineProperty(c,"__esModule",{value:!0}),c.removeLocal=c.getLocal=c.setLocal=void 0;let d=a.r(61731),e=a.r(44190);c.setLocal=function(a,b){let c=(0,d.safeJsonStringify)(b),f=(0,e.getLocalStorage)();f&&f.setItem(a,c)},c.getLocal=function(a){let b=null,c=(0,e.getLocalStorage)();return c&&(b=c.getItem(a)),b?(0,d.safeJsonParse)(b):b},c.removeLocal=function(a){let b=(0,e.getLocalStorage)();b&&b.removeItem(a)}},56478,(a,b,c)=>{"use strict";Object.defineProperty(c,"__esModule",{value:!0}),c.getMobileLinkRegistry=c.getMobileRegistryEntry=c.saveMobileLinkInfo=c.formatIOSMobile=c.mobileLinkChoiceKey=void 0;let d=a.r(17256);function e(a,b){return a.filter(a=>a.name.toLowerCase().includes(b.toLowerCase()))[0]}c.mobileLinkChoiceKey="WALLETCONNECT_DEEPLINK_CHOICE",c.formatIOSMobile=function(a,b){let c=encodeURIComponent(a);return b.universalLink?`${b.universalLink}/wc?uri=${c}`:b.deepLink?`${b.deepLink}${b.deepLink.endsWith(":")?"//":"/"}wc?uri=${c}`:""},c.saveMobileLinkInfo=function(a){let b=a.href.split("?")[0];(0,d.setLocal)(c.mobileLinkChoiceKey,Object.assign(Object.assign({},a),{href:b}))},c.getMobileRegistryEntry=e,c.getMobileLinkRegistry=function(a,b){let c=a;return b&&(c=b.map(b=>e(a,b)).filter(Boolean)),c}},36771,(a,b,c)=>{"use strict";Object.defineProperty(c,"__esModule",{value:!0}),c.formatMobileRegistry=c.formatMobileRegistryEntry=c.getDappRegistryUrl=c.getWalletRegistryUrl=void 0;let d="https://registry.walletconnect.com";function e(a,b="mobile"){var c;return{name:a.name||"",shortName:a.metadata.shortName||"",color:a.metadata.colors.primary||"",logo:null!=(c=a.image_url.sm)?c:"",universalLink:a[b].universal||"",deepLink:a[b].native||""}}c.getWalletRegistryUrl=function(){return d+"/api/v2/wallets"},c.getDappRegistryUrl=function(){return d+"/api/v2/dapps"},c.formatMobileRegistryEntry=e,c.formatMobileRegistry=function(a,b="mobile"){return Object.values(a).filter(a=>!!a[b].universal||!!a[b].native).map(a=>e(a,b))}},42481,(a,b,c)=>{"use strict";Object.defineProperty(c,"__esModule",{value:!0});let d=a.r(17385);d.__exportStar(a.r(44190),c),d.__exportStar(a.r(61731),c),d.__exportStar(a.r(17256),c),d.__exportStar(a.r(56478),c),d.__exportStar(a.r(36771),c)},31208,(a,b,c)=>{"use strict";Object.defineProperty(c,"__esModule",{value:!0}),c.infuraNetworks=c.stateMethods=c.signingMethods=c.reservedEvents=void 0,c.reservedEvents=["session_request","session_update","exchange_key","connect","disconnect","display_uri","modal_closed","transport_open","transport_close","transport_error"],c.signingMethods=["eth_sendTransaction","eth_signTransaction","eth_sign","eth_signTypedData","eth_signTypedData_v1","eth_signTypedData_v2","eth_signTypedData_v3","eth_signTypedData_v4","personal_sign","wallet_addEthereumChain","wallet_switchEthereumChain","wallet_getPermissions","wallet_requestPermissions","wallet_registerOnboarding","wallet_watchAsset","wallet_scanQRCode"],c.stateMethods=["eth_accounts","eth_chainId","net_version"],c.infuraNetworks={1:"mainnet",3:"ropsten",4:"rinkeby",5:"goerli",42:"kovan"}},874,(a,b,c)=>{b.exports=a.x("buffer",()=>require("buffer"))},80269,(a,b,c)=>{!function(b,c){"use strict";function d(a,b){if(!a)throw Error(b||"Assertion failed")}function e(a,b){a.super_=b;var c=function(){};c.prototype=b.prototype,a.prototype=new c,a.prototype.constructor=a}function f(a,b,c){if(f.isBN(a))return a;this.negative=0,this.words=null,this.length=0,this.red=null,null!==a&&(("le"===b||"be"===b)&&(c=b,b=10),this._init(a||0,b||10,c||"be"))}b.exports=f,f.BN=f,f.wordSize=26;try{i=a.r(874).Buffer}catch(a){}function g(a,b,c){for(var d=0,e=Math.min(a.length,c),f=b;f<e;f++){var g=a.charCodeAt(f)-48;d<<=4,g>=49&&g<=54?d|=g-49+10:g>=17&&g<=22?d|=g-17+10:d|=15&g}return d}function h(a,b,c,d){for(var e=0,f=Math.min(a.length,c),g=b;g<f;g++){var h=a.charCodeAt(g)-48;e*=d,h>=49?e+=h-49+10:h>=17?e+=h-17+10:e+=h}return e}f.isBN=function(a){return a instanceof f||null!==a&&"object"==typeof a&&a.constructor.wordSize===f.wordSize&&Array.isArray(a.words)},f.max=function(a,b){return a.cmp(b)>0?a:b},f.min=function(a,b){return 0>a.cmp(b)?a:b},f.prototype._init=function(a,b,c){if("number"==typeof a)return this._initNumber(a,b,c);if("object"==typeof a)return this._initArray(a,b,c);"hex"===b&&(b=16),d(b===(0|b)&&b>=2&&b<=36);var e=0;"-"===(a=a.toString().replace(/\s+/g,""))[0]&&e++,16===b?this._parseHex(a,e):this._parseBase(a,b,e),"-"===a[0]&&(this.negative=1),this.strip(),"le"===c&&this._initArray(this.toArray(),b,c)},f.prototype._initNumber=function(a,b,c){a<0&&(this.negative=1,a=-a),a<0x4000000?(this.words=[0x3ffffff&a],this.length=1):a<0x10000000000000?(this.words=[0x3ffffff&a,a/0x4000000&0x3ffffff],this.length=2):(d(a<0x20000000000000),this.words=[0x3ffffff&a,a/0x4000000&0x3ffffff,1],this.length=3),"le"===c&&this._initArray(this.toArray(),b,c)},f.prototype._initArray=function(a,b,c){if(d("number"==typeof a.length),a.length<=0)return this.words=[0],this.length=1,this;this.length=Math.ceil(a.length/3),this.words=Array(this.length);for(var e,f,g=0;g<this.length;g++)this.words[g]=0;var h=0;if("be"===c)for(g=a.length-1,e=0;g>=0;g-=3)f=a[g]|a[g-1]<<8|a[g-2]<<16,this.words[e]|=f<<h&0x3ffffff,this.words[e+1]=f>>>26-h&0x3ffffff,(h+=24)>=26&&(h-=26,e++);else if("le"===c)for(g=0,e=0;g<a.length;g+=3)f=a[g]|a[g+1]<<8|a[g+2]<<16,this.words[e]|=f<<h&0x3ffffff,this.words[e+1]=f>>>26-h&0x3ffffff,(h+=24)>=26&&(h-=26,e++);return this.strip()},f.prototype._parseHex=function(a,b){this.length=Math.ceil((a.length-b)/6),this.words=Array(this.length);for(var c,d,e=0;e<this.length;e++)this.words[e]=0;var f=0;for(e=a.length-6,c=0;e>=b;e-=6)d=g(a,e,e+6),this.words[c]|=d<<f&0x3ffffff,this.words[c+1]|=d>>>26-f&4194303,(f+=24)>=26&&(f-=26,c++);e+6!==b&&(d=g(a,b,e+6),this.words[c]|=d<<f&0x3ffffff,this.words[c+1]|=d>>>26-f&4194303),this.strip()},f.prototype._parseBase=function(a,b,c){this.words=[0],this.length=1;for(var d=0,e=1;e<=0x3ffffff;e*=b)d++;d--,e=e/b|0;for(var f=a.length-c,g=f%d,i=Math.min(f,f-g)+c,j=0,k=c;k<i;k+=d)j=h(a,k,k+d,b),this.imuln(e),this.words[0]+j<0x4000000?this.words[0]+=j:this._iaddn(j);if(0!==g){var l=1;for(j=h(a,k,a.length,b),k=0;k<g;k++)l*=b;this.imuln(l),this.words[0]+j<0x4000000?this.words[0]+=j:this._iaddn(j)}},f.prototype.copy=function(a){a.words=Array(this.length);for(var b=0;b<this.length;b++)a.words[b]=this.words[b];a.length=this.length,a.negative=this.negative,a.red=this.red},f.prototype.clone=function(){var a=new f(null);return this.copy(a),a},f.prototype._expand=function(a){for(;this.length<a;)this.words[this.length++]=0;return this},f.prototype.strip=function(){for(;this.length>1&&0===this.words[this.length-1];)this.length--;return this._normSign()},f.prototype._normSign=function(){return 1===this.length&&0===this.words[0]&&(this.negative=0),this},f.prototype.inspect=function(){return(this.red?"<BN-R: ":"<BN: ")+this.toString(16)+">"};var i,j=["","0","00","000","0000","00000","000000","0000000","00000000","000000000","0000000000","00000000000","000000000000","0000000000000","00000000000000","000000000000000","0000000000000000","00000000000000000","000000000000000000","0000000000000000000","00000000000000000000","000000000000000000000","0000000000000000000000","00000000000000000000000","000000000000000000000000","0000000000000000000000000"],k=[0,0,25,16,12,11,10,9,8,8,7,7,7,7,6,6,6,6,6,6,6,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5],l=[0,0,0x2000000,0x290d741,0x1000000,0x2e90edd,0x39aa400,0x267bf47,0x1000000,0x290d741,1e7,0x12959c3,0x222c000,0x3bd7765,7529536,0xadcea1,0x1000000,0x1704f61,0x206fc40,0x2cddcf9,64e6,4084101,5153632,6436343,7962624,9765625,0xb54ba0,0xdaf26b,0x1069c00,0x138f9ad,243e5,0x1b4d89f,0x2000000,0x25528a1,0x2b54a20,0x3216b93,0x39aa400];function m(a,b,c){c.negative=b.negative^a.negative;var d=a.length+b.length|0;c.length=d,d=d-1|0;var e=0|a.words[0],f=0|b.words[0],g=e*f,h=0x3ffffff&g,i=g/0x4000000|0;c.words[0]=h;for(var j=1;j<d;j++){for(var k=i>>>26,l=0x3ffffff&i,m=Math.min(j,b.length-1),n=Math.max(0,j-a.length+1);n<=m;n++){var o=j-n|0;k+=(g=(e=0|a.words[o])*(f=0|b.words[n])+l)/0x4000000|0,l=0x3ffffff&g}c.words[j]=0|l,i=0|k}return 0!==i?c.words[j]=0|i:c.length--,c.strip()}f.prototype.toString=function(a,b){if(b=0|b||1,16===(a=a||10)||"hex"===a){for(var c="",e=0,f=0,g=0;g<this.length;g++){var h=this.words[g],i=((h<<e|f)&0xffffff).toString(16);c=0!=(f=h>>>24-e&0xffffff)||g!==this.length-1?j[6-i.length]+i+c:i+c,(e+=2)>=26&&(e-=26,g--)}for(0!==f&&(c=f.toString(16)+c);c.length%b!=0;)c="0"+c;return 0!==this.negative&&(c="-"+c),c}if(a===(0|a)&&a>=2&&a<=36){var m=k[a],n=l[a];c="";var o=this.clone();for(o.negative=0;!o.isZero();){var p=o.modn(n).toString(a);c=(o=o.idivn(n)).isZero()?p+c:j[m-p.length]+p+c}for(this.isZero()&&(c="0"+c);c.length%b!=0;)c="0"+c;return 0!==this.negative&&(c="-"+c),c}d(!1,"Base should be between 2 and 36")},f.prototype.toNumber=function(){var a=this.words[0];return 2===this.length?a+=0x4000000*this.words[1]:3===this.length&&1===this.words[2]?a+=0x10000000000000+0x4000000*this.words[1]:this.length>2&&d(!1,"Number can only safely store up to 53 bits"),0!==this.negative?-a:a},f.prototype.toJSON=function(){return this.toString(16)},f.prototype.toBuffer=function(a,b){return d(void 0!==i),this.toArrayLike(i,a,b)},f.prototype.toArray=function(a,b){return this.toArrayLike(Array,a,b)},f.prototype.toArrayLike=function(a,b,c){var e,f,g=this.byteLength(),h=c||Math.max(1,g);d(g<=h,"byte array longer than desired length"),d(h>0,"Requested array length <= 0"),this.strip();var i=new a(h),j=this.clone();if("le"===b){for(f=0;!j.isZero();f++)e=j.andln(255),j.iushrn(8),i[f]=e;for(;f<h;f++)i[f]=0}else{for(f=0;f<h-g;f++)i[f]=0;for(f=0;!j.isZero();f++)e=j.andln(255),j.iushrn(8),i[h-f-1]=e}return i},Math.clz32?f.prototype._countBits=function(a){return 32-Math.clz32(a)}:f.prototype._countBits=function(a){var b=a,c=0;return b>=4096&&(c+=13,b>>>=13),b>=64&&(c+=7,b>>>=7),b>=8&&(c+=4,b>>>=4),b>=2&&(c+=2,b>>>=2),c+b},f.prototype._zeroBits=function(a){if(0===a)return 26;var b=a,c=0;return(8191&b)==0&&(c+=13,b>>>=13),(127&b)==0&&(c+=7,b>>>=7),(15&b)==0&&(c+=4,b>>>=4),(3&b)==0&&(c+=2,b>>>=2),(1&b)==0&&c++,c},f.prototype.bitLength=function(){var a=this.words[this.length-1],b=this._countBits(a);return(this.length-1)*26+b},f.prototype.zeroBits=function(){if(this.isZero())return 0;for(var a=0,b=0;b<this.length;b++){var c=this._zeroBits(this.words[b]);if(a+=c,26!==c)break}return a},f.prototype.byteLength=function(){return Math.ceil(this.bitLength()/8)},f.prototype.toTwos=function(a){return 0!==this.negative?this.abs().inotn(a).iaddn(1):this.clone()},f.prototype.fromTwos=function(a){return this.testn(a-1)?this.notn(a).iaddn(1).ineg():this.clone()},f.prototype.isNeg=function(){return 0!==this.negative},f.prototype.neg=function(){return this.clone().ineg()},f.prototype.ineg=function(){return this.isZero()||(this.negative^=1),this},f.prototype.iuor=function(a){for(;this.length<a.length;)this.words[this.length++]=0;for(var b=0;b<a.length;b++)this.words[b]=this.words[b]|a.words[b];return this.strip()},f.prototype.ior=function(a){return d((this.negative|a.negative)==0),this.iuor(a)},f.prototype.or=function(a){return this.length>a.length?this.clone().ior(a):a.clone().ior(this)},f.prototype.uor=function(a){return this.length>a.length?this.clone().iuor(a):a.clone().iuor(this)},f.prototype.iuand=function(a){var b;b=this.length>a.length?a:this;for(var c=0;c<b.length;c++)this.words[c]=this.words[c]&a.words[c];return this.length=b.length,this.strip()},f.prototype.iand=function(a){return d((this.negative|a.negative)==0),this.iuand(a)},f.prototype.and=function(a){return this.length>a.length?this.clone().iand(a):a.clone().iand(this)},f.prototype.uand=function(a){return this.length>a.length?this.clone().iuand(a):a.clone().iuand(this)},f.prototype.iuxor=function(a){this.length>a.length?(b=this,c=a):(b=a,c=this);for(var b,c,d=0;d<c.length;d++)this.words[d]=b.words[d]^c.words[d];if(this!==b)for(;d<b.length;d++)this.words[d]=b.words[d];return this.length=b.length,this.strip()},f.prototype.ixor=function(a){return d((this.negative|a.negative)==0),this.iuxor(a)},f.prototype.xor=function(a){return this.length>a.length?this.clone().ixor(a):a.clone().ixor(this)},f.prototype.uxor=function(a){return this.length>a.length?this.clone().iuxor(a):a.clone().iuxor(this)},f.prototype.inotn=function(a){d("number"==typeof a&&a>=0);var b=0|Math.ceil(a/26),c=a%26;this._expand(b),c>0&&b--;for(var e=0;e<b;e++)this.words[e]=0x3ffffff&~this.words[e];return c>0&&(this.words[e]=~this.words[e]&0x3ffffff>>26-c),this.strip()},f.prototype.notn=function(a){return this.clone().inotn(a)},f.prototype.setn=function(a,b){d("number"==typeof a&&a>=0);var c=a/26|0,e=a%26;return this._expand(c+1),b?this.words[c]=this.words[c]|1<<e:this.words[c]=this.words[c]&~(1<<e),this.strip()},f.prototype.iadd=function(a){if(0!==this.negative&&0===a.negative)return this.negative=0,b=this.isub(a),this.negative^=1,this._normSign();if(0===this.negative&&0!==a.negative)return a.negative=0,b=this.isub(a),a.negative=1,b._normSign();this.length>a.length?(c=this,d=a):(c=a,d=this);for(var b,c,d,e=0,f=0;f<d.length;f++)b=(0|c.words[f])+(0|d.words[f])+e,this.words[f]=0x3ffffff&b,e=b>>>26;for(;0!==e&&f<c.length;f++)b=(0|c.words[f])+e,this.words[f]=0x3ffffff&b,e=b>>>26;if(this.length=c.length,0!==e)this.words[this.length]=e,this.length++;else if(c!==this)for(;f<c.length;f++)this.words[f]=c.words[f];return this},f.prototype.add=function(a){var b;return 0!==a.negative&&0===this.negative?(a.negative=0,b=this.sub(a),a.negative^=1,b):0===a.negative&&0!==this.negative?(this.negative=0,b=a.sub(this),this.negative=1,b):this.length>a.length?this.clone().iadd(a):a.clone().iadd(this)},f.prototype.isub=function(a){if(0!==a.negative){a.negative=0;var b,c,d=this.iadd(a);return a.negative=1,d._normSign()}if(0!==this.negative)return this.negative=0,this.iadd(a),this.negative=1,this._normSign();var e=this.cmp(a);if(0===e)return this.negative=0,this.length=1,this.words[0]=0,this;e>0?(b=this,c=a):(b=a,c=this);for(var f=0,g=0;g<c.length;g++)f=(d=(0|b.words[g])-(0|c.words[g])+f)>>26,this.words[g]=0x3ffffff&d;for(;0!==f&&g<b.length;g++)f=(d=(0|b.words[g])+f)>>26,this.words[g]=0x3ffffff&d;if(0===f&&g<b.length&&b!==this)for(;g<b.length;g++)this.words[g]=b.words[g];return this.length=Math.max(this.length,g),b!==this&&(this.negative=1),this.strip()},f.prototype.sub=function(a){return this.clone().isub(a)};var n=function(a,b,c){var d,e,f,g=a.words,h=b.words,i=c.words,j=0,k=0|g[0],l=8191&k,m=k>>>13,n=0|g[1],o=8191&n,p=n>>>13,q=0|g[2],r=8191&q,s=q>>>13,t=0|g[3],u=8191&t,v=t>>>13,w=0|g[4],x=8191&w,y=w>>>13,z=0|g[5],A=8191&z,B=z>>>13,C=0|g[6],D=8191&C,E=C>>>13,F=0|g[7],G=8191&F,H=F>>>13,I=0|g[8],J=8191&I,K=I>>>13,L=0|g[9],M=8191&L,N=L>>>13,O=0|h[0],P=8191&O,Q=O>>>13,R=0|h[1],S=8191&R,T=R>>>13,U=0|h[2],V=8191&U,W=U>>>13,X=0|h[3],Y=8191&X,Z=X>>>13,$=0|h[4],_=8191&$,aa=$>>>13,ab=0|h[5],ac=8191&ab,ad=ab>>>13,ae=0|h[6],af=8191&ae,ag=ae>>>13,ah=0|h[7],ai=8191&ah,aj=ah>>>13,ak=0|h[8],al=8191&ak,am=ak>>>13,an=0|h[9],ao=8191&an,ap=an>>>13;c.negative=a.negative^b.negative,c.length=19,d=Math.imul(l,P);var aq=(j+d|0)+((8191&(e=(e=Math.imul(l,Q))+Math.imul(m,P)|0))<<13)|0;j=((f=Math.imul(m,Q))+(e>>>13)|0)+(aq>>>26)|0,aq&=0x3ffffff,d=Math.imul(o,P),e=(e=Math.imul(o,Q))+Math.imul(p,P)|0,f=Math.imul(p,Q),d=d+Math.imul(l,S)|0;var ar=(j+d|0)+((8191&(e=(e=e+Math.imul(l,T)|0)+Math.imul(m,S)|0))<<13)|0;j=((f=f+Math.imul(m,T)|0)+(e>>>13)|0)+(ar>>>26)|0,ar&=0x3ffffff,d=Math.imul(r,P),e=(e=Math.imul(r,Q))+Math.imul(s,P)|0,f=Math.imul(s,Q),d=d+Math.imul(o,S)|0,e=(e=e+Math.imul(o,T)|0)+Math.imul(p,S)|0,f=f+Math.imul(p,T)|0,d=d+Math.imul(l,V)|0;var as=(j+d|0)+((8191&(e=(e=e+Math.imul(l,W)|0)+Math.imul(m,V)|0))<<13)|0;j=((f=f+Math.imul(m,W)|0)+(e>>>13)|0)+(as>>>26)|0,as&=0x3ffffff,d=Math.imul(u,P),e=(e=Math.imul(u,Q))+Math.imul(v,P)|0,f=Math.imul(v,Q),d=d+Math.imul(r,S)|0,e=(e=e+Math.imul(r,T)|0)+Math.imul(s,S)|0,f=f+Math.imul(s,T)|0,d=d+Math.imul(o,V)|0,e=(e=e+Math.imul(o,W)|0)+Math.imul(p,V)|0,f=f+Math.imul(p,W)|0,d=d+Math.imul(l,Y)|0;var at=(j+d|0)+((8191&(e=(e=e+Math.imul(l,Z)|0)+Math.imul(m,Y)|0))<<13)|0;j=((f=f+Math.imul(m,Z)|0)+(e>>>13)|0)+(at>>>26)|0,at&=0x3ffffff,d=Math.imul(x,P),e=(e=Math.imul(x,Q))+Math.imul(y,P)|0,f=Math.imul(y,Q),d=d+Math.imul(u,S)|0,e=(e=e+Math.imul(u,T)|0)+Math.imul(v,S)|0,f=f+Math.imul(v,T)|0,d=d+Math.imul(r,V)|0,e=(e=e+Math.imul(r,W)|0)+Math.imul(s,V)|0,f=f+Math.imul(s,W)|0,d=d+Math.imul(o,Y)|0,e=(e=e+Math.imul(o,Z)|0)+Math.imul(p,Y)|0,f=f+Math.imul(p,Z)|0,d=d+Math.imul(l,_)|0;var au=(j+d|0)+((8191&(e=(e=e+Math.imul(l,aa)|0)+Math.imul(m,_)|0))<<13)|0;j=((f=f+Math.imul(m,aa)|0)+(e>>>13)|0)+(au>>>26)|0,au&=0x3ffffff,d=Math.imul(A,P),e=(e=Math.imul(A,Q))+Math.imul(B,P)|0,f=Math.imul(B,Q),d=d+Math.imul(x,S)|0,e=(e=e+Math.imul(x,T)|0)+Math.imul(y,S)|0,f=f+Math.imul(y,T)|0,d=d+Math.imul(u,V)|0,e=(e=e+Math.imul(u,W)|0)+Math.imul(v,V)|0,f=f+Math.imul(v,W)|0,d=d+Math.imul(r,Y)|0,e=(e=e+Math.imul(r,Z)|0)+Math.imul(s,Y)|0,f=f+Math.imul(s,Z)|0,d=d+Math.imul(o,_)|0,e=(e=e+Math.imul(o,aa)|0)+Math.imul(p,_)|0,f=f+Math.imul(p,aa)|0,d=d+Math.imul(l,ac)|0;var av=(j+d|0)+((8191&(e=(e=e+Math.imul(l,ad)|0)+Math.imul(m,ac)|0))<<13)|0;j=((f=f+Math.imul(m,ad)|0)+(e>>>13)|0)+(av>>>26)|0,av&=0x3ffffff,d=Math.imul(D,P),e=(e=Math.imul(D,Q))+Math.imul(E,P)|0,f=Math.imul(E,Q),d=d+Math.imul(A,S)|0,e=(e=e+Math.imul(A,T)|0)+Math.imul(B,S)|0,f=f+Math.imul(B,T)|0,d=d+Math.imul(x,V)|0,e=(e=e+Math.imul(x,W)|0)+Math.imul(y,V)|0,f=f+Math.imul(y,W)|0,d=d+Math.imul(u,Y)|0,e=(e=e+Math.imul(u,Z)|0)+Math.imul(v,Y)|0,f=f+Math.imul(v,Z)|0,d=d+Math.imul(r,_)|0,e=(e=e+Math.imul(r,aa)|0)+Math.imul(s,_)|0,f=f+Math.imul(s,aa)|0,d=d+Math.imul(o,ac)|0,e=(e=e+Math.imul(o,ad)|0)+Math.imul(p,ac)|0,f=f+Math.imul(p,ad)|0,d=d+Math.imul(l,af)|0;var aw=(j+d|0)+((8191&(e=(e=e+Math.imul(l,ag)|0)+Math.imul(m,af)|0))<<13)|0;j=((f=f+Math.imul(m,ag)|0)+(e>>>13)|0)+(aw>>>26)|0,aw&=0x3ffffff,d=Math.imul(G,P),e=(e=Math.imul(G,Q))+Math.imul(H,P)|0,f=Math.imul(H,Q),d=d+Math.imul(D,S)|0,e=(e=e+Math.imul(D,T)|0)+Math.imul(E,S)|0,f=f+Math.imul(E,T)|0,d=d+Math.imul(A,V)|0,e=(e=e+Math.imul(A,W)|0)+Math.imul(B,V)|0,f=f+Math.imul(B,W)|0,d=d+Math.imul(x,Y)|0,e=(e=e+Math.imul(x,Z)|0)+Math.imul(y,Y)|0,f=f+Math.imul(y,Z)|0,d=d+Math.imul(u,_)|0,e=(e=e+Math.imul(u,aa)|0)+Math.imul(v,_)|0,f=f+Math.imul(v,aa)|0,d=d+Math.imul(r,ac)|0,e=(e=e+Math.imul(r,ad)|0)+Math.imul(s,ac)|0,f=f+Math.imul(s,ad)|0,d=d+Math.imul(o,af)|0,e=(e=e+Math.imul(o,ag)|0)+Math.imul(p,af)|0,f=f+Math.imul(p,ag)|0,d=d+Math.imul(l,ai)|0;var ax=(j+d|0)+((8191&(e=(e=e+Math.imul(l,aj)|0)+Math.imul(m,ai)|0))<<13)|0;j=((f=f+Math.imul(m,aj)|0)+(e>>>13)|0)+(ax>>>26)|0,ax&=0x3ffffff,d=Math.imul(J,P),e=(e=Math.imul(J,Q))+Math.imul(K,P)|0,f=Math.imul(K,Q),d=d+Math.imul(G,S)|0,e=(e=e+Math.imul(G,T)|0)+Math.imul(H,S)|0,f=f+Math.imul(H,T)|0,d=d+Math.imul(D,V)|0,e=(e=e+Math.imul(D,W)|0)+Math.imul(E,V)|0,f=f+Math.imul(E,W)|0,d=d+Math.imul(A,Y)|0,e=(e=e+Math.imul(A,Z)|0)+Math.imul(B,Y)|0,f=f+Math.imul(B,Z)|0,d=d+Math.imul(x,_)|0,e=(e=e+Math.imul(x,aa)|0)+Math.imul(y,_)|0,f=f+Math.imul(y,aa)|0,d=d+Math.imul(u,ac)|0,e=(e=e+Math.imul(u,ad)|0)+Math.imul(v,ac)|0,f=f+Math.imul(v,ad)|0,d=d+Math.imul(r,af)|0,e=(e=e+Math.imul(r,ag)|0)+Math.imul(s,af)|0,f=f+Math.imul(s,ag)|0,d=d+Math.imul(o,ai)|0,e=(e=e+Math.imul(o,aj)|0)+Math.imul(p,ai)|0,f=f+Math.imul(p,aj)|0,d=d+Math.imul(l,al)|0;var ay=(j+d|0)+((8191&(e=(e=e+Math.imul(l,am)|0)+Math.imul(m,al)|0))<<13)|0;j=((f=f+Math.imul(m,am)|0)+(e>>>13)|0)+(ay>>>26)|0,ay&=0x3ffffff,d=Math.imul(M,P),e=(e=Math.imul(M,Q))+Math.imul(N,P)|0,f=Math.imul(N,Q),d=d+Math.imul(J,S)|0,e=(e=e+Math.imul(J,T)|0)+Math.imul(K,S)|0,f=f+Math.imul(K,T)|0,d=d+Math.imul(G,V)|0,e=(e=e+Math.imul(G,W)|0)+Math.imul(H,V)|0,f=f+Math.imul(H,W)|0,d=d+Math.imul(D,Y)|0,e=(e=e+Math.imul(D,Z)|0)+Math.imul(E,Y)|0,f=f+Math.imul(E,Z)|0,d=d+Math.imul(A,_)|0,e=(e=e+Math.imul(A,aa)|0)+Math.imul(B,_)|0,f=f+Math.imul(B,aa)|0,d=d+Math.imul(x,ac)|0,e=(e=e+Math.imul(x,ad)|0)+Math.imul(y,ac)|0,f=f+Math.imul(y,ad)|0,d=d+Math.imul(u,af)|0,e=(e=e+Math.imul(u,ag)|0)+Math.imul(v,af)|0,f=f+Math.imul(v,ag)|0,d=d+Math.imul(r,ai)|0,e=(e=e+Math.imul(r,aj)|0)+Math.imul(s,ai)|0,f=f+Math.imul(s,aj)|0,d=d+Math.imul(o,al)|0,e=(e=e+Math.imul(o,am)|0)+Math.imul(p,al)|0,f=f+Math.imul(p,am)|0,d=d+Math.imul(l,ao)|0;var az=(j+d|0)+((8191&(e=(e=e+Math.imul(l,ap)|0)+Math.imul(m,ao)|0))<<13)|0;j=((f=f+Math.imul(m,ap)|0)+(e>>>13)|0)+(az>>>26)|0,az&=0x3ffffff,d=Math.imul(M,S),e=(e=Math.imul(M,T))+Math.imul(N,S)|0,f=Math.imul(N,T),d=d+Math.imul(J,V)|0,e=(e=e+Math.imul(J,W)|0)+Math.imul(K,V)|0,f=f+Math.imul(K,W)|0,d=d+Math.imul(G,Y)|0,e=(e=e+Math.imul(G,Z)|0)+Math.imul(H,Y)|0,f=f+Math.imul(H,Z)|0,d=d+Math.imul(D,_)|0,e=(e=e+Math.imul(D,aa)|0)+Math.imul(E,_)|0,f=f+Math.imul(E,aa)|0,d=d+Math.imul(A,ac)|0,e=(e=e+Math.imul(A,ad)|0)+Math.imul(B,ac)|0,f=f+Math.imul(B,ad)|0,d=d+Math.imul(x,af)|0,e=(e=e+Math.imul(x,ag)|0)+Math.imul(y,af)|0,f=f+Math.imul(y,ag)|0,d=d+Math.imul(u,ai)|0,e=(e=e+Math.imul(u,aj)|0)+Math.imul(v,ai)|0,f=f+Math.imul(v,aj)|0,d=d+Math.imul(r,al)|0,e=(e=e+Math.imul(r,am)|0)+Math.imul(s,al)|0,f=f+Math.imul(s,am)|0,d=d+Math.imul(o,ao)|0;var aA=(j+d|0)+((8191&(e=(e=e+Math.imul(o,ap)|0)+Math.imul(p,ao)|0))<<13)|0;j=((f=f+Math.imul(p,ap)|0)+(e>>>13)|0)+(aA>>>26)|0,aA&=0x3ffffff,d=Math.imul(M,V),e=(e=Math.imul(M,W))+Math.imul(N,V)|0,f=Math.imul(N,W),d=d+Math.imul(J,Y)|0,e=(e=e+Math.imul(J,Z)|0)+Math.imul(K,Y)|0,f=f+Math.imul(K,Z)|0,d=d+Math.imul(G,_)|0,e=(e=e+Math.imul(G,aa)|0)+Math.imul(H,_)|0,f=f+Math.imul(H,aa)|0,d=d+Math.imul(D,ac)|0,e=(e=e+Math.imul(D,ad)|0)+Math.imul(E,ac)|0,f=f+Math.imul(E,ad)|0,d=d+Math.imul(A,af)|0,e=(e=e+Math.imul(A,ag)|0)+Math.imul(B,af)|0,f=f+Math.imul(B,ag)|0,d=d+Math.imul(x,ai)|0,e=(e=e+Math.imul(x,aj)|0)+Math.imul(y,ai)|0,f=f+Math.imul(y,aj)|0,d=d+Math.imul(u,al)|0,e=(e=e+Math.imul(u,am)|0)+Math.imul(v,al)|0,f=f+Math.imul(v,am)|0,d=d+Math.imul(r,ao)|0;var aB=(j+d|0)+((8191&(e=(e=e+Math.imul(r,ap)|0)+Math.imul(s,ao)|0))<<13)|0;j=((f=f+Math.imul(s,ap)|0)+(e>>>13)|0)+(aB>>>26)|0,aB&=0x3ffffff,d=Math.imul(M,Y),e=(e=Math.imul(M,Z))+Math.imul(N,Y)|0,f=Math.imul(N,Z),d=d+Math.imul(J,_)|0,e=(e=e+Math.imul(J,aa)|0)+Math.imul(K,_)|0,f=f+Math.imul(K,aa)|0,d=d+Math.imul(G,ac)|0,e=(e=e+Math.imul(G,ad)|0)+Math.imul(H,ac)|0,f=f+Math.imul(H,ad)|0,d=d+Math.imul(D,af)|0,e=(e=e+Math.imul(D,ag)|0)+Math.imul(E,af)|0,f=f+Math.imul(E,ag)|0,d=d+Math.imul(A,ai)|0,e=(e=e+Math.imul(A,aj)|0)+Math.imul(B,ai)|0,f=f+Math.imul(B,aj)|0,d=d+Math.imul(x,al)|0,e=(e=e+Math.imul(x,am)|0)+Math.imul(y,al)|0,f=f+Math.imul(y,am)|0,d=d+Math.imul(u,ao)|0;var aC=(j+d|0)+((8191&(e=(e=e+Math.imul(u,ap)|0)+Math.imul(v,ao)|0))<<13)|0;j=((f=f+Math.imul(v,ap)|0)+(e>>>13)|0)+(aC>>>26)|0,aC&=0x3ffffff,d=Math.imul(M,_),e=(e=Math.imul(M,aa))+Math.imul(N,_)|0,f=Math.imul(N,aa),d=d+Math.imul(J,ac)|0,e=(e=e+Math.imul(J,ad)|0)+Math.imul(K,ac)|0,f=f+Math.imul(K,ad)|0,d=d+Math.imul(G,af)|0,e=(e=e+Math.imul(G,ag)|0)+Math.imul(H,af)|0,f=f+Math.imul(H,ag)|0,d=d+Math.imul(D,ai)|0,e=(e=e+Math.imul(D,aj)|0)+Math.imul(E,ai)|0,f=f+Math.imul(E,aj)|0,d=d+Math.imul(A,al)|0,e=(e=e+Math.imul(A,am)|0)+Math.imul(B,al)|0,f=f+Math.imul(B,am)|0,d=d+Math.imul(x,ao)|0;var aD=(j+d|0)+((8191&(e=(e=e+Math.imul(x,ap)|0)+Math.imul(y,ao)|0))<<13)|0;j=((f=f+Math.imul(y,ap)|0)+(e>>>13)|0)+(aD>>>26)|0,aD&=0x3ffffff,d=Math.imul(M,ac),e=(e=Math.imul(M,ad))+Math.imul(N,ac)|0,f=Math.imul(N,ad),d=d+Math.imul(J,af)|0,e=(e=e+Math.imul(J,ag)|0)+Math.imul(K,af)|0,f=f+Math.imul(K,ag)|0,d=d+Math.imul(G,ai)|0,e=(e=e+Math.imul(G,aj)|0)+Math.imul(H,ai)|0,f=f+Math.imul(H,aj)|0,d=d+Math.imul(D,al)|0,e=(e=e+Math.imul(D,am)|0)+Math.imul(E,al)|0,f=f+Math.imul(E,am)|0,d=d+Math.imul(A,ao)|0;var aE=(j+d|0)+((8191&(e=(e=e+Math.imul(A,ap)|0)+Math.imul(B,ao)|0))<<13)|0;j=((f=f+Math.imul(B,ap)|0)+(e>>>13)|0)+(aE>>>26)|0,aE&=0x3ffffff,d=Math.imul(M,af),e=(e=Math.imul(M,ag))+Math.imul(N,af)|0,f=Math.imul(N,ag),d=d+Math.imul(J,ai)|0,e=(e=e+Math.imul(J,aj)|0)+Math.imul(K,ai)|0,f=f+Math.imul(K,aj)|0,d=d+Math.imul(G,al)|0,e=(e=e+Math.imul(G,am)|0)+Math.imul(H,al)|0,f=f+Math.imul(H,am)|0,d=d+Math.imul(D,ao)|0;var aF=(j+d|0)+((8191&(e=(e=e+Math.imul(D,ap)|0)+Math.imul(E,ao)|0))<<13)|0;j=((f=f+Math.imul(E,ap)|0)+(e>>>13)|0)+(aF>>>26)|0,aF&=0x3ffffff,d=Math.imul(M,ai),e=(e=Math.imul(M,aj))+Math.imul(N,ai)|0,f=Math.imul(N,aj),d=d+Math.imul(J,al)|0,e=(e=e+Math.imul(J,am)|0)+Math.imul(K,al)|0,f=f+Math.imul(K,am)|0,d=d+Math.imul(G,ao)|0;var aG=(j+d|0)+((8191&(e=(e=e+Math.imul(G,ap)|0)+Math.imul(H,ao)|0))<<13)|0;j=((f=f+Math.imul(H,ap)|0)+(e>>>13)|0)+(aG>>>26)|0,aG&=0x3ffffff,d=Math.imul(M,al),e=(e=Math.imul(M,am))+Math.imul(N,al)|0,f=Math.imul(N,am),d=d+Math.imul(J,ao)|0;var aH=(j+d|0)+((8191&(e=(e=e+Math.imul(J,ap)|0)+Math.imul(K,ao)|0))<<13)|0;j=((f=f+Math.imul(K,ap)|0)+(e>>>13)|0)+(aH>>>26)|0,aH&=0x3ffffff,d=Math.imul(M,ao);var aI=(j+d|0)+((8191&(e=(e=Math.imul(M,ap))+Math.imul(N,ao)|0))<<13)|0;return j=((f=Math.imul(N,ap))+(e>>>13)|0)+(aI>>>26)|0,aI&=0x3ffffff,i[0]=aq,i[1]=ar,i[2]=as,i[3]=at,i[4]=au,i[5]=av,i[6]=aw,i[7]=ax,i[8]=ay,i[9]=az,i[10]=aA,i[11]=aB,i[12]=aC,i[13]=aD,i[14]=aE,i[15]=aF,i[16]=aG,i[17]=aH,i[18]=aI,0!==j&&(i[19]=j,c.length++),c};function o(a,b,c){return new p().mulp(a,b,c)}function p(a,b){this.x=a,this.y=b}Math.imul||(n=m),f.prototype.mulTo=function(a,b){var c=this.length+a.length;return 10===this.length&&10===a.length?n(this,a,b):c<63?m(this,a,b):c<1024?function(a,b,c){c.negative=b.negative^a.negative,c.length=a.length+b.length;for(var d=0,e=0,f=0;f<c.length-1;f++){var g=e;e=0;for(var h=0x3ffffff&d,i=Math.min(f,b.length-1),j=Math.max(0,f-a.length+1);j<=i;j++){var k=f-j,l=(0|a.words[k])*(0|b.words[j]),m=0x3ffffff&l;g=g+(l/0x4000000|0)|0,h=0x3ffffff&(m=m+h|0),e+=(g=g+(m>>>26)|0)>>>26,g&=0x3ffffff}c.words[f]=h,d=g,g=e}return 0!==d?c.words[f]=d:c.length--,c.strip()}(this,a,b):o(this,a,b)},p.prototype.makeRBT=function(a){for(var b=Array(a),c=f.prototype._countBits(a)-1,d=0;d<a;d++)b[d]=this.revBin(d,c,a);return b},p.prototype.revBin=function(a,b,c){if(0===a||a===c-1)return a;for(var d=0,e=0;e<b;e++)d|=(1&a)<<b-e-1,a>>=1;return d},p.prototype.permute=function(a,b,c,d,e,f){for(var g=0;g<f;g++)d[g]=b[a[g]],e[g]=c[a[g]]},p.prototype.transform=function(a,b,c,d,e,f){this.permute(f,a,b,c,d,e);for(var g=1;g<e;g<<=1)for(var h=g<<1,i=Math.cos(2*Math.PI/h),j=Math.sin(2*Math.PI/h),k=0;k<e;k+=h)for(var l=i,m=j,n=0;n<g;n++){var o=c[k+n],p=d[k+n],q=c[k+n+g],r=d[k+n+g],s=l*q-m*r;r=l*r+m*q,q=s,c[k+n]=o+q,d[k+n]=p+r,c[k+n+g]=o-q,d[k+n+g]=p-r,n!==h&&(s=i*l-j*m,m=i*m+j*l,l=s)}},p.prototype.guessLen13b=function(a,b){var c=1|Math.max(b,a),d=1&c,e=0;for(c=c/2|0;c;c>>>=1)e++;return 1<<e+1+d},p.prototype.conjugate=function(a,b,c){if(!(c<=1))for(var d=0;d<c/2;d++){var e=a[d];a[d]=a[c-d-1],a[c-d-1]=e,e=b[d],b[d]=-b[c-d-1],b[c-d-1]=-e}},p.prototype.normalize13b=function(a,b){for(var c=0,d=0;d<b/2;d++){var e=8192*Math.round(a[2*d+1]/b)+Math.round(a[2*d]/b)+c;a[d]=0x3ffffff&e,c=e<0x4000000?0:e/0x4000000|0}return a},p.prototype.convert13b=function(a,b,c,e){for(var f=0,g=0;g<b;g++)f+=0|a[g],c[2*g]=8191&f,f>>>=13,c[2*g+1]=8191&f,f>>>=13;for(g=2*b;g<e;++g)c[g]=0;d(0===f),d((-8192&f)==0)},p.prototype.stub=function(a){for(var b=Array(a),c=0;c<a;c++)b[c]=0;return b},p.prototype.mulp=function(a,b,c){var d=2*this.guessLen13b(a.length,b.length),e=this.makeRBT(d),f=this.stub(d),g=Array(d),h=Array(d),i=Array(d),j=Array(d),k=Array(d),l=Array(d),m=c.words;m.length=d,this.convert13b(a.words,a.length,g,d),this.convert13b(b.words,b.length,j,d),this.transform(g,f,h,i,d,e),this.transform(j,f,k,l,d,e);for(var n=0;n<d;n++){var o=h[n]*k[n]-i[n]*l[n];i[n]=h[n]*l[n]+i[n]*k[n],h[n]=o}return this.conjugate(h,i,d),this.transform(h,i,m,f,d,e),this.conjugate(m,f,d),this.normalize13b(m,d),c.negative=a.negative^b.negative,c.length=a.length+b.length,c.strip()},f.prototype.mul=function(a){var b=new f(null);return b.words=Array(this.length+a.length),this.mulTo(a,b)},f.prototype.mulf=function(a){var b=new f(null);return b.words=Array(this.length+a.length),o(this,a,b)},f.prototype.imul=function(a){return this.clone().mulTo(a,this)},f.prototype.imuln=function(a){d("number"==typeof a),d(a<0x4000000);for(var b=0,c=0;c<this.length;c++){var e=(0|this.words[c])*a,f=(0x3ffffff&e)+(0x3ffffff&b);b>>=26,b+=(e/0x4000000|0)+(f>>>26),this.words[c]=0x3ffffff&f}return 0!==b&&(this.words[c]=b,this.length++),this},f.prototype.muln=function(a){return this.clone().imuln(a)},f.prototype.sqr=function(){return this.mul(this)},f.prototype.isqr=function(){return this.imul(this.clone())},f.prototype.pow=function(a){var b=function(a){for(var b=Array(a.bitLength()),c=0;c<b.length;c++){var d=c/26|0,e=c%26;b[c]=(a.words[d]&1<<e)>>>e}return b}(a);if(0===b.length)return new f(1);for(var c=this,d=0;d<b.length&&0===b[d];d++,c=c.sqr());if(++d<b.length)for(var e=c.sqr();d<b.length;d++,e=e.sqr())0!==b[d]&&(c=c.mul(e));return c},f.prototype.iushln=function(a){d("number"==typeof a&&a>=0);var b,c=a%26,e=(a-c)/26,f=0x3ffffff>>>26-c<<26-c;if(0!==c){var g=0;for(b=0;b<this.length;b++){var h=this.words[b]&f,i=(0|this.words[b])-h<<c;this.words[b]=i|g,g=h>>>26-c}g&&(this.words[b]=g,this.length++)}if(0!==e){for(b=this.length-1;b>=0;b--)this.words[b+e]=this.words[b];for(b=0;b<e;b++)this.words[b]=0;this.length+=e}return this.strip()},f.prototype.ishln=function(a){return d(0===this.negative),this.iushln(a)},f.prototype.iushrn=function(a,b,c){d("number"==typeof a&&a>=0);var e=b?(b-b%26)/26:0,f=a%26,g=Math.min((a-f)/26,this.length),h=0x3ffffff^0x3ffffff>>>f<<f;if(e-=g,e=Math.max(0,e),c){for(var i=0;i<g;i++)c.words[i]=this.words[i];c.length=g}if(0===g);else if(this.length>g)for(this.length-=g,i=0;i<this.length;i++)this.words[i]=this.words[i+g];else this.words[0]=0,this.length=1;var j=0;for(i=this.length-1;i>=0&&(0!==j||i>=e);i--){var k=0|this.words[i];this.words[i]=j<<26-f|k>>>f,j=k&h}return c&&0!==j&&(c.words[c.length++]=j),0===this.length&&(this.words[0]=0,this.length=1),this.strip()},f.prototype.ishrn=function(a,b,c){return d(0===this.negative),this.iushrn(a,b,c)},f.prototype.shln=function(a){return this.clone().ishln(a)},f.prototype.ushln=function(a){return this.clone().iushln(a)},f.prototype.shrn=function(a){return this.clone().ishrn(a)},f.prototype.ushrn=function(a){return this.clone().iushrn(a)},f.prototype.testn=function(a){d("number"==typeof a&&a>=0);var b=a%26,c=(a-b)/26;return!(this.length<=c)&&!!(this.words[c]&1<<b)},f.prototype.imaskn=function(a){d("number"==typeof a&&a>=0);var b=a%26,c=(a-b)/26;return(d(0===this.negative,"imaskn works only with positive numbers"),this.length<=c)?this:(0!==b&&c++,this.length=Math.min(c,this.length),0!==b&&(this.words[this.length-1]&=0x3ffffff^0x3ffffff>>>b<<b),this.strip())},f.prototype.maskn=function(a){return this.clone().imaskn(a)},f.prototype.iaddn=function(a){return(d("number"==typeof a),d(a<0x4000000),a<0)?this.isubn(-a):0!==this.negative?(1===this.length&&(0|this.words[0])<a?(this.words[0]=a-(0|this.words[0]),this.negative=0):(this.negative=0,this.isubn(a),this.negative=1),this):this._iaddn(a)},f.prototype._iaddn=function(a){this.words[0]+=a;for(var b=0;b<this.length&&this.words[b]>=0x4000000;b++)this.words[b]-=0x4000000,b===this.length-1?this.words[b+1]=1:this.words[b+1]++;return this.length=Math.max(this.length,b+1),this},f.prototype.isubn=function(a){if(d("number"==typeof a),d(a<0x4000000),a<0)return this.iaddn(-a);if(0!==this.negative)return this.negative=0,this.iaddn(a),this.negative=1,this;if(this.words[0]-=a,1===this.length&&this.words[0]<0)this.words[0]=-this.words[0],this.negative=1;else for(var b=0;b<this.length&&this.words[b]<0;b++)this.words[b]+=0x4000000,this.words[b+1]-=1;return this.strip()},f.prototype.addn=function(a){return this.clone().iaddn(a)},f.prototype.subn=function(a){return this.clone().isubn(a)},f.prototype.iabs=function(){return this.negative=0,this},f.prototype.abs=function(){return this.clone().iabs()},f.prototype._ishlnsubmul=function(a,b,c){var e,f,g=a.length+c;this._expand(g);var h=0;for(e=0;e<a.length;e++){f=(0|this.words[e+c])+h;var i=(0|a.words[e])*b;f-=0x3ffffff&i,h=(f>>26)-(i/0x4000000|0),this.words[e+c]=0x3ffffff&f}for(;e<this.length-c;e++)h=(f=(0|this.words[e+c])+h)>>26,this.words[e+c]=0x3ffffff&f;if(0===h)return this.strip();for(d(-1===h),h=0,e=0;e<this.length;e++)h=(f=-(0|this.words[e])+h)>>26,this.words[e]=0x3ffffff&f;return this.negative=1,this.strip()},f.prototype._wordDiv=function(a,b){var c,d=this.length-a.length,e=this.clone(),g=a,h=0|g.words[g.length-1];0!=(d=26-this._countBits(h))&&(g=g.ushln(d),e.iushln(d),h=0|g.words[g.length-1]);var i=e.length-g.length;if("mod"!==b){(c=new f(null)).length=i+1,c.words=Array(c.length);for(var j=0;j<c.length;j++)c.words[j]=0}var k=e.clone()._ishlnsubmul(g,1,i);0===k.negative&&(e=k,c&&(c.words[i]=1));for(var l=i-1;l>=0;l--){var m=(0|e.words[g.length+l])*0x4000000+(0|e.words[g.length+l-1]);for(m=Math.min(m/h|0,0x3ffffff),e._ishlnsubmul(g,m,l);0!==e.negative;)m--,e.negative=0,e._ishlnsubmul(g,1,l),e.isZero()||(e.negative^=1);c&&(c.words[l]=m)}return c&&c.strip(),e.strip(),"div"!==b&&0!==d&&e.iushrn(d),{div:c||null,mod:e}},f.prototype.divmod=function(a,b,c){var e,g,h;return(d(!a.isZero()),this.isZero())?{div:new f(0),mod:new f(0)}:0!==this.negative&&0===a.negative?(h=this.neg().divmod(a,b),"mod"!==b&&(e=h.div.neg()),"div"!==b&&(g=h.mod.neg(),c&&0!==g.negative&&g.iadd(a)),{div:e,mod:g}):0===this.negative&&0!==a.negative?(h=this.divmod(a.neg(),b),"mod"!==b&&(e=h.div.neg()),{div:e,mod:h.mod}):(this.negative&a.negative)!=0?(h=this.neg().divmod(a.neg(),b),"div"!==b&&(g=h.mod.neg(),c&&0!==g.negative&&g.isub(a)),{div:h.div,mod:g}):a.length>this.length||0>this.cmp(a)?{div:new f(0),mod:this}:1===a.length?"div"===b?{div:this.divn(a.words[0]),mod:null}:"mod"===b?{div:null,mod:new f(this.modn(a.words[0]))}:{div:this.divn(a.words[0]),mod:new f(this.modn(a.words[0]))}:this._wordDiv(a,b)},f.prototype.div=function(a){return this.divmod(a,"div",!1).div},f.prototype.mod=function(a){return this.divmod(a,"mod",!1).mod},f.prototype.umod=function(a){return this.divmod(a,"mod",!0).mod},f.prototype.divRound=function(a){var b=this.divmod(a);if(b.mod.isZero())return b.div;var c=0!==b.div.negative?b.mod.isub(a):b.mod,d=a.ushrn(1),e=a.andln(1),f=c.cmp(d);return f<0||1===e&&0===f?b.div:0!==b.div.negative?b.div.isubn(1):b.div.iaddn(1)},f.prototype.modn=function(a){d(a<=0x3ffffff);for(var b=0x4000000%a,c=0,e=this.length-1;e>=0;e--)c=(b*c+(0|this.words[e]))%a;return c},f.prototype.idivn=function(a){d(a<=0x3ffffff);for(var b=0,c=this.length-1;c>=0;c--){var e=(0|this.words[c])+0x4000000*b;this.words[c]=e/a|0,b=e%a}return this.strip()},f.prototype.divn=function(a){return this.clone().idivn(a)},f.prototype.egcd=function(a){d(0===a.negative),d(!a.isZero());var b=this,c=a.clone();b=0!==b.negative?b.umod(a):b.clone();for(var e=new f(1),g=new f(0),h=new f(0),i=new f(1),j=0;b.isEven()&&c.isEven();)b.iushrn(1),c.iushrn(1),++j;for(var k=c.clone(),l=b.clone();!b.isZero();){for(var m=0,n=1;(b.words[0]&n)==0&&m<26;++m,n<<=1);if(m>0)for(b.iushrn(m);m-- >0;)(e.isOdd()||g.isOdd())&&(e.iadd(k),g.isub(l)),e.iushrn(1),g.iushrn(1);for(var o=0,p=1;(c.words[0]&p)==0&&o<26;++o,p<<=1);if(o>0)for(c.iushrn(o);o-- >0;)(h.isOdd()||i.isOdd())&&(h.iadd(k),i.isub(l)),h.iushrn(1),i.iushrn(1);b.cmp(c)>=0?(b.isub(c),e.isub(h),g.isub(i)):(c.isub(b),h.isub(e),i.isub(g))}return{a:h,b:i,gcd:c.iushln(j)}},f.prototype._invmp=function(a){d(0===a.negative),d(!a.isZero());var b,c=this,e=a.clone();c=0!==c.negative?c.umod(a):c.clone();for(var g=new f(1),h=new f(0),i=e.clone();c.cmpn(1)>0&&e.cmpn(1)>0;){for(var j=0,k=1;(c.words[0]&k)==0&&j<26;++j,k<<=1);if(j>0)for(c.iushrn(j);j-- >0;)g.isOdd()&&g.iadd(i),g.iushrn(1);for(var l=0,m=1;(e.words[0]&m)==0&&l<26;++l,m<<=1);if(l>0)for(e.iushrn(l);l-- >0;)h.isOdd()&&h.iadd(i),h.iushrn(1);c.cmp(e)>=0?(c.isub(e),g.isub(h)):(e.isub(c),h.isub(g))}return 0>(b=0===c.cmpn(1)?g:h).cmpn(0)&&b.iadd(a),b},f.prototype.gcd=function(a){if(this.isZero())return a.abs();if(a.isZero())return this.abs();var b=this.clone(),c=a.clone();b.negative=0,c.negative=0;for(var d=0;b.isEven()&&c.isEven();d++)b.iushrn(1),c.iushrn(1);for(;;){for(;b.isEven();)b.iushrn(1);for(;c.isEven();)c.iushrn(1);var e=b.cmp(c);if(e<0){var f=b;b=c,c=f}else if(0===e||0===c.cmpn(1))break;b.isub(c)}return c.iushln(d)},f.prototype.invm=function(a){return this.egcd(a).a.umod(a)},f.prototype.isEven=function(){return(1&this.words[0])==0},f.prototype.isOdd=function(){return(1&this.words[0])==1},f.prototype.andln=function(a){return this.words[0]&a},f.prototype.bincn=function(a){d("number"==typeof a);var b=a%26,c=(a-b)/26,e=1<<b;if(this.length<=c)return this._expand(c+1),this.words[c]|=e,this;for(var f=e,g=c;0!==f&&g<this.length;g++){var h=0|this.words[g];h+=f,f=h>>>26,h&=0x3ffffff,this.words[g]=h}return 0!==f&&(this.words[g]=f,this.length++),this},f.prototype.isZero=function(){return 1===this.length&&0===this.words[0]},f.prototype.cmpn=function(a){var b,c=a<0;if(0!==this.negative&&!c)return -1;if(0===this.negative&&c)return 1;if(this.strip(),this.length>1)b=1;else{c&&(a=-a),d(a<=0x3ffffff,"Number is too big");var e=0|this.words[0];b=e===a?0:e<a?-1:1}return 0!==this.negative?0|-b:b},f.prototype.cmp=function(a){if(0!==this.negative&&0===a.negative)return -1;if(0===this.negative&&0!==a.negative)return 1;var b=this.ucmp(a);return 0!==this.negative?0|-b:b},f.prototype.ucmp=function(a){if(this.length>a.length)return 1;if(this.length<a.length)return -1;for(var b=0,c=this.length-1;c>=0;c--){var d=0|this.words[c],e=0|a.words[c];if(d!==e){d<e?b=-1:d>e&&(b=1);break}}return b},f.prototype.gtn=function(a){return 1===this.cmpn(a)},f.prototype.gt=function(a){return 1===this.cmp(a)},f.prototype.gten=function(a){return this.cmpn(a)>=0},f.prototype.gte=function(a){return this.cmp(a)>=0},f.prototype.ltn=function(a){return -1===this.cmpn(a)},f.prototype.lt=function(a){return -1===this.cmp(a)},f.prototype.lten=function(a){return 0>=this.cmpn(a)},f.prototype.lte=function(a){return 0>=this.cmp(a)},f.prototype.eqn=function(a){return 0===this.cmpn(a)},f.prototype.eq=function(a){return 0===this.cmp(a)},f.red=function(a){return new w(a)},f.prototype.toRed=function(a){return d(!this.red,"Already a number in reduction context"),d(0===this.negative,"red works only with positives"),a.convertTo(this)._forceRed(a)},f.prototype.fromRed=function(){return d(this.red,"fromRed works only with numbers in reduction context"),this.red.convertFrom(this)},f.prototype._forceRed=function(a){return this.red=a,this},f.prototype.forceRed=function(a){return d(!this.red,"Already a number in reduction context"),this._forceRed(a)},f.prototype.redAdd=function(a){return d(this.red,"redAdd works only with red numbers"),this.red.add(this,a)},f.prototype.redIAdd=function(a){return d(this.red,"redIAdd works only with red numbers"),this.red.iadd(this,a)},f.prototype.redSub=function(a){return d(this.red,"redSub works only with red numbers"),this.red.sub(this,a)},f.prototype.redISub=function(a){return d(this.red,"redISub works only with red numbers"),this.red.isub(this,a)},f.prototype.redShl=function(a){return d(this.red,"redShl works only with red numbers"),this.red.shl(this,a)},f.prototype.redMul=function(a){return d(this.red,"redMul works only with red numbers"),this.red._verify2(this,a),this.red.mul(this,a)},f.prototype.redIMul=function(a){return d(this.red,"redMul works only with red numbers"),this.red._verify2(this,a),this.red.imul(this,a)},f.prototype.redSqr=function(){return d(this.red,"redSqr works only with red numbers"),this.red._verify1(this),this.red.sqr(this)},f.prototype.redISqr=function(){return d(this.red,"redISqr works only with red numbers"),this.red._verify1(this),this.red.isqr(this)},f.prototype.redSqrt=function(){return d(this.red,"redSqrt works only with red numbers"),this.red._verify1(this),this.red.sqrt(this)},f.prototype.redInvm=function(){return d(this.red,"redInvm works only with red numbers"),this.red._verify1(this),this.red.invm(this)},f.prototype.redNeg=function(){return d(this.red,"redNeg works only with red numbers"),this.red._verify1(this),this.red.neg(this)},f.prototype.redPow=function(a){return d(this.red&&!a.red,"redPow(normalNum)"),this.red._verify1(this),this.red.pow(this,a)};var q={k256:null,p224:null,p192:null,p25519:null};function r(a,b){this.name=a,this.p=new f(b,16),this.n=this.p.bitLength(),this.k=new f(1).iushln(this.n).isub(this.p),this.tmp=this._tmp()}function s(){r.call(this,"k256","ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffe fffffc2f")}function t(){r.call(this,"p224","ffffffff ffffffff ffffffff ffffffff 00000000 00000000 00000001")}function u(){r.call(this,"p192","ffffffff ffffffff ffffffff fffffffe ffffffff ffffffff")}function v(){r.call(this,"25519","7fffffffffffffff ffffffffffffffff ffffffffffffffff ffffffffffffffed")}function w(a){if("string"==typeof a){var b=f._prime(a);this.m=b.p,this.prime=b}else d(a.gtn(1),"modulus must be greater than 1"),this.m=a,this.prime=null}function x(a){w.call(this,a),this.shift=this.m.bitLength(),this.shift%26!=0&&(this.shift+=26-this.shift%26),this.r=new f(1).iushln(this.shift),this.r2=this.imod(this.r.sqr()),this.rinv=this.r._invmp(this.m),this.minv=this.rinv.mul(this.r).isubn(1).div(this.m),this.minv=this.minv.umod(this.r),this.minv=this.r.sub(this.minv)}r.prototype._tmp=function(){var a=new f(null);return a.words=Array(Math.ceil(this.n/13)),a},r.prototype.ireduce=function(a){var b,c=a;do this.split(c,this.tmp),b=(c=(c=this.imulK(c)).iadd(this.tmp)).bitLength();while(b>this.n)var d=b<this.n?-1:c.ucmp(this.p);return 0===d?(c.words[0]=0,c.length=1):d>0?c.isub(this.p):c.strip(),c},r.prototype.split=function(a,b){a.iushrn(this.n,0,b)},r.prototype.imulK=function(a){return a.imul(this.k)},e(s,r),s.prototype.split=function(a,b){for(var c=Math.min(a.length,9),d=0;d<c;d++)b.words[d]=a.words[d];if(b.length=c,a.length<=9){a.words[0]=0,a.length=1;return}var e=a.words[9];for(d=10,b.words[b.length++]=4194303&e;d<a.length;d++){var f=0|a.words[d];a.words[d-10]=(4194303&f)<<4|e>>>22,e=f}e>>>=22,a.words[d-10]=e,0===e&&a.length>10?a.length-=10:a.length-=9},s.prototype.imulK=function(a){a.words[a.length]=0,a.words[a.length+1]=0,a.length+=2;for(var b=0,c=0;c<a.length;c++){var d=0|a.words[c];b+=977*d,a.words[c]=0x3ffffff&b,b=64*d+(b/0x4000000|0)}return 0===a.words[a.length-1]&&(a.length--,0===a.words[a.length-1]&&a.length--),a},e(t,r),e(u,r),e(v,r),v.prototype.imulK=function(a){for(var b=0,c=0;c<a.length;c++){var d=(0|a.words[c])*19+b,e=0x3ffffff&d;d>>>=26,a.words[c]=e,b=d}return 0!==b&&(a.words[a.length++]=b),a},f._prime=function(a){var b;if(q[a])return q[a];if("k256"===a)b=new s;else if("p224"===a)b=new t;else if("p192"===a)b=new u;else if("p25519"===a)b=new v;else throw Error("Unknown prime "+a);return q[a]=b,b},w.prototype._verify1=function(a){d(0===a.negative,"red works only with positives"),d(a.red,"red works only with red numbers")},w.prototype._verify2=function(a,b){d((a.negative|b.negative)==0,"red works only with positives"),d(a.red&&a.red===b.red,"red works only with red numbers")},w.prototype.imod=function(a){return this.prime?this.prime.ireduce(a)._forceRed(this):a.umod(this.m)._forceRed(this)},w.prototype.neg=function(a){return a.isZero()?a.clone():this.m.sub(a)._forceRed(this)},w.prototype.add=function(a,b){this._verify2(a,b);var c=a.add(b);return c.cmp(this.m)>=0&&c.isub(this.m),c._forceRed(this)},w.prototype.iadd=function(a,b){this._verify2(a,b);var c=a.iadd(b);return c.cmp(this.m)>=0&&c.isub(this.m),c},w.prototype.sub=function(a,b){this._verify2(a,b);var c=a.sub(b);return 0>c.cmpn(0)&&c.iadd(this.m),c._forceRed(this)},w.prototype.isub=function(a,b){this._verify2(a,b);var c=a.isub(b);return 0>c.cmpn(0)&&c.iadd(this.m),c},w.prototype.shl=function(a,b){return this._verify1(a),this.imod(a.ushln(b))},w.prototype.imul=function(a,b){return this._verify2(a,b),this.imod(a.imul(b))},w.prototype.mul=function(a,b){return this._verify2(a,b),this.imod(a.mul(b))},w.prototype.isqr=function(a){return this.imul(a,a.clone())},w.prototype.sqr=function(a){return this.mul(a,a)},w.prototype.sqrt=function(a){if(a.isZero())return a.clone();var b=this.m.andln(3);if(d(b%2==1),3===b){var c=this.m.add(new f(1)).iushrn(2);return this.pow(a,c)}for(var e=this.m.subn(1),g=0;!e.isZero()&&0===e.andln(1);)g++,e.iushrn(1);d(!e.isZero());var h=new f(1).toRed(this),i=h.redNeg(),j=this.m.subn(1).iushrn(1),k=this.m.bitLength();for(k=new f(2*k*k).toRed(this);0!==this.pow(k,j).cmp(i);)k.redIAdd(i);for(var l=this.pow(k,e),m=this.pow(a,e.addn(1).iushrn(1)),n=this.pow(a,e),o=g;0!==n.cmp(h);){for(var p=n,q=0;0!==p.cmp(h);q++)p=p.redSqr();d(q<o);var r=this.pow(l,new f(1).iushln(o-q-1));m=m.redMul(r),l=r.redSqr(),n=n.redMul(l),o=q}return m},w.prototype.invm=function(a){var b=a._invmp(this.m);return 0!==b.negative?(b.negative=0,this.imod(b).redNeg()):this.imod(b)},w.prototype.pow=function(a,b){if(b.isZero())return new f(1).toRed(this);if(0===b.cmpn(1))return a.clone();var c=Array(16);c[0]=new f(1).toRed(this),c[1]=a;for(var d=2;d<c.length;d++)c[d]=this.mul(c[d-1],a);var e=c[0],g=0,h=0,i=b.bitLength()%26;for(0===i&&(i=26),d=b.length-1;d>=0;d--){for(var j=b.words[d],k=i-1;k>=0;k--){var l=j>>k&1;if(e!==c[0]&&(e=this.sqr(e)),0===l&&0===g){h=0;continue}g<<=1,g|=l,(4==++h||0===d&&0===k)&&(e=this.mul(e,c[g]),h=0,g=0)}i=26}return e},w.prototype.convertTo=function(a){var b=a.umod(this.m);return b===a?b.clone():b},w.prototype.convertFrom=function(a){var b=a.clone();return b.red=null,b},f.mont=function(a){return new x(a)},e(x,w),x.prototype.convertTo=function(a){return this.imod(a.ushln(this.shift))},x.prototype.convertFrom=function(a){var b=this.imod(a.mul(this.rinv));return b.red=null,b},x.prototype.imul=function(a,b){if(a.isZero()||b.isZero())return a.words[0]=0,a.length=1,a;var c=a.imul(b),d=c.maskn(this.shift).mul(this.minv).imaskn(this.shift).mul(this.m),e=c.isub(d).iushrn(this.shift),f=e;return e.cmp(this.m)>=0?f=e.isub(this.m):0>e.cmpn(0)&&(f=e.iadd(this.m)),f._forceRed(this)},x.prototype.mul=function(a,b){if(a.isZero()||b.isZero())return new f(0)._forceRed(this);var c=a.mul(b),d=c.maskn(this.shift).mul(this.minv).imaskn(this.shift).mul(this.m),e=c.isub(d).iushrn(this.shift),g=e;return e.cmp(this.m)>=0?g=e.isub(this.m):0>e.cmpn(0)&&(g=e.iadd(this.m)),g._forceRed(this)},x.prototype.invm=function(a){return this.imod(a._invmp(this.m).mul(this.r2))._forceRed(this)}}(b,a.e)},87224,(a,b,c)=>{b.exports=f,f.strict=g,f.loose=h;var d=Object.prototype.toString,e={"[object Int8Array]":!0,"[object Int16Array]":!0,"[object Int32Array]":!0,"[object Uint8Array]":!0,"[object Uint8ClampedArray]":!0,"[object Uint16Array]":!0,"[object Uint32Array]":!0,"[object Float32Array]":!0,"[object Float64Array]":!0};function f(a){return g(a)||h(a)}function g(a){return a instanceof Int8Array||a instanceof Int16Array||a instanceof Int32Array||a instanceof Uint8Array||a instanceof Uint8ClampedArray||a instanceof Uint16Array||a instanceof Uint32Array||a instanceof Float32Array||a instanceof Float64Array}function h(a){return e[d.call(a)]}},57744,(a,b,c)=>{var d=a.r(87224).strict;b.exports=function(a){if(!d(a))return Buffer.from(a);var b=Buffer.from(a.buffer);return a.byteLength!==a.buffer.byteLength&&(b=b.slice(a.byteOffset,a.byteOffset+a.byteLength)),b}},43600,a=>{"use strict";var b=a.i(87224),c=a.i(57744);let d="utf8";function e(a){return new Uint8Array(a)}function f(a,b=!1){let c=a.toString("hex");return b?_(c):c}function g(a){return a.toString(d)}function h(a){return a.readUIntBE(0,a.length)}function i(a){return n(e(a))}function j(a){return(0,c.default)(a)}function k(a,b=!1){return f(j(a),b)}function l(a){return g(j(a))}function m(a){return h(j(a))}function n(a){return Array.from(a).map(C).join("")}function o(a){return Buffer.from($(a),"hex")}function p(a){return e(o(a))}function q(a){return g(o(a))}function r(a){return m(p(a))}function s(a){return n(p(a))}function t(a){return Buffer.from(a,d)}function u(a){return e(t(a))}function v(a,b=!1){return f(t(a),b)}function w(a){let b=parseInt(a,10);return function(a,b){if(!a)throw Error(b)}(void 0!==b,"Number can only safely store up to 53 bits"),b}function x(a){return n(u(a))}function y(a){return D(C(a))}function z(a){return E(C(a))}function A(a,b){return F(C(a),b)}function B(a){return`${a}`}function C(a){return X((a>>>0).toString(2))}function D(a){return j(E(a))}function E(a){return new Uint8Array(U(a).map(a=>parseInt(a,2)))}function F(a,b){return k(E(a),b)}function G(a){return l(E(a))}function H(a){return m(E(a))}function I(a){return"string"==typeof a&&!!new RegExp(/^[01]+$/).test(a)&&a.length%8==0}function J(a,b){return"string"==typeof a&&!!a.match(/^0x[0-9A-Fa-f]*$/)&&(!b||a.length===2+2*b)}function K(a){return Buffer.isBuffer(a)}function L(a){return b.default.strict(a)&&!K(a)}function M(a){return!L(a)&&!K(a)&&void 0!==a.byteLength}function N(a){return K(a)?"buffer":L(a)?"typed-array":M(a)?"array-buffer":Array.isArray(a)?"array":typeof a}function O(a){return I(a)?"binary":J(a)?"hex":d}function P(...a){return Buffer.concat(a)}function Q(...a){let b=[];return a.forEach(a=>b=b.concat(Array.from(a))),new Uint8Array([...b])}function R(a,b){let c=a.length-b;return c>0&&(a=a.slice(c)),a}function S(a,b){return a.slice(0,b)}function T(a,b=8){let c=a%b;return c?(a-c)/b*b+b:a}function U(a,b=8){return Array.from(X(a).match(RegExp(`.{${b}}`,"gi"))||[])}function V(a){return U(a).map(ac).join("")}function W(a){return F(V(s(a)))}function X(a,b=8,c="0"){return Y(a,T(a.length,b),c)}function Y(a,b,c="0"){return ad(a,b,!0,c)}function Z(a,b,c="0"){return ad(a,b,!1,c)}function $(a){return a.replace(/^0x/,"")}function _(a){return a.startsWith("0x")?a:`0x${a}`}function aa(a){return(a=X(a=$(a),2))&&(a=_(a)),a}function ab(a){let b=a.startsWith("0x");return a=(a=$(a)).startsWith("0")?a.substring(1):a,b?_(a):a}function ac(a){return a.split("").reverse().join("")}function ad(a,b,c,d="0"){let e=b-a.length,f=a;if(e>0){let b=d.repeat(e);f=c?b+a:a+b}return f}a.s(["addHexPrefix",()=>_,"arrayToBinary",()=>n,"arrayToBuffer",()=>j,"arrayToHex",()=>k,"arrayToNumber",()=>m,"arrayToUtf8",()=>l,"binaryToArray",()=>E,"binaryToBuffer",()=>D,"binaryToHex",()=>F,"binaryToNumber",()=>H,"binaryToUtf8",()=>G,"bufferToArray",()=>e,"bufferToBinary",()=>i,"bufferToHex",()=>f,"bufferToNumber",()=>h,"bufferToUtf8",()=>g,"calcByteLength",()=>T,"concatArrays",()=>Q,"concatBuffers",()=>P,"getEncoding",()=>O,"getType",()=>N,"hexToArray",()=>p,"hexToBinary",()=>s,"hexToBuffer",()=>o,"hexToNumber",()=>r,"hexToUtf8",()=>q,"isArrayBuffer",()=>M,"isBinaryString",()=>I,"isBuffer",()=>K,"isHexString",()=>J,"isTypedArray",()=>L,"numberToArray",()=>z,"numberToBinary",()=>C,"numberToBuffer",()=>y,"numberToHex",()=>A,"numberToUtf8",()=>B,"padLeft",()=>Y,"padRight",()=>Z,"removeHexLeadingZeros",()=>ab,"removeHexPrefix",()=>$,"sanitizeBytes",()=>X,"sanitizeHex",()=>aa,"splitBytes",()=>U,"swapBytes",()=>V,"swapHex",()=>W,"trimLeft",()=>R,"trimRight",()=>S,"utf8ToArray",()=>u,"utf8ToBinary",()=>x,"utf8ToBuffer",()=>t,"utf8ToHex",()=>v,"utf8ToNumber",()=>w])},74667,(a,b,c)=>{"use strict";Object.defineProperty(c,"__esModule",{value:!0}),c.convertNumberToHex=c.convertNumberToUtf8=c.convertNumberToArrayBuffer=c.convertNumberToBuffer=c.convertHexToNumber=c.convertHexToUtf8=c.convertHexToArrayBuffer=c.convertHexToBuffer=c.convertUtf8ToNumber=c.convertUtf8ToHex=c.convertUtf8ToBuffer=c.convertUtf8ToArrayBuffer=c.concatBuffers=c.convertBufferToNumber=c.convertBufferToHex=c.convertBufferToUtf8=c.convertBufferToArrayBuffer=c.concatArrayBuffers=c.convertArrayBufferToNumber=c.convertArrayBufferToHex=c.convertArrayBufferToUtf8=c.convertArrayBufferToBuffer=void 0;let d=a.r(17385),e=d.__importDefault(a.r(80269)),f=d.__importStar(a.r(43600));c.convertArrayBufferToBuffer=function(a){return f.arrayToBuffer(new Uint8Array(a))},c.convertArrayBufferToUtf8=function(a){return f.arrayToUtf8(new Uint8Array(a))},c.convertArrayBufferToHex=function(a,b){return f.arrayToHex(new Uint8Array(a),!b)},c.convertArrayBufferToNumber=function(a){return f.arrayToNumber(new Uint8Array(a))},c.concatArrayBuffers=function(...a){return f.hexToArray(a.map(a=>f.arrayToHex(new Uint8Array(a))).join("")).buffer},c.convertBufferToArrayBuffer=function(a){return f.bufferToArray(a).buffer},c.convertBufferToUtf8=function(a){return f.bufferToUtf8(a)},c.convertBufferToHex=function(a,b){return f.bufferToHex(a,!b)},c.convertBufferToNumber=function(a){return f.bufferToNumber(a)},c.concatBuffers=function(...a){return f.concatBuffers(...a)},c.convertUtf8ToArrayBuffer=function(a){return f.utf8ToArray(a).buffer},c.convertUtf8ToBuffer=function(a){return f.utf8ToBuffer(a)},c.convertUtf8ToHex=function(a,b){return f.utf8ToHex(a,!b)},c.convertUtf8ToNumber=function(a){return new e.default(a,10).toNumber()},c.convertHexToBuffer=function(a){return f.hexToBuffer(a)},c.convertHexToArrayBuffer=function(a){return f.hexToArray(a).buffer},c.convertHexToUtf8=function(a){return f.hexToUtf8(a)},c.convertHexToNumber=function(a){return new e.default(f.removeHexPrefix(a),"hex").toNumber()},c.convertNumberToBuffer=function(a){return f.numberToBuffer(a)},c.convertNumberToArrayBuffer=function(a){return f.numberToArray(a).buffer},c.convertNumberToUtf8=function(a){return new e.default(a).toString()},c.convertNumberToHex=function(a,b){let c=f.removeHexPrefix(f.sanitizeHex(new e.default(a).toString(16)));return b?c:f.addHexPrefix(c)}},68304,(a,b,c)=>{!function(){"use strict";var c="input is invalid type",d=!1,e={};e.JS_SHA3_NO_WINDOW&&(d=!1);var f=!d&&"object"==typeof self;!e.JS_SHA3_NO_NODE_JS&&"object"==typeof process&&process.versions&&process.versions.node?e=a.g:f&&(e=self);var g=!e.JS_SHA3_NO_COMMON_JS&&b.exports,h="function"==typeof define&&define.amd,i=!e.JS_SHA3_NO_ARRAY_BUFFER&&"undefined"!=typeof ArrayBuffer,j="0123456789abcdef".split(""),k=[4,1024,262144,0x4000000],l=[0,8,16,24],m=[1,0,32898,0,32906,0x80000000,0x80008000,0x80000000,32907,0,0x80000001,0,0x80008081,0x80000000,32777,0x80000000,138,0,136,0,0x80008009,0,0x8000000a,0,0x8000808b,0,139,0x80000000,32905,0x80000000,32771,0x80000000,32770,0x80000000,128,0x80000000,32778,0,0x8000000a,0x80000000,0x80008081,0x80000000,32896,0x80000000,0x80000001,0,0x80008008,0x80000000],n=[224,256,384,512],o=[128,256],p=["hex","buffer","arrayBuffer","array","digest"],q={128:168,256:136};(e.JS_SHA3_NO_NODE_JS||!Array.isArray)&&(Array.isArray=function(a){return"[object Array]"===Object.prototype.toString.call(a)}),i&&(e.JS_SHA3_NO_ARRAY_BUFFER_IS_VIEW||!ArrayBuffer.isView)&&(ArrayBuffer.isView=function(a){return"object"==typeof a&&a.buffer&&a.buffer.constructor===ArrayBuffer});for(var r=function(a,b,c){return function(d){return new G(a,b,a).update(d)[c]()}},s=function(a,b,c){return function(d,e){return new G(a,b,e).update(d)[c]()}},t=function(a,b,c){return function(b,d,e,f){return y["cshake"+a].update(b,d,e,f)[c]()}},u=function(a,b,c){return function(b,d,e,f){return y["kmac"+a].update(b,d,e,f)[c]()}},v=function(a,b,c,d){for(var e=0;e<p.length;++e){var f=p[e];a[f]=b(c,d,f)}return a},w=function(a,b){var c=r(a,b,"hex");return c.create=function(){return new G(a,b,a)},c.update=function(a){return c.create().update(a)},v(c,r,a,b)},x=[{name:"keccak",padding:[1,256,65536,0x1000000],bits:n,createMethod:w},{name:"sha3",padding:[6,1536,393216,0x6000000],bits:n,createMethod:w},{name:"shake",padding:[31,7936,2031616,0x1f000000],bits:o,createMethod:function(a,b){var c=s(a,b,"hex");return c.create=function(c){return new G(a,b,c)},c.update=function(a,b){return c.create(b).update(a)},v(c,s,a,b)}},{name:"cshake",padding:k,bits:o,createMethod:function(a,b){var c=q[a],d=t(a,b,"hex");return d.create=function(d,e,f){return e||f?new G(a,b,d).bytepad([e,f],c):y["shake"+a].create(d)},d.update=function(a,b,c,e){return d.create(b,c,e).update(a)},v(d,t,a,b)}},{name:"kmac",padding:k,bits:o,createMethod:function(a,b){var c=q[a],d=u(a,b,"hex");return d.create=function(d,e,f){return new H(a,b,e).bytepad(["KMAC",f],c).bytepad([d],c)},d.update=function(a,b,c,e){return d.create(a,c,e).update(b)},v(d,u,a,b)}}],y={},z=[],A=0;A<x.length;++A)for(var B=x[A],C=B.bits,D=0;D<C.length;++D){var E=B.name+"_"+C[D];if(z.push(E),y[E]=B.createMethod(C[D],B.padding),"sha3"!==B.name){var F=B.name+C[D];z.push(F),y[F]=y[E]}}function G(a,b,c){this.blocks=[],this.s=[],this.padding=b,this.outputBits=c,this.reset=!0,this.finalized=!1,this.block=0,this.start=0,this.blockCount=1600-(a<<1)>>5,this.byteCount=this.blockCount<<2,this.outputBlocks=c>>5,this.extraBytes=(31&c)>>3;for(var d=0;d<50;++d)this.s[d]=0}function H(a,b,c){G.call(this,a,b,c)}G.prototype.update=function(a){if(this.finalized)throw Error("finalize already called");var b,d=typeof a;if("string"!==d){if("object"===d){if(null===a)throw Error(c);else if(i&&a.constructor===ArrayBuffer)a=new Uint8Array(a);else if(!Array.isArray(a)&&(!i||!ArrayBuffer.isView(a)))throw Error(c)}else throw Error(c);b=!0}for(var e,f,g=this.blocks,h=this.byteCount,j=a.length,k=this.blockCount,m=0,n=this.s;m<j;){if(this.reset)for(e=1,this.reset=!1,g[0]=this.block;e<k+1;++e)g[e]=0;if(b)for(e=this.start;m<j&&e<h;++m)g[e>>2]|=a[m]<<l[3&e++];else for(e=this.start;m<j&&e<h;++m)(f=a.charCodeAt(m))<128?g[e>>2]|=f<<l[3&e++]:(f<2048?g[e>>2]|=(192|f>>6)<<l[3&e++]:(f<55296||f>=57344?g[e>>2]|=(224|f>>12)<<l[3&e++]:(f=65536+((1023&f)<<10|1023&a.charCodeAt(++m)),g[e>>2]|=(240|f>>18)<<l[3&e++],g[e>>2]|=(128|f>>12&63)<<l[3&e++]),g[e>>2]|=(128|f>>6&63)<<l[3&e++]),g[e>>2]|=(128|63&f)<<l[3&e++]);if(this.lastByteIndex=e,e>=h){for(this.start=e-h,this.block=g[k],e=0;e<k;++e)n[e]^=g[e];I(n),this.reset=!0}else this.start=e}return this},G.prototype.encode=function(a,b){var c=255&a,d=1,e=[c];for(a>>=8,c=255&a;c>0;)e.unshift(c),a>>=8,c=255&a,++d;return b?e.push(d):e.unshift(d),this.update(e),e.length},G.prototype.encodeString=function(a){var b,d=typeof a;if("string"!==d){if("object"===d){if(null===a)throw Error(c);else if(i&&a.constructor===ArrayBuffer)a=new Uint8Array(a);else if(!Array.isArray(a)&&(!i||!ArrayBuffer.isView(a)))throw Error(c)}else throw Error(c);b=!0}var e=0,f=a.length;if(b)e=f;else for(var g=0;g<a.length;++g){var h=a.charCodeAt(g);h<128?e+=1:h<2048?e+=2:h<55296||h>=57344?e+=3:(h=65536+((1023&h)<<10|1023&a.charCodeAt(++g)),e+=4)}return e+=this.encode(8*e),this.update(a),e},G.prototype.bytepad=function(a,b){for(var c=this.encode(b),d=0;d<a.length;++d)c+=this.encodeString(a[d]);var e=[];return e.length=b-c%b,this.update(e),this},G.prototype.finalize=function(){if(!this.finalized){this.finalized=!0;var a=this.blocks,b=this.lastByteIndex,c=this.blockCount,d=this.s;if(a[b>>2]|=this.padding[3&b],this.lastByteIndex===this.byteCount)for(b=1,a[0]=a[c];b<c+1;++b)a[b]=0;for(a[c-1]|=0x80000000,b=0;b<c;++b)d[b]^=a[b];I(d)}},G.prototype.toString=G.prototype.hex=function(){this.finalize();for(var a,b=this.blockCount,c=this.s,d=this.outputBlocks,e=this.extraBytes,f=0,g=0,h="";g<d;){for(f=0;f<b&&g<d;++f,++g)h+=j[(a=c[f])>>4&15]+j[15&a]+j[a>>12&15]+j[a>>8&15]+j[a>>20&15]+j[a>>16&15]+j[a>>28&15]+j[a>>24&15];g%b==0&&(I(c),f=0)}return e&&(h+=j[(a=c[f])>>4&15]+j[15&a],e>1&&(h+=j[a>>12&15]+j[a>>8&15]),e>2&&(h+=j[a>>20&15]+j[a>>16&15])),h},G.prototype.arrayBuffer=function(){this.finalize();for(var a,b=this.blockCount,c=this.s,d=this.outputBlocks,e=this.extraBytes,f=0,g=0,h=this.outputBits>>3,i=new Uint32Array(a=new ArrayBuffer(e?d+1<<2:h));g<d;){for(f=0;f<b&&g<d;++f,++g)i[g]=c[f];g%b==0&&I(c)}return e&&(i[f]=c[f],a=a.slice(0,h)),a},G.prototype.buffer=G.prototype.arrayBuffer,G.prototype.digest=G.prototype.array=function(){this.finalize();for(var a,b,c=this.blockCount,d=this.s,e=this.outputBlocks,f=this.extraBytes,g=0,h=0,i=[];h<e;){for(g=0;g<c&&h<e;++g,++h)a=h<<2,b=d[g],i[a]=255&b,i[a+1]=b>>8&255,i[a+2]=b>>16&255,i[a+3]=b>>24&255;h%c==0&&I(d)}return f&&(a=h<<2,b=d[g],i[a]=255&b,f>1&&(i[a+1]=b>>8&255),f>2&&(i[a+2]=b>>16&255)),i},H.prototype=new G,H.prototype.finalize=function(){return this.encode(this.outputBits,!0),G.prototype.finalize.call(this)};var I=function(a){var b,c,d,e,f,g,h,i,j,k,l,n,o,p,q,r,s,t,u,v,w,x,y,z,A,B,C,D,E,F,G,H,I,J,K,L,M,N,O,P,Q,R,S,T,U,V,W,X,Y,Z,$,_,aa,ab,ac,ad,ae,af,ag,ah,ai,aj,ak;for(d=0;d<48;d+=2)e=a[0]^a[10]^a[20]^a[30]^a[40],f=a[1]^a[11]^a[21]^a[31]^a[41],g=a[2]^a[12]^a[22]^a[32]^a[42],h=a[3]^a[13]^a[23]^a[33]^a[43],i=a[4]^a[14]^a[24]^a[34]^a[44],j=a[5]^a[15]^a[25]^a[35]^a[45],k=a[6]^a[16]^a[26]^a[36]^a[46],l=a[7]^a[17]^a[27]^a[37]^a[47],n=a[8]^a[18]^a[28]^a[38]^a[48],o=a[9]^a[19]^a[29]^a[39]^a[49],b=n^(g<<1|h>>>31),c=o^(h<<1|g>>>31),a[0]^=b,a[1]^=c,a[10]^=b,a[11]^=c,a[20]^=b,a[21]^=c,a[30]^=b,a[31]^=c,a[40]^=b,a[41]^=c,b=e^(i<<1|j>>>31),c=f^(j<<1|i>>>31),a[2]^=b,a[3]^=c,a[12]^=b,a[13]^=c,a[22]^=b,a[23]^=c,a[32]^=b,a[33]^=c,a[42]^=b,a[43]^=c,b=g^(k<<1|l>>>31),c=h^(l<<1|k>>>31),a[4]^=b,a[5]^=c,a[14]^=b,a[15]^=c,a[24]^=b,a[25]^=c,a[34]^=b,a[35]^=c,a[44]^=b,a[45]^=c,b=i^(n<<1|o>>>31),c=j^(o<<1|n>>>31),a[6]^=b,a[7]^=c,a[16]^=b,a[17]^=c,a[26]^=b,a[27]^=c,a[36]^=b,a[37]^=c,a[46]^=b,a[47]^=c,b=k^(e<<1|f>>>31),c=l^(f<<1|e>>>31),a[8]^=b,a[9]^=c,a[18]^=b,a[19]^=c,a[28]^=b,a[29]^=c,a[38]^=b,a[39]^=c,a[48]^=b,a[49]^=c,p=a[0],q=a[1],V=a[11]<<4|a[10]>>>28,W=a[10]<<4|a[11]>>>28,D=a[20]<<3|a[21]>>>29,E=a[21]<<3|a[20]>>>29,ah=a[31]<<9|a[30]>>>23,ai=a[30]<<9|a[31]>>>23,R=a[40]<<18|a[41]>>>14,S=a[41]<<18|a[40]>>>14,J=a[2]<<1|a[3]>>>31,K=a[3]<<1|a[2]>>>31,r=a[13]<<12|a[12]>>>20,s=a[12]<<12|a[13]>>>20,X=a[22]<<10|a[23]>>>22,Y=a[23]<<10|a[22]>>>22,F=a[33]<<13|a[32]>>>19,G=a[32]<<13|a[33]>>>19,aj=a[42]<<2|a[43]>>>30,ak=a[43]<<2|a[42]>>>30,ab=a[5]<<30|a[4]>>>2,ac=a[4]<<30|a[5]>>>2,L=a[14]<<6|a[15]>>>26,M=a[15]<<6|a[14]>>>26,t=a[25]<<11|a[24]>>>21,u=a[24]<<11|a[25]>>>21,Z=a[34]<<15|a[35]>>>17,$=a[35]<<15|a[34]>>>17,H=a[45]<<29|a[44]>>>3,I=a[44]<<29|a[45]>>>3,z=a[6]<<28|a[7]>>>4,A=a[7]<<28|a[6]>>>4,ad=a[17]<<23|a[16]>>>9,ae=a[16]<<23|a[17]>>>9,N=a[26]<<25|a[27]>>>7,O=a[27]<<25|a[26]>>>7,v=a[36]<<21|a[37]>>>11,w=a[37]<<21|a[36]>>>11,_=a[47]<<24|a[46]>>>8,aa=a[46]<<24|a[47]>>>8,T=a[8]<<27|a[9]>>>5,U=a[9]<<27|a[8]>>>5,B=a[18]<<20|a[19]>>>12,C=a[19]<<20|a[18]>>>12,af=a[29]<<7|a[28]>>>25,ag=a[28]<<7|a[29]>>>25,P=a[38]<<8|a[39]>>>24,Q=a[39]<<8|a[38]>>>24,x=a[48]<<14|a[49]>>>18,y=a[49]<<14|a[48]>>>18,a[0]=p^~r&t,a[1]=q^~s&u,a[10]=z^~B&D,a[11]=A^~C&E,a[20]=J^~L&N,a[21]=K^~M&O,a[30]=T^~V&X,a[31]=U^~W&Y,a[40]=ab^~ad&af,a[41]=ac^~ae&ag,a[2]=r^~t&v,a[3]=s^~u&w,a[12]=B^~D&F,a[13]=C^~E&G,a[22]=L^~N&P,a[23]=M^~O&Q,a[32]=V^~X&Z,a[33]=W^~Y&$,a[42]=ad^~af&ah,a[43]=ae^~ag&ai,a[4]=t^~v&x,a[5]=u^~w&y,a[14]=D^~F&H,a[15]=E^~G&I,a[24]=N^~P&R,a[25]=O^~Q&S,a[34]=X^~Z&_,a[35]=Y^~$&aa,a[44]=af^~ah&aj,a[45]=ag^~ai&ak,a[6]=v^~x&p,a[7]=w^~y&q,a[16]=F^~H&z,a[17]=G^~I&A,a[26]=P^~R&J,a[27]=Q^~S&K,a[36]=Z^~_&T,a[37]=$^~aa&U,a[46]=ah^~aj&ab,a[47]=ai^~ak&ac,a[8]=x^~p&r,a[9]=y^~q&s,a[18]=H^~z&B,a[19]=I^~A&C,a[28]=R^~J&L,a[29]=S^~K&M,a[38]=_^~T&V,a[39]=aa^~U&W,a[48]=aj^~ab&ad,a[49]=ak^~ac&ae,a[0]^=m[d],a[1]^=m[d+1]};if(g)b.exports=y;else{for(A=0;A<z.length;++A)e[z[A]]=y[z[A]];h&&(a.r,void 0!==y&&a.v(y))}}()},93146,a=>{"use strict";var b=function(a,c){return(b=Object.setPrototypeOf||({__proto__:[]})instanceof Array&&function(a,b){a.__proto__=b}||function(a,b){for(var c in b)b.hasOwnProperty(c)&&(a[c]=b[c])})(a,c)};function c(a,c){function d(){this.constructor=a}b(a,c),a.prototype=null===c?Object.create(c):(d.prototype=c.prototype,new d)}var d=function(){return(d=Object.assign||function(a){for(var b,c=1,d=arguments.length;c<d;c++)for(var e in b=arguments[c])Object.prototype.hasOwnProperty.call(b,e)&&(a[e]=b[e]);return a}).apply(this,arguments)};function e(a,b){var c={};for(var d in a)Object.prototype.hasOwnProperty.call(a,d)&&0>b.indexOf(d)&&(c[d]=a[d]);if(null!=a&&"function"==typeof Object.getOwnPropertySymbols)for(var e=0,d=Object.getOwnPropertySymbols(a);e<d.length;e++)0>b.indexOf(d[e])&&Object.prototype.propertyIsEnumerable.call(a,d[e])&&(c[d[e]]=a[d[e]]);return c}function f(a,b,c,d){var e,f=arguments.length,g=f<3?b:null===d?d=Object.getOwnPropertyDescriptor(b,c):d;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)g=Reflect.decorate(a,b,c,d);else for(var h=a.length-1;h>=0;h--)(e=a[h])&&(g=(f<3?e(g):f>3?e(b,c,g):e(b,c))||g);return f>3&&g&&Object.defineProperty(b,c,g),g}function g(a,b){return function(c,d){b(c,d,a)}}function h(a,b){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(a,b)}function i(a,b,c,d){return new(c||(c=Promise))(function(e,f){function g(a){try{i(d.next(a))}catch(a){f(a)}}function h(a){try{i(d.throw(a))}catch(a){f(a)}}function i(a){var b;a.done?e(a.value):((b=a.value)instanceof c?b:new c(function(a){a(b)})).then(g,h)}i((d=d.apply(a,b||[])).next())})}function j(a,b){var c,d,e,f,g={label:0,sent:function(){if(1&e[0])throw e[1];return e[1]},trys:[],ops:[]};return f={next:h(0),throw:h(1),return:h(2)},"function"==typeof Symbol&&(f[Symbol.iterator]=function(){return this}),f;function h(f){return function(h){var i=[f,h];if(c)throw TypeError("Generator is already executing.");for(;g;)try{if(c=1,d&&(e=2&i[0]?d.return:i[0]?d.throw||((e=d.return)&&e.call(d),0):d.next)&&!(e=e.call(d,i[1])).done)return e;switch(d=0,e&&(i=[2&i[0],e.value]),i[0]){case 0:case 1:e=i;break;case 4:return g.label++,{value:i[1],done:!1};case 5:g.label++,d=i[1],i=[0];continue;case 7:i=g.ops.pop(),g.trys.pop();continue;default:if(!(e=(e=g.trys).length>0&&e[e.length-1])&&(6===i[0]||2===i[0])){g=0;continue}if(3===i[0]&&(!e||i[1]>e[0]&&i[1]<e[3])){g.label=i[1];break}if(6===i[0]&&g.label<e[1]){g.label=e[1],e=i;break}if(e&&g.label<e[2]){g.label=e[2],g.ops.push(i);break}e[2]&&g.ops.pop(),g.trys.pop();continue}i=b.call(a,g)}catch(a){i=[6,a],d=0}finally{c=e=0}if(5&i[0])throw i[1];return{value:i[0]?i[1]:void 0,done:!0}}}}function k(a,b,c,d){void 0===d&&(d=c),a[d]=b[c]}function l(a,b){for(var c in a)"default"===c||b.hasOwnProperty(c)||(b[c]=a[c])}function m(a){var b="function"==typeof Symbol&&Symbol.iterator,c=b&&a[b],d=0;if(c)return c.call(a);if(a&&"number"==typeof a.length)return{next:function(){return a&&d>=a.length&&(a=void 0),{value:a&&a[d++],done:!a}}};throw TypeError(b?"Object is not iterable.":"Symbol.iterator is not defined.")}function n(a,b){var c="function"==typeof Symbol&&a[Symbol.iterator];if(!c)return a;var d,e,f=c.call(a),g=[];try{for(;(void 0===b||b-- >0)&&!(d=f.next()).done;)g.push(d.value)}catch(a){e={error:a}}finally{try{d&&!d.done&&(c=f.return)&&c.call(f)}finally{if(e)throw e.error}}return g}function o(){for(var a=[],b=0;b<arguments.length;b++)a=a.concat(n(arguments[b]));return a}function p(){for(var a=0,b=0,c=arguments.length;b<c;b++)a+=arguments[b].length;for(var d=Array(a),e=0,b=0;b<c;b++)for(var f=arguments[b],g=0,h=f.length;g<h;g++,e++)d[e]=f[g];return d}function q(a){return this instanceof q?(this.v=a,this):new q(a)}function r(a,b,c){if(!Symbol.asyncIterator)throw TypeError("Symbol.asyncIterator is not defined.");var d,e=c.apply(a,b||[]),f=[];return d={},g("next"),g("throw"),g("return"),d[Symbol.asyncIterator]=function(){return this},d;function g(a){e[a]&&(d[a]=function(b){return new Promise(function(c,d){f.push([a,b,c,d])>1||h(a,b)})})}function h(a,b){try{var c;(c=e[a](b)).value instanceof q?Promise.resolve(c.value.v).then(i,j):k(f[0][2],c)}catch(a){k(f[0][3],a)}}function i(a){h("next",a)}function j(a){h("throw",a)}function k(a,b){a(b),f.shift(),f.length&&h(f[0][0],f[0][1])}}function s(a){var b,c;return b={},d("next"),d("throw",function(a){throw a}),d("return"),b[Symbol.iterator]=function(){return this},b;function d(d,e){b[d]=a[d]?function(b){return(c=!c)?{value:q(a[d](b)),done:"return"===d}:e?e(b):b}:e}}function t(a){if(!Symbol.asyncIterator)throw TypeError("Symbol.asyncIterator is not defined.");var b,c=a[Symbol.asyncIterator];return c?c.call(a):(a=m(a),b={},d("next"),d("throw"),d("return"),b[Symbol.asyncIterator]=function(){return this},b);function d(c){b[c]=a[c]&&function(b){return new Promise(function(d,e){var f,g,h;f=d,g=e,h=(b=a[c](b)).done,Promise.resolve(b.value).then(function(a){f({value:a,done:h})},g)})}}}function u(a,b){return Object.defineProperty?Object.defineProperty(a,"raw",{value:b}):a.raw=b,a}function v(a){if(a&&a.__esModule)return a;var b={};if(null!=a)for(var c in a)Object.hasOwnProperty.call(a,c)&&(b[c]=a[c]);return b.default=a,b}function w(a){return a&&a.__esModule?a:{default:a}}function x(a,b){if(!b.has(a))throw TypeError("attempted to get private field on non-instance");return b.get(a)}function y(a,b,c){if(!b.has(a))throw TypeError("attempted to set private field on non-instance");return b.set(a,c),c}a.s(["__assign",()=>d,"__asyncDelegator",()=>s,"__asyncGenerator",()=>r,"__asyncValues",()=>t,"__await",()=>q,"__awaiter",()=>i,"__classPrivateFieldGet",()=>x,"__classPrivateFieldSet",()=>y,"__createBinding",()=>k,"__decorate",()=>f,"__exportStar",()=>l,"__extends",()=>c,"__generator",()=>j,"__importDefault",()=>w,"__importStar",()=>v,"__makeTemplateObject",()=>u,"__metadata",()=>h,"__param",()=>g,"__read",()=>n,"__rest",()=>e,"__spread",()=>o,"__spreadArrays",()=>p,"__values",()=>m])},80639,(a,b,c)=>{"use strict";function d(){return(null===a.g||void 0===a.g?void 0:a.g.crypto)||(null===a.g||void 0===a.g?void 0:a.g.msCrypto)||{}}function e(){let a=d();return a.subtle||a.webkitSubtle}Object.defineProperty(c,"__esModule",{value:!0}),c.isBrowserCryptoAvailable=c.getSubtleCrypto=c.getBrowerCrypto=void 0,c.getBrowerCrypto=d,c.getSubtleCrypto=e,c.isBrowserCryptoAvailable=function(){return!!d()&&!!e()}},95447,(a,b,c)=>{"use strict";function d(){return"undefined"==typeof document&&"undefined"!=typeof navigator&&"ReactNative"===navigator.product}function e(){return"undefined"!=typeof process&&void 0!==process.versions&&void 0!==process.versions.node}Object.defineProperty(c,"__esModule",{value:!0}),c.isBrowser=c.isNode=c.isReactNative=void 0,c.isReactNative=d,c.isNode=e,c.isBrowser=function(){return!d()&&!e()}},56046,(a,b,c)=>{"use strict";Object.defineProperty(c,"__esModule",{value:!0});let d=a.r(93146);d.__exportStar(a.r(80639),c),d.__exportStar(a.r(95447),c)},27247,a=>{"use strict";let b="PARSE_ERROR",c="INVALID_REQUEST",d="METHOD_NOT_FOUND",e="INVALID_PARAMS",f="INTERNAL_ERROR",g="SERVER_ERROR",h=[-32700,-32600,-32601,-32602,-32603],i=[-32e3,-32099],j={[b]:{code:-32700,message:"Parse error"},[c]:{code:-32600,message:"Invalid Request"},[d]:{code:-32601,message:"Method not found"},[e]:{code:-32602,message:"Invalid params"},[f]:{code:-32603,message:"Internal error"},[g]:{code:-32e3,message:"Server error"}};function k(a){return a<=i[0]&&a>=i[1]}function l(a){return h.includes(a)}function m(a){return"number"==typeof a}function n(a){return Object.keys(j).includes(a)?j[a]:j[g]}function o(a){let b=Object.values(j).find(b=>b.code===a);return b||j[g]}function p(a){if(void 0===a.error.code)return{valid:!1,error:"Missing code for JSON-RPC error"};if(void 0===a.error.message)return{valid:!1,error:"Missing message for JSON-RPC error"};if(!m(a.error.code))return{valid:!1,error:`Invalid error code type for JSON-RPC: ${a.error.code}`};if(l(a.error.code)){let b=o(a.error.code);if(b.message!==j[g].message&&a.error.message===b.message)return{valid:!1,error:`Invalid error code message for JSON-RPC: ${a.error.code}`}}return{valid:!0}}function q(a,b,c){return a.message.includes("getaddrinfo ENOTFOUND")||a.message.includes("connect ECONNREFUSED")?Error(`Unavailable ${c} RPC url at ${b}`):a}a.s(["DEFAULT_ERROR",0,g,"INTERNAL_ERROR",0,f,"INVALID_PARAMS",0,e,"INVALID_REQUEST",0,c,"METHOD_NOT_FOUND",0,d,"PARSE_ERROR",0,b,"RESERVED_ERROR_CODES",0,h,"SERVER_ERROR",0,g,"SERVER_ERROR_CODE_RANGE",0,i,"STANDARD_ERROR_MAP",0,j],12552),a.s(["getError",()=>n,"getErrorByCode",()=>o,"isReservedErrorCode",()=>l,"isServerErrorCode",()=>k,"isValidErrorCode",()=>m,"parseConnectionError",()=>q,"validateJsonRpcError",()=>p],32269);var r=a.i(56046);let s=r.isNode;function t(a=3){return Date.now()*Math.pow(10,a)+Math.floor(Math.random()*Math.pow(10,a))}function u(a=6){return BigInt(t(a))}function v(a,b,c){return{id:c||t(),jsonrpc:"2.0",method:a,params:b}}function w(a,b){return{id:a,jsonrpc:"2.0",result:b}}function x(a,b,c){return{id:a,jsonrpc:"2.0",error:y(b,c)}}function y(a,b){return void 0===a?n(f):("string"==typeof a&&(a=Object.assign(Object.assign({},n(g)),{message:a})),void 0!==b&&(a.data=b),l(a.code)&&(a=o(a.code)),a)}function z(a){return a.includes("*")?B(a):!/\W/g.test(a)}function A(a){return"*"===a}function B(a){return!!A(a)||!!a.includes("*")&&2===a.split("*").length&&1===a.split("*").filter(a=>""===a.trim()).length}function C(a){return!A(a)&&B(a)&&!a.split("*")[0].trim()}function D(a){return!A(a)&&B(a)&&!a.split("*")[1].trim()}a.s(["isNodeJs",0,s],75325),a.s(["formatErrorMessage",()=>y,"formatJsonRpcError",()=>x,"formatJsonRpcRequest",()=>v,"formatJsonRpcResult",()=>w,"getBigIntRpcId",()=>u,"payloadId",()=>t],50543),a.s(["isValidDefaultRoute",()=>A,"isValidLeadingWildcardRoute",()=>C,"isValidRoute",()=>z,"isValidTrailingWildcardRoute",()=>D,"isValidWildcardRoute",()=>B],47277);class E{}class F extends E{constructor(a){super()}}class G extends E{constructor(){super()}}class H extends G{constructor(a){super()}}function I(a,b){let c=function(a){let b=a.match(RegExp(/^\w+:/,"gi"));if(b&&b.length)return b[0]}(a);return void 0!==c&&new RegExp(b).test(c)}function J(a){return I(a,"^https?:")}function K(a){return I(a,"^wss?:")}function L(a){return RegExp("wss?://localhost(:d{2,5})?").test(a)}function M(a){return"object"==typeof a&&"id"in a&&"jsonrpc"in a&&"2.0"===a.jsonrpc}function N(a){return M(a)&&"method"in a}function O(a){return M(a)&&(P(a)||Q(a))}function P(a){return"result"in a}function Q(a){return"error"in a}function R(a){return"error"in a&&!1===a.valid}a.s(["IBaseJsonRpcProvider",()=>G,"IEvents",()=>E,"IJsonRpcConnection",()=>F,"IJsonRpcProvider",()=>H],12583),a.s([],69190),a.s(["isHttpUrl",()=>J,"isLocalhostUrl",()=>L,"isWsUrl",()=>K],14352),a.s(["isJsonRpcError",()=>Q,"isJsonRpcPayload",()=>M,"isJsonRpcRequest",()=>N,"isJsonRpcResponse",()=>O,"isJsonRpcResult",()=>P,"isJsonRpcValidationInvalid",()=>R],11228),a.s([],21449),a.i(21449),a.i(12552),a.i(32269),a.i(75325),a.s(["isNodeJs",0,s],4516),a.j(r,4516);var S=a.i(4516);a.i(50543),a.i(47277),a.i(69190),a.i(12583),a.s(["IBaseJsonRpcProvider",()=>G,"IEvents",()=>E,"IJsonRpcConnection",()=>F,"IJsonRpcProvider",()=>H],57584),a.i(57584),a.i(14352),a.i(11228),a.s(["DEFAULT_ERROR",0,g,"IBaseJsonRpcProvider",()=>G,"IEvents",()=>E,"IJsonRpcConnection",()=>F,"IJsonRpcProvider",()=>H,"INTERNAL_ERROR",0,f,"INVALID_PARAMS",0,e,"INVALID_REQUEST",0,c,"METHOD_NOT_FOUND",0,d,"PARSE_ERROR",0,b,"RESERVED_ERROR_CODES",0,h,"SERVER_ERROR",0,g,"SERVER_ERROR_CODE_RANGE",0,i,"STANDARD_ERROR_MAP",0,j,"formatErrorMessage",()=>y,"formatJsonRpcError",()=>x,"formatJsonRpcRequest",()=>v,"formatJsonRpcResult",()=>w,"getBigIntRpcId",()=>u,"getError",()=>n,"getErrorByCode",()=>o,"isHttpUrl",()=>J,"isJsonRpcError",()=>Q,"isJsonRpcPayload",()=>M,"isJsonRpcRequest",()=>N,"isJsonRpcResponse",()=>O,"isJsonRpcResult",()=>P,"isJsonRpcValidationInvalid",()=>R,"isLocalhostUrl",()=>L,"isNodeJs",0,s,"isReservedErrorCode",()=>l,"isServerErrorCode",()=>k,"isValidDefaultRoute",()=>A,"isValidErrorCode",()=>m,"isValidLeadingWildcardRoute",()=>C,"isValidRoute",()=>z,"isValidTrailingWildcardRoute",()=>D,"isValidWildcardRoute",()=>B,"isWsUrl",()=>K,"parseConnectionError",()=>q,"payloadId",()=>t,"validateJsonRpcError",()=>p],27247),a.j(S,27247)},85764,(a,b,c)=>{"use strict";Object.defineProperty(c,"__esModule",{value:!0}),c.getRpcUrl=c.getInfuraRpcUrl=c.logDeprecationWarning=c.uuid=c.payloadId=c.removeHexLeadingZeros=c.removeHexPrefix=c.addHexPrefix=c.sanitizeHex=void 0;let d=a.r(17385),e=d.__importStar(a.r(43600)),f=d.__importStar(a.r(27247)),g=a.r(31208);function h(a,b){let c,d=g.infuraNetworks[a];return d&&(c=`https://${d}.infura.io/v3/${b}`),c}c.sanitizeHex=function(a){return e.sanitizeHex(a)},c.addHexPrefix=function(a){return e.addHexPrefix(a)},c.removeHexPrefix=function(a){return e.removeHexPrefix(a)},c.removeHexLeadingZeros=function(a){return e.removeHexLeadingZeros(e.addHexPrefix(a))},c.payloadId=f.payloadId,c.uuid=function(){var a,b;for(b=a="";a++<36;b+=51*a&52?(15^a?8^Math.random()*(20^a?16:4):4).toString(16):"-");return b},c.logDeprecationWarning=function(){console.warn("DEPRECATION WARNING: This WalletConnect client library will be deprecated in favor of @walletconnect/client. Please check docs.walletconnect.org to learn more about this migration!")},c.getInfuraRpcUrl=h,c.getRpcUrl=function(a,b){let c,d=h(a,b.infuraId);return b.custom&&b.custom[a]?c=b.custom[a]:d&&(c=d),c}},25285,(a,b,c)=>{"use strict";Object.defineProperty(c,"__esModule",{value:!0}),c.isSilentPayload=c.isReservedEvent=c.isInternalEvent=c.isJsonRpcResponseError=c.isJsonRpcResponseSuccess=c.isJsonRpcRequest=c.isJsonRpcSubscription=c.isHexString=c.getEncoding=c.getType=c.isArrayBuffer=c.isTypedArray=c.isBuffer=c.isEmptyArray=c.isEmptyString=void 0;let d=a.r(17385).__importStar(a.r(43600)),e=a.r(31208);c.isEmptyString=function(a){return""===a||"string"==typeof a&&""===a.trim()},c.isEmptyArray=function(a){return!(a&&a.length)},c.isBuffer=function(a){return d.isBuffer(a)},c.isTypedArray=function(a){return d.isTypedArray(a)},c.isArrayBuffer=function(a){return d.isArrayBuffer(a)},c.getType=function(a){return d.getType(a)},c.getEncoding=function(a){return d.getEncoding(a)},c.isHexString=function(a,b){return d.isHexString(a,b)},c.isJsonRpcSubscription=function(a){return"object"==typeof a.params},c.isJsonRpcRequest=function(a){return void 0!==a.method},c.isJsonRpcResponseSuccess=function(a){return void 0!==a.result},c.isJsonRpcResponseError=function(a){return void 0!==a.error},c.isInternalEvent=function(a){return void 0!==a.event},c.isReservedEvent=function(a){return e.reservedEvents.includes(a)||a.startsWith("wc_")},c.isSilentPayload=function(a){return!!a.method.startsWith("wc_")||!e.signingMethods.includes(a.method)}},36207,(a,b,c)=>{"use strict";Object.defineProperty(c,"__esModule",{value:!0}),c.parseTransactionData=c.parsePersonalSign=c.isValidAddress=c.toChecksumAddress=void 0;let d=a.r(68304),e=a.r(43600),f=a.r(74667),g=a.r(85764),h=a.r(25285);function i(a){a=(0,e.removeHexPrefix)(a.toLowerCase());let b=(0,e.removeHexPrefix)((0,d.keccak_256)((0,f.convertUtf8ToBuffer)(a))),c="";for(let d=0;d<a.length;d++)parseInt(b[d],16)>7?c+=a[d].toUpperCase():c+=a[d];return(0,e.addHexPrefix)(c)}c.toChecksumAddress=i,c.isValidAddress=a=>!!a&&"0x"===a.toLowerCase().substring(0,2)&&!!/^(0x)?[0-9a-f]{40}$/i.test(a)&&(!!(/^(0x)?[0-9a-f]{40}$/.test(a)||/^(0x)?[0-9A-F]{40}$/.test(a))||a===i(a)),c.parsePersonalSign=function(a){return(0,h.isEmptyArray)(a)||(0,h.isHexString)(a[0])||(a[0]=(0,f.convertUtf8ToHex)(a[0])),a},c.parseTransactionData=function(a){if(void 0!==a.type&&"0"!==a.type)return a;if(void 0===a.from||!(0,c.isValidAddress)(a.from))throw Error("Transaction object must include a valid 'from' value.");function b(a){let b=a;return"number"!=typeof a&&("string"!=typeof a||(0,h.isEmptyString)(a))||((0,h.isHexString)(a)?"string"==typeof a&&(b=(0,g.sanitizeHex)(a)):b=(0,f.convertNumberToHex)(a)),"string"==typeof b&&(b=(0,g.removeHexLeadingZeros)(b)),b}let d={from:(0,g.sanitizeHex)(a.from),to:void 0===a.to?void 0:(0,g.sanitizeHex)(a.to),gasPrice:void 0===a.gasPrice?"":b(a.gasPrice),gas:void 0===a.gas?void 0===a.gasLimit?"":b(a.gasLimit):b(a.gas),value:void 0===a.value?"":b(a.value),nonce:void 0===a.nonce?"":b(a.nonce),data:void 0===a.data?"":(0,g.sanitizeHex)(a.data)||"0x"},e=["gasPrice","gas","value","nonce"];return Object.keys(d).forEach(a=>{(void 0===d[a]||"string"==typeof d[a]&&!d[a].trim().length)&&e.includes(a)&&delete d[a]}),d}},38378,(a,b,c)=>{"use strict";Object.defineProperty(c,"__esModule",{value:!0}),c.formatRpcError=c.promisify=void 0;let d=a.r(17385);c.promisify=function(a,b){return(...c)=>d.__awaiter(this,void 0,void 0,function*(){return new Promise((d,e)=>{a.apply(b,[...c,(a,b)=>{null==a&&e(a),d(b)}])})})},c.formatRpcError=function(a){let b=a.message||"Failed or Rejected Request",c=-32e3;if(a&&!a.code)switch(b){case"Parse error":c=-32700;break;case"Invalid request":c=-32600;break;case"Method not found":c=-32601;break;case"Invalid params":c=-32602;break;case"Internal error":c=-32603;break;default:c=-32e3}let d={code:c,message:b};return a.data&&(d.data=a.data),d}},61646,(a,b,c)=>{"use strict";b.exports=a=>encodeURIComponent(a).replace(/[!'()*]/g,a=>`%${a.charCodeAt(0).toString(16).toUpperCase()}`)},2153,(a,b,c)=>{"use strict";var d="%[a-f0-9]{2}",e=RegExp("("+d+")|([^%]+?)","gi"),f=RegExp("("+d+")+","gi");b.exports=function(a){if("string"!=typeof a)throw TypeError("Expected `encodedURI` to be of type `string`, got `"+typeof a+"`");try{return a=a.replace(/\+/g," "),decodeURIComponent(a)}catch(b){return function(a){for(var b={"%FE%FF":"","%FF%FE":""},c=f.exec(a);c;){try{b[c[0]]=decodeURIComponent(c[0])}catch(a){var d=function(a){try{return decodeURIComponent(a)}catch(d){for(var b=a.match(e)||[],c=1;c<b.length;c++)b=(a=(function a(b,c){try{return[decodeURIComponent(b.join(""))]}catch(a){}if(1===b.length)return b;c=c||1;var d=b.slice(0,c),e=b.slice(c);return Array.prototype.concat.call([],a(d),a(e))})(b,c).join("")).match(e)||[];return a}}(c[0]);d!==c[0]&&(b[c[0]]=d)}c=f.exec(a)}b["%C2"]="";for(var g=Object.keys(b),h=0;h<g.length;h++){var i=g[h];a=a.replace(RegExp(i,"g"),b[i])}return a}(a)}}},77815,(a,b,c)=>{"use strict";b.exports=(a,b)=>{if("string"!=typeof a||"string"!=typeof b)throw TypeError("Expected the arguments to be of type `string`");if(""===b)return[a];let c=a.indexOf(b);return -1===c?[a]:[a.slice(0,c),a.slice(c+b.length)]}},74823,(a,b,c)=>{"use strict";let d=a.r(61646),e=a.r(2153),f=a.r(77815);function g(a){if("string"!=typeof a||1!==a.length)throw TypeError("arrayFormatSeparator must be single character string")}function h(a,b){return b.encode?b.strict?d(a):encodeURIComponent(a):a}function i(a,b){return b.decode?e(a):a}function j(a){let b=a.indexOf("#");return -1!==b&&(a=a.slice(0,b)),a}function k(a){let b=(a=j(a)).indexOf("?");return -1===b?"":a.slice(b+1)}function l(a,b){return b.parseNumbers&&!Number.isNaN(Number(a))&&"string"==typeof a&&""!==a.trim()?a=Number(a):b.parseBooleans&&null!==a&&("true"===a.toLowerCase()||"false"===a.toLowerCase())&&(a="true"===a.toLowerCase()),a}function m(a,b){g((b=Object.assign({decode:!0,sort:!0,arrayFormat:"none",arrayFormatSeparator:",",parseNumbers:!1,parseBooleans:!1},b)).arrayFormatSeparator);let c=function(a){let b;switch(a.arrayFormat){case"index":return(a,c,d)=>{if(b=/\[(\d*)\]$/.exec(a),a=a.replace(/\[\d*\]$/,""),!b){d[a]=c;return}void 0===d[a]&&(d[a]={}),d[a][b[1]]=c};case"bracket":return(a,c,d)=>{if(b=/(\[\])$/.exec(a),a=a.replace(/\[\]$/,""),!b){d[a]=c;return}if(void 0===d[a]){d[a]=[c];return}d[a]=[].concat(d[a],c)};case"comma":case"separator":return(b,c,d)=>{let e="string"==typeof c&&c.split("").indexOf(a.arrayFormatSeparator)>-1?c.split(a.arrayFormatSeparator).map(b=>i(b,a)):null===c?c:i(c,a);d[b]=e};default:return(a,b,c)=>{if(void 0===c[a]){c[a]=b;return}c[a]=[].concat(c[a],b)}}}(b),d=Object.create(null);if("string"!=typeof a||!(a=a.trim().replace(/^[?#&]/,"")))return d;for(let e of a.split("&")){let[a,g]=f(b.decode?e.replace(/\+/g," "):e,"=");g=void 0===g?null:["comma","separator"].includes(b.arrayFormat)?g:i(g,b),c(i(a,b),g,d)}for(let a of Object.keys(d)){let c=d[a];if("object"==typeof c&&null!==c)for(let a of Object.keys(c))c[a]=l(c[a],b);else d[a]=l(c,b)}return!1===b.sort?d:(!0===b.sort?Object.keys(d).sort():Object.keys(d).sort(b.sort)).reduce((a,b)=>{let c=d[b];return c&&"object"==typeof c&&!Array.isArray(c)?a[b]=function a(b){return Array.isArray(b)?b.sort():"object"==typeof b?a(Object.keys(b)).sort((a,b)=>Number(a)-Number(b)).map(a=>b[a]):b}(c):a[b]=c,a},Object.create(null))}c.extract=k,c.parse=m,c.stringify=(a,b)=>{if(!a)return"";g((b=Object.assign({encode:!0,strict:!0,arrayFormat:"none",arrayFormatSeparator:","},b)).arrayFormatSeparator);let c=c=>b.skipNull&&null==a[c]||b.skipEmptyString&&""===a[c],d=function(a){switch(a.arrayFormat){case"index":return b=>(c,d)=>{let e=c.length;return void 0===d||a.skipNull&&null===d||a.skipEmptyString&&""===d?c:null===d?[...c,h(b,a)+"["+e+"]"]:[...c,h(b,a)+"["+h(e,a)+"]="+h(d,a)]};case"bracket":return b=>(c,d)=>void 0===d||a.skipNull&&null===d||a.skipEmptyString&&""===d?c:null===d?[...c,h(b,a)+"[]"]:[...c,h(b,a)+"[]="+h(d,a)];case"comma":case"separator":return b=>(c,d)=>null==d||0===d.length?c:0===c.length?[h(b,a)+"="+h(d,a)]:[[c,h(d,a)].join(a.arrayFormatSeparator)];default:return b=>(c,d)=>void 0===d||a.skipNull&&null===d||a.skipEmptyString&&""===d?c:null===d?[...c,h(b,a)]:[...c,h(b,a)+"="+h(d,a)]}}(b),e={};for(let b of Object.keys(a))c(b)||(e[b]=a[b]);let f=Object.keys(e);return!1!==b.sort&&f.sort(b.sort),f.map(c=>{let e=a[c];return void 0===e?"":null===e?h(c,b):Array.isArray(e)?e.reduce(d(c),[]).join("&"):h(c,b)+"="+h(e,b)}).filter(a=>a.length>0).join("&")},c.parseUrl=(a,b)=>{b=Object.assign({decode:!0},b);let[c,d]=f(a,"#");return Object.assign({url:c.split("?")[0]||"",query:m(k(a),b)},b&&b.parseFragmentIdentifier&&d?{fragmentIdentifier:i(d,b)}:{})},c.stringifyUrl=(a,b)=>{var d;let e,f;b=Object.assign({encode:!0,strict:!0},b);let g=j(a.url).split("?")[0]||"",i=c.extract(a.url),k=Object.assign(c.parse(i,{sort:!1}),a.query),l=c.stringify(k,b);l&&(l=`?${l}`);let m=(d=a.url,e="",-1!==(f=d.indexOf("#"))&&(e=d.slice(f)),e);return a.fragmentIdentifier&&(m=`#${h(a.fragmentIdentifier,b)}`),`${g}${l}${m}`}},26691,(a,b,c)=>{"use strict";Object.defineProperty(c,"__esModule",{value:!0}),c.formatQueryString=c.parseQueryString=c.appendToQueryString=c.getQueryString=void 0;let d=a.r(17385).__importStar(a.r(74823));function e(a){return d.parse(a)}function f(a){return d.stringify(a)}c.getQueryString=function(a){let b=-1!==a.indexOf("?")?a.indexOf("?"):void 0;return void 0!==b?a.substr(b):""},c.appendToQueryString=function(a,b){let c=e(a);return f(c=Object.assign(Object.assign({},c),b))},c.parseQueryString=e,c.formatQueryString=f},46104,(a,b,c)=>{"use strict";Object.defineProperty(c,"__esModule",{value:!0}),c.parseWalletConnectUri=c.isWalletConnectSession=void 0;let d=a.r(26691);c.isWalletConnectSession=function(a){return void 0!==a.bridge},c.parseWalletConnectUri=function(a){let b,c,e=a.indexOf(":"),f=-1!==a.indexOf("?")?a.indexOf("?"):void 0,g=a.substring(0,e),h={handshakeTopic:(b=a.substring(e+1,f).split("@"))[0],version:parseInt(b[1],10)},i=void 0!==f?a.substr(f):"",j={key:(c=(0,d.parseQueryString)(i)).key||"",bridge:c.bridge||""};return Object.assign(Object.assign({protocol:g},h),j)}},14824,(a,b,c)=>{"use strict";Object.defineProperty(c,"__esModule",{value:!0});let d=a.r(17385);d.__exportStar(a.r(42481),c),d.__exportStar(a.r(31208),c),d.__exportStar(a.r(74667),c),d.__exportStar(a.r(36207),c),d.__exportStar(a.r(85764),c),d.__exportStar(a.r(38378),c),d.__exportStar(a.r(46104),c),d.__exportStar(a.r(26691),c),d.__exportStar(a.r(25285),c)},33107,(a,b,c)=>{"use strict";Object.defineProperty(c,"__esModule",{value:!0}),c.default=class{constructor(){this._eventEmitters=[]}on(a,b){this._eventEmitters.push({event:a,callback:b})}trigger(a){let b=[];a&&(b=this._eventEmitters.filter(b=>b.event===a)),b.forEach(a=>{a.callback()})}}},27699,(a,b,c)=>{b.exports=a.x("events",()=>require("events"))},24836,(a,b,c)=>{b.exports=a.x("https",()=>require("https"))},21517,(a,b,c)=>{b.exports=a.x("http",()=>require("http"))},4446,(a,b,c)=>{b.exports=a.x("net",()=>require("net"))},55004,(a,b,c)=>{b.exports=a.x("tls",()=>require("tls"))},92509,(a,b,c)=>{b.exports=a.x("url",()=>require("url"))},6461,(a,b,c)=>{b.exports=a.x("zlib",()=>require("zlib"))},78284,(a,b,c)=>{"use strict";b.exports={BINARY_TYPES:["nodebuffer","arraybuffer","fragments"],GUID:"258EAFA5-E914-47DA-95CA-C5AB0DC85B11",kStatusCode:Symbol("status-code"),kWebSocket:Symbol("websocket"),EMPTY_BUFFER:Buffer.alloc(0),NOOP:()=>{}}},81167,(a,b,c)=>{"use strict";let{EMPTY_BUFFER:d}=a.r(78284);function e(a,b){if(0===a.length)return d;if(1===a.length)return a[0];let c=Buffer.allocUnsafe(b),e=0;for(let b=0;b<a.length;b++){let d=a[b];c.set(d,e),e+=d.length}return e<b?c.slice(0,e):c}function f(a,b,c,d,e){for(let f=0;f<e;f++)c[d+f]=a[f]^b[3&f]}function g(a,b){let c=a.length;for(let d=0;d<c;d++)a[d]^=b[3&d]}function h(a){return a.byteLength===a.buffer.byteLength?a.buffer:a.buffer.slice(a.byteOffset,a.byteOffset+a.byteLength)}function i(a){let b;return(i.readOnly=!0,Buffer.isBuffer(a))?a:(a instanceof ArrayBuffer?b=Buffer.from(a):ArrayBuffer.isView(a)?b=Buffer.from(a.buffer,a.byteOffset,a.byteLength):(b=Buffer.from(a),i.readOnly=!1),b)}try{let a=(()=>{let a=Error("Cannot find module 'bufferutil'");throw a.code="MODULE_NOT_FOUND",a})(),c=a.BufferUtil||a;b.exports={concat:e,mask(a,b,d,e,g){g<48?f(a,b,d,e,g):c.mask(a,b,d,e,g)},toArrayBuffer:h,toBuffer:i,unmask(a,b){a.length<32?g(a,b):c.unmask(a,b)}}}catch(a){b.exports={concat:e,mask:f,toArrayBuffer:h,toBuffer:i,unmask:g}}},89610,(a,b,c)=>{"use strict";let d=Symbol("kDone"),e=Symbol("kRun");b.exports=class{constructor(a){this[d]=()=>{this.pending--,this[e]()},this.concurrency=a||1/0,this.jobs=[],this.pending=0}add(a){this.jobs.push(a),this[e]()}[e](){if(this.pending!==this.concurrency&&this.jobs.length){let a=this.jobs.shift();this.pending++,a(this[d])}}}},77032,(a,b,c)=>{"use strict";let d,e=a.r(6461),f=a.r(81167),g=a.r(89610),{kStatusCode:h,NOOP:i}=a.r(78284),j=Buffer.from([0,0,255,255]),k=Symbol("permessage-deflate"),l=Symbol("total-length"),m=Symbol("callback"),n=Symbol("buffers"),o=Symbol("error");function p(a){this[n].push(a),this[l]+=a.length}function q(a){(this[l]+=a.length,this[k]._maxPayload<1||this[l]<=this[k]._maxPayload)?this[n].push(a):(this[o]=RangeError("Max payload size exceeded"),this[o].code="WS_ERR_UNSUPPORTED_MESSAGE_LENGTH",this[o][h]=1009,this.removeListener("data",q),this.reset())}function r(a){this[k]._inflate=null,a[h]=1007,this[m](a)}b.exports=class{constructor(a,b,c){this._maxPayload=0|c,this._options=a||{},this._threshold=void 0!==this._options.threshold?this._options.threshold:1024,this._isServer=!!b,this._deflate=null,this._inflate=null,this.params=null,d||(d=new g(void 0!==this._options.concurrencyLimit?this._options.concurrencyLimit:10))}static get extensionName(){return"permessage-deflate"}offer(){let a={};return this._options.serverNoContextTakeover&&(a.server_no_context_takeover=!0),this._options.clientNoContextTakeover&&(a.client_no_context_takeover=!0),this._options.serverMaxWindowBits&&(a.server_max_window_bits=this._options.serverMaxWindowBits),this._options.clientMaxWindowBits?a.client_max_window_bits=this._options.clientMaxWindowBits:null==this._options.clientMaxWindowBits&&(a.client_max_window_bits=!0),a}accept(a){return a=this.normalizeParams(a),this.params=this._isServer?this.acceptAsServer(a):this.acceptAsClient(a),this.params}cleanup(){if(this._inflate&&(this._inflate.close(),this._inflate=null),this._deflate){let a=this._deflate[m];this._deflate.close(),this._deflate=null,a&&a(Error("The deflate stream was closed while data was being processed"))}}acceptAsServer(a){let b=this._options,c=a.find(a=>(!1!==b.serverNoContextTakeover||!a.server_no_context_takeover)&&(!a.server_max_window_bits||!1!==b.serverMaxWindowBits&&("number"!=typeof b.serverMaxWindowBits||!(b.serverMaxWindowBits>a.server_max_window_bits)))&&("number"!=typeof b.clientMaxWindowBits||!!a.client_max_window_bits));if(!c)throw Error("None of the extension offers can be accepted");return b.serverNoContextTakeover&&(c.server_no_context_takeover=!0),b.clientNoContextTakeover&&(c.client_no_context_takeover=!0),"number"==typeof b.serverMaxWindowBits&&(c.server_max_window_bits=b.serverMaxWindowBits),"number"==typeof b.clientMaxWindowBits?c.client_max_window_bits=b.clientMaxWindowBits:(!0===c.client_max_window_bits||!1===b.clientMaxWindowBits)&&delete c.client_max_window_bits,c}acceptAsClient(a){let b=a[0];if(!1===this._options.clientNoContextTakeover&&b.client_no_context_takeover)throw Error('Unexpected parameter "client_no_context_takeover"');if(b.client_max_window_bits){if(!1===this._options.clientMaxWindowBits||"number"==typeof this._options.clientMaxWindowBits&&b.client_max_window_bits>this._options.clientMaxWindowBits)throw Error('Unexpected or invalid parameter "client_max_window_bits"')}else"number"==typeof this._options.clientMaxWindowBits&&(b.client_max_window_bits=this._options.clientMaxWindowBits);return b}normalizeParams(a){return a.forEach(a=>{Object.keys(a).forEach(b=>{let c=a[b];if(c.length>1)throw Error(`Parameter "${b}" must have only a single value`);if(c=c[0],"client_max_window_bits"===b){if(!0!==c){let a=+c;if(!Number.isInteger(a)||a<8||a>15)throw TypeError(`Invalid value for parameter "${b}": ${c}`);c=a}else if(!this._isServer)throw TypeError(`Invalid value for parameter "${b}": ${c}`)}else if("server_max_window_bits"===b){let a=+c;if(!Number.isInteger(a)||a<8||a>15)throw TypeError(`Invalid value for parameter "${b}": ${c}`);c=a}else if("client_no_context_takeover"===b||"server_no_context_takeover"===b){if(!0!==c)throw TypeError(`Invalid value for parameter "${b}": ${c}`)}else throw Error(`Unknown parameter "${b}"`);a[b]=c})}),a}decompress(a,b,c){d.add(d=>{this._decompress(a,b,(a,b)=>{d(),c(a,b)})})}compress(a,b,c){d.add(d=>{this._compress(a,b,(a,b)=>{d(),c(a,b)})})}_decompress(a,b,c){let d=this._isServer?"client":"server";if(!this._inflate){let a=`${d}_max_window_bits`,b="number"!=typeof this.params[a]?e.Z_DEFAULT_WINDOWBITS:this.params[a];this._inflate=e.createInflateRaw({...this._options.zlibInflateOptions,windowBits:b}),this._inflate[k]=this,this._inflate[l]=0,this._inflate[n]=[],this._inflate.on("error",r),this._inflate.on("data",q)}this._inflate[m]=c,this._inflate.write(a),b&&this._inflate.write(j),this._inflate.flush(()=>{let a=this._inflate[o];if(a){this._inflate.close(),this._inflate=null,c(a);return}let e=f.concat(this._inflate[n],this._inflate[l]);this._inflate._readableState.endEmitted?(this._inflate.close(),this._inflate=null):(this._inflate[l]=0,this._inflate[n]=[],b&&this.params[`${d}_no_context_takeover`]&&this._inflate.reset()),c(null,e)})}_compress(a,b,c){let d=this._isServer?"server":"client";if(!this._deflate){let a=`${d}_max_window_bits`,b="number"!=typeof this.params[a]?e.Z_DEFAULT_WINDOWBITS:this.params[a];this._deflate=e.createDeflateRaw({...this._options.zlibDeflateOptions,windowBits:b}),this._deflate[l]=0,this._deflate[n]=[],this._deflate.on("error",i),this._deflate.on("data",p)}this._deflate[m]=c,this._deflate.write(a),this._deflate.flush(e.Z_SYNC_FLUSH,()=>{if(!this._deflate)return;let a=f.concat(this._deflate[n],this._deflate[l]);b&&(a=a.slice(0,a.length-4)),this._deflate[m]=null,this._deflate[l]=0,this._deflate[n]=[],b&&this.params[`${d}_no_context_takeover`]&&this._deflate.reset(),c(null,a)})}}},88947,(a,b,c)=>{b.exports=a.x("stream",()=>require("stream"))},92036,(a,b,c)=>{"use strict";function d(a){return a>=1e3&&a<=1014&&1004!==a&&1005!==a&&1006!==a||a>=3e3&&a<=4999}function e(a){let b=a.length,c=0;for(;c<b;)if((128&a[c])==0)c++;else if((224&a[c])==192){if(c+1===b||(192&a[c+1])!=128||(254&a[c])==192)return!1;c+=2}else if((240&a[c])==224){if(c+2>=b||(192&a[c+1])!=128||(192&a[c+2])!=128||224===a[c]&&(224&a[c+1])==128||237===a[c]&&(224&a[c+1])==160)return!1;c+=3}else{if((248&a[c])!=240||c+3>=b||(192&a[c+1])!=128||(192&a[c+2])!=128||(192&a[c+3])!=128||240===a[c]&&(240&a[c+1])==128||244===a[c]&&a[c+1]>143||a[c]>244)return!1;c+=4}return!0}try{let a=(()=>{let a=Error("Cannot find module 'utf-8-validate'");throw a.code="MODULE_NOT_FOUND",a})();"object"==typeof a&&(a=a.Validation.isValidUTF8),b.exports={isValidStatusCode:d,isValidUTF8:b=>b.length<150?e(b):a(b)}}catch(a){b.exports={isValidStatusCode:d,isValidUTF8:e}}},70490,(a,b,c)=>{"use strict";let{Writable:d}=a.r(88947),e=a.r(77032),{BINARY_TYPES:f,EMPTY_BUFFER:g,kStatusCode:h,kWebSocket:i}=a.r(78284),{concat:j,toArrayBuffer:k,unmask:l}=a.r(81167),{isValidStatusCode:m,isValidUTF8:n}=a.r(92036);function o(a,b,c,d,e){let f=new a(c?`Invalid WebSocket frame: ${b}`:b);return Error.captureStackTrace(f,o),f.code=e,f[h]=d,f}b.exports=class extends d{constructor(a,b,c,d){super(),this._binaryType=a||f[0],this[i]=void 0,this._extensions=b||{},this._isServer=!!c,this._maxPayload=0|d,this._bufferedBytes=0,this._buffers=[],this._compressed=!1,this._payloadLength=0,this._mask=void 0,this._fragmented=0,this._masked=!1,this._fin=!1,this._opcode=0,this._totalPayloadLength=0,this._messageLength=0,this._fragments=[],this._state=0,this._loop=!1}_write(a,b,c){if(8===this._opcode&&0==this._state)return c();this._bufferedBytes+=a.length,this._buffers.push(a),this.startLoop(c)}consume(a){if(this._bufferedBytes-=a,a===this._buffers[0].length)return this._buffers.shift();if(a<this._buffers[0].length){let b=this._buffers[0];return this._buffers[0]=b.slice(a),b.slice(0,a)}let b=Buffer.allocUnsafe(a);do{let c=this._buffers[0],d=b.length-a;a>=c.length?b.set(this._buffers.shift(),d):(b.set(new Uint8Array(c.buffer,c.byteOffset,a),d),this._buffers[0]=c.slice(a)),a-=c.length}while(a>0)return b}startLoop(a){let b;this._loop=!0;do switch(this._state){case 0:b=this.getInfo();break;case 1:b=this.getPayloadLength16();break;case 2:b=this.getPayloadLength64();break;case 3:this.getMask();break;case 4:b=this.getData(a);break;default:this._loop=!1;return}while(this._loop)a(b)}getInfo(){if(this._bufferedBytes<2){this._loop=!1;return}let a=this.consume(2);if((48&a[0])!=0)return this._loop=!1,o(RangeError,"RSV2 and RSV3 must be clear",!0,1002,"WS_ERR_UNEXPECTED_RSV_2_3");let b=(64&a[0])==64;if(b&&!this._extensions[e.extensionName])return this._loop=!1,o(RangeError,"RSV1 must be clear",!0,1002,"WS_ERR_UNEXPECTED_RSV_1");if(this._fin=(128&a[0])==128,this._opcode=15&a[0],this._payloadLength=127&a[1],0===this._opcode){if(b)return this._loop=!1,o(RangeError,"RSV1 must be clear",!0,1002,"WS_ERR_UNEXPECTED_RSV_1");if(!this._fragmented)return this._loop=!1,o(RangeError,"invalid opcode 0",!0,1002,"WS_ERR_INVALID_OPCODE");this._opcode=this._fragmented}else if(1===this._opcode||2===this._opcode){if(this._fragmented)return this._loop=!1,o(RangeError,`invalid opcode ${this._opcode}`,!0,1002,"WS_ERR_INVALID_OPCODE");this._compressed=b}else{if(!(this._opcode>7)||!(this._opcode<11))return this._loop=!1,o(RangeError,`invalid opcode ${this._opcode}`,!0,1002,"WS_ERR_INVALID_OPCODE");if(!this._fin)return this._loop=!1,o(RangeError,"FIN must be set",!0,1002,"WS_ERR_EXPECTED_FIN");if(b)return this._loop=!1,o(RangeError,"RSV1 must be clear",!0,1002,"WS_ERR_UNEXPECTED_RSV_1");if(this._payloadLength>125)return this._loop=!1,o(RangeError,`invalid payload length ${this._payloadLength}`,!0,1002,"WS_ERR_INVALID_CONTROL_PAYLOAD_LENGTH")}if(this._fin||this._fragmented||(this._fragmented=this._opcode),this._masked=(128&a[1])==128,this._isServer){if(!this._masked)return this._loop=!1,o(RangeError,"MASK must be set",!0,1002,"WS_ERR_EXPECTED_MASK")}else if(this._masked)return this._loop=!1,o(RangeError,"MASK must be clear",!0,1002,"WS_ERR_UNEXPECTED_MASK");if(126===this._payloadLength)this._state=1;else{if(127!==this._payloadLength)return this.haveLength();this._state=2}}getPayloadLength16(){if(this._bufferedBytes<2){this._loop=!1;return}return this._payloadLength=this.consume(2).readUInt16BE(0),this.haveLength()}getPayloadLength64(){if(this._bufferedBytes<8){this._loop=!1;return}let a=this.consume(8),b=a.readUInt32BE(0);return b>2097151?(this._loop=!1,o(RangeError,"Unsupported WebSocket frame: payload length > 2^53 - 1",!1,1009,"WS_ERR_UNSUPPORTED_DATA_PAYLOAD_LENGTH")):(this._payloadLength=0x100000000*b+a.readUInt32BE(4),this.haveLength())}haveLength(){if(this._payloadLength&&this._opcode<8&&(this._totalPayloadLength+=this._payloadLength,this._totalPayloadLength>this._maxPayload&&this._maxPayload>0))return this._loop=!1,o(RangeError,"Max payload size exceeded",!1,1009,"WS_ERR_UNSUPPORTED_MESSAGE_LENGTH");this._masked?this._state=3:this._state=4}getMask(){if(this._bufferedBytes<4){this._loop=!1;return}this._mask=this.consume(4),this._state=4}getData(a){let b=g;if(this._payloadLength){if(this._bufferedBytes<this._payloadLength){this._loop=!1;return}b=this.consume(this._payloadLength),this._masked&&l(b,this._mask)}if(this._opcode>7)return this.controlMessage(b);if(this._compressed){this._state=5,this.decompress(b,a);return}return b.length&&(this._messageLength=this._totalPayloadLength,this._fragments.push(b)),this.dataMessage()}decompress(a,b){this._extensions[e.extensionName].decompress(a,this._fin,(a,c)=>{if(a)return b(a);if(c.length){if(this._messageLength+=c.length,this._messageLength>this._maxPayload&&this._maxPayload>0)return b(o(RangeError,"Max payload size exceeded",!1,1009,"WS_ERR_UNSUPPORTED_MESSAGE_LENGTH"));this._fragments.push(c)}let d=this.dataMessage();if(d)return b(d);this.startLoop(b)})}dataMessage(){if(this._fin){let a=this._messageLength,b=this._fragments;if(this._totalPayloadLength=0,this._messageLength=0,this._fragmented=0,this._fragments=[],2===this._opcode){let c;c="nodebuffer"===this._binaryType?j(b,a):"arraybuffer"===this._binaryType?k(j(b,a)):b,this.emit("message",c)}else{let c=j(b,a);if(!n(c))return this._loop=!1,o(Error,"invalid UTF-8 sequence",!0,1007,"WS_ERR_INVALID_UTF8");this.emit("message",c.toString())}}this._state=0}controlMessage(a){if(8===this._opcode)if(this._loop=!1,0===a.length)this.emit("conclude",1005,""),this.end();else{if(1===a.length)return o(RangeError,"invalid payload length 1",!0,1002,"WS_ERR_INVALID_CONTROL_PAYLOAD_LENGTH");let b=a.readUInt16BE(0);if(!m(b))return o(RangeError,`invalid status code ${b}`,!0,1002,"WS_ERR_INVALID_CLOSE_CODE");let c=a.slice(2);if(!n(c))return o(Error,"invalid UTF-8 sequence",!0,1007,"WS_ERR_INVALID_UTF8");this.emit("conclude",b,c.toString()),this.end()}else 9===this._opcode?this.emit("ping",a):this.emit("pong",a);this._state=0}}},36183,(a,b,c)=>{"use strict";a.r(4446),a.r(55004);let{randomFillSync:d}=a.r(54799),e=a.r(77032),{EMPTY_BUFFER:f}=a.r(78284),{isValidStatusCode:g}=a.r(92036),{mask:h,toBuffer:i}=a.r(81167),j=Buffer.alloc(4);class k{constructor(a,b){this._extensions=b||{},this._socket=a,this._firstFragment=!0,this._compress=!1,this._bufferedBytes=0,this._deflating=!1,this._queue=[]}static frame(a,b){let c=b.mask&&b.readOnly,e=b.mask?6:2,f=a.length;a.length>=65536?(e+=8,f=127):a.length>125&&(e+=2,f=126);let g=Buffer.allocUnsafe(c?a.length+e:e);return(g[0]=b.fin?128|b.opcode:b.opcode,b.rsv1&&(g[0]|=64),g[1]=f,126===f?g.writeUInt16BE(a.length,2):127===f&&(g.writeUInt32BE(0,2),g.writeUInt32BE(a.length,6)),b.mask)?(d(j,0,4),g[1]|=128,g[e-4]=j[0],g[e-3]=j[1],g[e-2]=j[2],g[e-1]=j[3],c)?(h(a,j,g,e,a.length),[g]):(h(a,j,a,0,a.length),[g,a]):[g,a]}close(a,b,c,d){let e;if(void 0===a)e=f;else if("number"==typeof a&&g(a))if(void 0===b||""===b)(e=Buffer.allocUnsafe(2)).writeUInt16BE(a,0);else{let c=Buffer.byteLength(b);if(c>123)throw RangeError("The message must not be greater than 123 bytes");(e=Buffer.allocUnsafe(2+c)).writeUInt16BE(a,0),e.write(b,2)}else throw TypeError("First argument must be a valid error code number");this._deflating?this.enqueue([this.doClose,e,c,d]):this.doClose(e,c,d)}doClose(a,b,c){this.sendFrame(k.frame(a,{fin:!0,rsv1:!1,opcode:8,mask:b,readOnly:!1}),c)}ping(a,b,c){let d=i(a);if(d.length>125)throw RangeError("The data size must not be greater than 125 bytes");this._deflating?this.enqueue([this.doPing,d,b,i.readOnly,c]):this.doPing(d,b,i.readOnly,c)}doPing(a,b,c,d){this.sendFrame(k.frame(a,{fin:!0,rsv1:!1,opcode:9,mask:b,readOnly:c}),d)}pong(a,b,c){let d=i(a);if(d.length>125)throw RangeError("The data size must not be greater than 125 bytes");this._deflating?this.enqueue([this.doPong,d,b,i.readOnly,c]):this.doPong(d,b,i.readOnly,c)}doPong(a,b,c,d){this.sendFrame(k.frame(a,{fin:!0,rsv1:!1,opcode:10,mask:b,readOnly:c}),d)}send(a,b,c){let d=i(a),f=this._extensions[e.extensionName],g=b.binary?2:1,h=b.compress;if(this._firstFragment?(this._firstFragment=!1,h&&f&&(h=d.length>=f._threshold),this._compress=h):(h=!1,g=0),b.fin&&(this._firstFragment=!0),f){let a={fin:b.fin,rsv1:h,opcode:g,mask:b.mask,readOnly:i.readOnly};this._deflating?this.enqueue([this.dispatch,d,this._compress,a,c]):this.dispatch(d,this._compress,a,c)}else this.sendFrame(k.frame(d,{fin:b.fin,rsv1:!1,opcode:g,mask:b.mask,readOnly:i.readOnly}),c)}dispatch(a,b,c,d){if(!b)return void this.sendFrame(k.frame(a,c),d);let f=this._extensions[e.extensionName];this._bufferedBytes+=a.length,this._deflating=!0,f.compress(a,c.fin,(b,e)=>{if(this._socket.destroyed){let a=Error("The socket was closed while data was being compressed");"function"==typeof d&&d(a);for(let b=0;b<this._queue.length;b++){let c=this._queue[b][4];"function"==typeof c&&c(a)}return}this._bufferedBytes-=a.length,this._deflating=!1,c.readOnly=!1,this.sendFrame(k.frame(e,c),d),this.dequeue()})}dequeue(){for(;!this._deflating&&this._queue.length;){let a=this._queue.shift();this._bufferedBytes-=a[1].length,Reflect.apply(a[0],this,a.slice(1))}}enqueue(a){this._bufferedBytes+=a[1].length,this._queue.push(a)}sendFrame(a,b){2===a.length?(this._socket.cork(),this._socket.write(a[0]),this._socket.write(a[1],b),this._socket.uncork()):this._socket.write(a[0],b)}}b.exports=k},88696,(a,b,c)=>{"use strict";class d{constructor(a,b){this.target=b,this.type=a}}class e extends d{constructor(a,b){super("message",b),this.data=a}}class f extends d{constructor(a,b,c){super("close",c),this.wasClean=c._closeFrameReceived&&c._closeFrameSent,this.reason=b,this.code=a}}class g extends d{constructor(a){super("open",a)}}class h extends d{constructor(a,b){super("error",b),this.message=a.message,this.error=a}}b.exports={addEventListener(a,b,c){if("function"!=typeof b)return;function d(a){b.call(this,new e(a,this))}function i(a,c){b.call(this,new f(a,c,this))}function j(a){b.call(this,new h(a,this))}function k(){b.call(this,new g(this))}let l=c&&c.once?"once":"on";"message"===a?(d._listener=b,this[l](a,d)):"close"===a?(i._listener=b,this[l](a,i)):"error"===a?(j._listener=b,this[l](a,j)):"open"===a?(k._listener=b,this[l](a,k)):this[l](a,b)},removeEventListener(a,b){let c=this.listeners(a);for(let d=0;d<c.length;d++)(c[d]===b||c[d]._listener===b)&&this.removeListener(a,c[d])}}},66061,(a,b,c)=>{"use strict";let d=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0,1,1,1,1,1,0,0,1,1,0,1,1,0,1,1,1,1,1,1,1,1,1,1,0,0,0,0,0,0,0,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,0,0,0,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,0,1,0,1,0];function e(a,b,c){void 0===a[b]?a[b]=[c]:a[b].push(c)}b.exports={format:function(a){return Object.keys(a).map(b=>{let c=a[b];return Array.isArray(c)||(c=[c]),c.map(a=>[b].concat(Object.keys(a).map(b=>{let c=a[b];return Array.isArray(c)||(c=[c]),c.map(a=>!0===a?b:`${b}=${a}`).join("; ")})).join("; ")).join(", ")}).join(", ")},parse:function(a){let b,c,f=Object.create(null);if(void 0===a||""===a)return f;let g=Object.create(null),h=!1,i=!1,j=!1,k=-1,l=-1,m=0;for(;m<a.length;m++){let n=a.charCodeAt(m);if(void 0===b)if(-1===l&&1===d[n])-1===k&&(k=m);else if(32===n||9===n)-1===l&&-1!==k&&(l=m);else if(59===n||44===n){if(-1===k)throw SyntaxError(`Unexpected character at index ${m}`);-1===l&&(l=m);let c=a.slice(k,l);44===n?(e(f,c,g),g=Object.create(null)):b=c,k=l=-1}else throw SyntaxError(`Unexpected character at index ${m}`);else if(void 0===c)if(-1===l&&1===d[n])-1===k&&(k=m);else if(32===n||9===n)-1===l&&-1!==k&&(l=m);else if(59===n||44===n){if(-1===k)throw SyntaxError(`Unexpected character at index ${m}`);-1===l&&(l=m),e(g,a.slice(k,l),!0),44===n&&(e(f,b,g),g=Object.create(null),b=void 0),k=l=-1}else if(61===n&&-1!==k&&-1===l)c=a.slice(k,m),k=l=-1;else throw SyntaxError(`Unexpected character at index ${m}`);else if(i){if(1!==d[n])throw SyntaxError(`Unexpected character at index ${m}`);-1===k?k=m:h||(h=!0),i=!1}else if(j)if(1===d[n])-1===k&&(k=m);else if(34===n&&-1!==k)j=!1,l=m;else if(92===n)i=!0;else throw SyntaxError(`Unexpected character at index ${m}`);else if(34===n&&61===a.charCodeAt(m-1))j=!0;else if(-1===l&&1===d[n])-1===k&&(k=m);else if(-1!==k&&(32===n||9===n))-1===l&&(l=m);else if(59===n||44===n){if(-1===k)throw SyntaxError(`Unexpected character at index ${m}`);-1===l&&(l=m);let d=a.slice(k,l);h&&(d=d.replace(/\\/g,""),h=!1),e(g,c,d),44===n&&(e(f,b,g),g=Object.create(null),b=void 0),c=void 0,k=l=-1}else throw SyntaxError(`Unexpected character at index ${m}`)}if(-1===k||j)throw SyntaxError("Unexpected end of input");-1===l&&(l=m);let n=a.slice(k,l);return void 0===b?e(f,n,g):(void 0===c?e(g,n,!0):h?e(g,c,n.replace(/\\/g,"")):e(g,c,n),e(f,b,g)),f}}},48145,(a,b,c)=>{"use strict";let d=a.r(27699),e=a.r(24836),f=a.r(21517),g=a.r(4446),h=a.r(55004),{randomBytes:i,createHash:j}=a.r(54799),{URL:k}=a.r(92509),l=a.r(77032),m=a.r(70490),n=a.r(36183),{BINARY_TYPES:o,EMPTY_BUFFER:p,GUID:q,kStatusCode:r,kWebSocket:s,NOOP:t}=a.r(78284),{addEventListener:u,removeEventListener:v}=a.r(88696),{format:w,parse:x}=a.r(66061),{toBuffer:y}=a.r(81167),z=["CONNECTING","OPEN","CLOSING","CLOSED"],A=[8,13];class B extends d{constructor(a,b,c){super(),this._binaryType=o[0],this._closeCode=1006,this._closeFrameReceived=!1,this._closeFrameSent=!1,this._closeMessage="",this._closeTimer=null,this._extensions={},this._protocol="",this._readyState=B.CONNECTING,this._receiver=null,this._sender=null,this._socket=null,null!==a?(this._bufferedAmount=0,this._isServer=!1,this._redirects=0,Array.isArray(b)?b=b.join(", "):"object"==typeof b&&null!==b&&(c=b,b=void 0),function a(b,c,d,g){let h,m,n={protocolVersion:A[1],maxPayload:0x6400000,perMessageDeflate:!0,followRedirects:!1,maxRedirects:10,...g,createConnection:void 0,socketPath:void 0,hostname:void 0,protocol:void 0,timeout:void 0,method:void 0,host:void 0,path:void 0,port:void 0};if(!A.includes(n.protocolVersion))throw RangeError(`Unsupported protocol version: ${n.protocolVersion} (supported versions: ${A.join(", ")})`);c instanceof k?(h=c,b._url=c.href):(h=new k(c),b._url=c);let o="ws+unix:"===h.protocol;if(!h.host&&(!o||!h.pathname))throw Error(`Invalid URL: ${b.url}`);let p="wss:"===h.protocol||"https:"===h.protocol,r=p?443:80,s=i(16).toString("base64"),t=p?e.get:f.get;if(n.createConnection=p?D:C,n.defaultPort=n.defaultPort||r,n.port=h.port||r,n.host=h.hostname.startsWith("[")?h.hostname.slice(1,-1):h.hostname,n.headers={"Sec-WebSocket-Version":n.protocolVersion,"Sec-WebSocket-Key":s,Connection:"Upgrade",Upgrade:"websocket",...n.headers},n.path=h.pathname+h.search,n.timeout=n.handshakeTimeout,n.perMessageDeflate&&(m=new l(!0!==n.perMessageDeflate?n.perMessageDeflate:{},!1,n.maxPayload),n.headers["Sec-WebSocket-Extensions"]=w({[l.extensionName]:m.offer()})),d&&(n.headers["Sec-WebSocket-Protocol"]=d),n.origin&&(n.protocolVersion<13?n.headers["Sec-WebSocket-Origin"]=n.origin:n.headers.Origin=n.origin),(h.username||h.password)&&(n.auth=`${h.username}:${h.password}`),o){let a=n.path.split(":");n.socketPath=a[0],n.path=a[1]}let u=b._req=t(n);n.timeout&&u.on("timeout",()=>{E(b,u,"Opening handshake has timed out")}),u.on("error",a=>{null===u||u.aborted||(u=b._req=null,b._readyState=B.CLOSING,b.emit("error",a),b.emitClose())}),u.on("response",e=>{let f=e.headers.location,h=e.statusCode;if(f&&n.followRedirects&&h>=300&&h<400){if(++b._redirects>n.maxRedirects)return void E(b,u,"Maximum redirects exceeded");u.abort(),a(b,new k(f,c),d,g)}else b.emit("unexpected-response",u,e)||E(b,u,`Unexpected server response: ${e.statusCode}`)}),u.on("upgrade",(a,c,e)=>{let f;if(b.emit("upgrade",a),b.readyState!==B.CONNECTING)return;u=b._req=null;let g=j("sha1").update(s+q).digest("base64");if(a.headers["sec-websocket-accept"]!==g)return void E(b,c,"Invalid Sec-WebSocket-Accept header");let h=a.headers["sec-websocket-protocol"],i=(d||"").split(/, */);if(!d&&h?f="Server sent a subprotocol but none was requested":d&&!h?f="Server sent no subprotocol":h&&!i.includes(h)&&(f="Server sent an invalid subprotocol"),f)return void E(b,c,f);h&&(b._protocol=h);let k=a.headers["sec-websocket-extensions"];if(void 0!==k){let a;if(!m)return void E(b,c,"Server sent a Sec-WebSocket-Extensions header but no extension was requested");try{a=x(k)}catch(a){E(b,c,"Invalid Sec-WebSocket-Extensions header");return}let d=Object.keys(a);if(d.length){if(1!==d.length||d[0]!==l.extensionName)return void E(b,c,"Server indicated an extension that was not requested");try{m.accept(a[l.extensionName])}catch(a){E(b,c,"Invalid Sec-WebSocket-Extensions header");return}b._extensions[l.extensionName]=m}}b.setSocket(c,e,n.maxPayload)})}(this,a,b,c)):this._isServer=!0}get binaryType(){return this._binaryType}set binaryType(a){o.includes(a)&&(this._binaryType=a,this._receiver&&(this._receiver._binaryType=a))}get bufferedAmount(){return this._socket?this._socket._writableState.length+this._sender._bufferedBytes:this._bufferedAmount}get extensions(){return Object.keys(this._extensions).join()}get onclose(){}set onclose(a){}get onerror(){}set onerror(a){}get onopen(){}set onopen(a){}get onmessage(){}set onmessage(a){}get protocol(){return this._protocol}get readyState(){return this._readyState}get url(){return this._url}setSocket(a,b,c){let d=new m(this.binaryType,this._extensions,this._isServer,c);this._sender=new n(a,this._extensions),this._receiver=d,this._socket=a,d[s]=this,a[s]=this,d.on("conclude",G),d.on("drain",H),d.on("error",I),d.on("message",K),d.on("ping",L),d.on("pong",M),a.setTimeout(0),a.setNoDelay(),b.length>0&&a.unshift(b),a.on("close",N),a.on("data",O),a.on("end",P),a.on("error",Q),this._readyState=B.OPEN,this.emit("open")}emitClose(){if(!this._socket){this._readyState=B.CLOSED,this.emit("close",this._closeCode,this._closeMessage);return}this._extensions[l.extensionName]&&this._extensions[l.extensionName].cleanup(),this._receiver.removeAllListeners(),this._readyState=B.CLOSED,this.emit("close",this._closeCode,this._closeMessage)}close(a,b){if(this.readyState!==B.CLOSED){if(this.readyState===B.CONNECTING)return E(this,this._req,"WebSocket was closed before the connection was established");if(this.readyState===B.CLOSING){this._closeFrameSent&&(this._closeFrameReceived||this._receiver._writableState.errorEmitted)&&this._socket.end();return}this._readyState=B.CLOSING,this._sender.close(a,b,!this._isServer,a=>{!a&&(this._closeFrameSent=!0,(this._closeFrameReceived||this._receiver._writableState.errorEmitted)&&this._socket.end())}),this._closeTimer=setTimeout(this._socket.destroy.bind(this._socket),3e4)}}ping(a,b,c){if(this.readyState===B.CONNECTING)throw Error("WebSocket is not open: readyState 0 (CONNECTING)");("function"==typeof a?(c=a,a=b=void 0):"function"==typeof b&&(c=b,b=void 0),"number"==typeof a&&(a=a.toString()),this.readyState!==B.OPEN)?F(this,a,c):(void 0===b&&(b=!this._isServer),this._sender.ping(a||p,b,c))}pong(a,b,c){if(this.readyState===B.CONNECTING)throw Error("WebSocket is not open: readyState 0 (CONNECTING)");("function"==typeof a?(c=a,a=b=void 0):"function"==typeof b&&(c=b,b=void 0),"number"==typeof a&&(a=a.toString()),this.readyState!==B.OPEN)?F(this,a,c):(void 0===b&&(b=!this._isServer),this._sender.pong(a||p,b,c))}send(a,b,c){if(this.readyState===B.CONNECTING)throw Error("WebSocket is not open: readyState 0 (CONNECTING)");if("function"==typeof b&&(c=b,b={}),"number"==typeof a&&(a=a.toString()),this.readyState!==B.OPEN)return void F(this,a,c);let d={binary:"string"!=typeof a,mask:!this._isServer,compress:!0,fin:!0,...b};this._extensions[l.extensionName]||(d.compress=!1),this._sender.send(a||p,d,c)}terminate(){if(this.readyState!==B.CLOSED){if(this.readyState===B.CONNECTING)return E(this,this._req,"WebSocket was closed before the connection was established");this._socket&&(this._readyState=B.CLOSING,this._socket.destroy())}}}function C(a){return a.path=a.socketPath,g.connect(a)}function D(a){return a.path=void 0,a.servername||""===a.servername||(a.servername=g.isIP(a.host)?"":a.host),h.connect(a)}function E(a,b,c){a._readyState=B.CLOSING;let d=Error(c);Error.captureStackTrace(d,E),b.setHeader?(b.abort(),b.socket&&!b.socket.destroyed&&b.socket.destroy(),b.once("abort",a.emitClose.bind(a)),a.emit("error",d)):(b.destroy(d),b.once("error",a.emit.bind(a,"error")),b.once("close",a.emitClose.bind(a)))}function F(a,b,c){if(b){let c=y(b).length;a._socket?a._sender._bufferedBytes+=c:a._bufferedAmount+=c}c&&c(Error(`WebSocket is not open: readyState ${a.readyState} (${z[a.readyState]})`))}function G(a,b){let c=this[s];c._socket.removeListener("data",O),c._socket.resume(),c._closeFrameReceived=!0,c._closeMessage=b,c._closeCode=a,1005===a?c.close():c.close(a,b)}function H(){this[s]._socket.resume()}function I(a){let b=this[s];b._socket.removeListener("data",O),b._socket.resume(),b.close(a[r]),b.emit("error",a)}function J(){this[s].emitClose()}function K(a){this[s].emit("message",a)}function L(a){let b=this[s];b.pong(a,!b._isServer,t),b.emit("ping",a)}function M(a){this[s].emit("pong",a)}function N(){let a=this[s];this.removeListener("close",N),this.removeListener("end",P),a._readyState=B.CLOSING,a._socket.read(),a._receiver.end(),this.removeListener("data",O),this[s]=void 0,clearTimeout(a._closeTimer),a._receiver._writableState.finished||a._receiver._writableState.errorEmitted?a.emitClose():(a._receiver.on("error",J),a._receiver.on("finish",J))}function O(a){this[s]._receiver.write(a)||this.pause()}function P(){let a=this[s];a._readyState=B.CLOSING,a._receiver.end(),this.end()}function Q(){let a=this[s];this.removeListener("error",Q),this.on("error",t),a&&(a._readyState=B.CLOSING,this.destroy())}Object.defineProperty(B,"CONNECTING",{enumerable:!0,value:z.indexOf("CONNECTING")}),Object.defineProperty(B.prototype,"CONNECTING",{enumerable:!0,value:z.indexOf("CONNECTING")}),Object.defineProperty(B,"OPEN",{enumerable:!0,value:z.indexOf("OPEN")}),Object.defineProperty(B.prototype,"OPEN",{enumerable:!0,value:z.indexOf("OPEN")}),Object.defineProperty(B,"CLOSING",{enumerable:!0,value:z.indexOf("CLOSING")}),Object.defineProperty(B.prototype,"CLOSING",{enumerable:!0,value:z.indexOf("CLOSING")}),Object.defineProperty(B,"CLOSED",{enumerable:!0,value:z.indexOf("CLOSED")}),Object.defineProperty(B.prototype,"CLOSED",{enumerable:!0,value:z.indexOf("CLOSED")}),["binaryType","bufferedAmount","extensions","protocol","readyState","url"].forEach(a=>{Object.defineProperty(B.prototype,a,{enumerable:!0})}),["open","error","close","message"].forEach(a=>{Object.defineProperty(B.prototype,`on${a}`,{enumerable:!0,get(){let b=this.listeners(a);for(let a=0;a<b.length;a++)if(b[a]._listener)return b[a]._listener},set(b){let c=this.listeners(a);for(let b=0;b<c.length;b++)c[b]._listener&&this.removeListener(a,c[b]);this.addEventListener(a,b)}})}),B.prototype.addEventListener=u,B.prototype.removeEventListener=v,b.exports=B},51092,(a,b,c)=>{"use strict";let{Duplex:d}=a.r(88947);function e(a){a.emit("close")}function f(){!this.destroyed&&this._writableState.finished&&this.destroy()}function g(a){this.removeListener("error",g),this.destroy(),0===this.listenerCount("error")&&this.emit("error",a)}b.exports=function(a,b){let c=!0,h=!0;function i(){c&&a._socket.resume()}a.readyState===a.CONNECTING?a.once("open",function(){a._receiver.removeAllListeners("drain"),a._receiver.on("drain",i)}):(a._receiver.removeAllListeners("drain"),a._receiver.on("drain",i));let j=new d({...b,autoDestroy:!1,emitClose:!1,objectMode:!1,writableObjectMode:!1});return a.on("message",function(b){j.push(b)||(c=!1,a._socket.pause())}),a.once("error",function(a){j.destroyed||(h=!1,j.destroy(a))}),a.once("close",function(){j.destroyed||j.push(null)}),j._destroy=function(b,c){if(a.readyState===a.CLOSED){c(b),process.nextTick(e,j);return}let d=!1;a.once("error",function(a){d=!0,c(a)}),a.once("close",function(){d||c(b),process.nextTick(e,j)}),h&&a.terminate()},j._final=function(b){a.readyState===a.CONNECTING?a.once("open",function(){j._final(b)}):null!==a._socket&&(a._socket._writableState.finished?(b(),j._readableState.endEmitted&&j.destroy()):(a._socket.once("finish",function(){b()}),a.close()))},j._read=function(){a.readyState===a.OPEN&&!c&&(c=!0,a._receiver._writableState.needDrain||a._socket.resume())},j._write=function(b,c,d){a.readyState===a.CONNECTING?a.once("open",function(){j._write(b,c,d)}):a.send(b,d)},j.on("end",f),j.on("error",g),j}},50077,(a,b,c)=>{"use strict";let d=a.r(27699),e=a.r(21517);a.r(24836),a.r(4446),a.r(55004);let{createHash:f}=a.r(54799),g=a.r(77032),h=a.r(48145),{format:i,parse:j}=a.r(66061),{GUID:k,kWebSocket:l}=a.r(78284),m=/^[+/0-9A-Za-z]{22}==$/;function n(a){a._state=2,a.emit("close")}function o(){this.destroy()}function p(a,b,c,d){a.writable&&(c=c||e.STATUS_CODES[b],d={Connection:"close","Content-Type":"text/html","Content-Length":Buffer.byteLength(c),...d},a.write(`HTTP/1.1 ${b} ${e.STATUS_CODES[b]}\r
`+Object.keys(d).map(a=>`${a}: ${d[a]}`).join("\r\n")+"\r\n\r\n"+c)),a.removeListener("error",o),a.destroy()}function q(a){return a.trim()}b.exports=class extends d{constructor(a,b){if(super(),null==(a={maxPayload:0x6400000,perMessageDeflate:!1,handleProtocols:null,clientTracking:!0,verifyClient:null,noServer:!1,backlog:null,server:null,host:null,path:null,port:null,...a}).port&&!a.server&&!a.noServer||null!=a.port&&(a.server||a.noServer)||a.server&&a.noServer)throw TypeError('One and only one of the "port", "server", or "noServer" options must be specified');if(null!=a.port?(this._server=e.createServer((a,b)=>{let c=e.STATUS_CODES[426];b.writeHead(426,{"Content-Length":c.length,"Content-Type":"text/plain"}),b.end(c)}),this._server.listen(a.port,a.host,a.backlog,b)):a.server&&(this._server=a.server),this._server){const a=this.emit.bind(this,"connection");this._removeListeners=function(a,b){for(let c of Object.keys(b))a.on(c,b[c]);return function(){for(let c of Object.keys(b))a.removeListener(c,b[c])}}(this._server,{listening:this.emit.bind(this,"listening"),error:this.emit.bind(this,"error"),upgrade:(b,c,d)=>{this.handleUpgrade(b,c,d,a)}})}!0===a.perMessageDeflate&&(a.perMessageDeflate={}),a.clientTracking&&(this.clients=new Set),this.options=a,this._state=0}address(){if(this.options.noServer)throw Error('The server is operating in "noServer" mode');return this._server?this._server.address():null}close(a){if(a&&this.once("close",a),2===this._state)return void process.nextTick(n,this);if(1===this._state)return;if(this._state=1,this.clients)for(let a of this.clients)a.terminate();let b=this._server;b&&(this._removeListeners(),this._removeListeners=this._server=null,null!=this.options.port)?b.close(n.bind(void 0,this)):process.nextTick(n,this)}shouldHandle(a){if(this.options.path){let b=a.url.indexOf("?");if((-1!==b?a.url.slice(0,b):a.url)!==this.options.path)return!1}return!0}handleUpgrade(a,b,c,d){b.on("error",o);let e=void 0!==a.headers["sec-websocket-key"]&&a.headers["sec-websocket-key"].trim(),f=+a.headers["sec-websocket-version"],h={};if("GET"!==a.method||"websocket"!==a.headers.upgrade.toLowerCase()||!e||!m.test(e)||8!==f&&13!==f||!this.shouldHandle(a))return p(b,400);if(this.options.perMessageDeflate){let c=new g(this.options.perMessageDeflate,!0,this.options.maxPayload);try{let b=j(a.headers["sec-websocket-extensions"]);b[g.extensionName]&&(c.accept(b[g.extensionName]),h[g.extensionName]=c)}catch(a){return p(b,400)}}if(this.options.verifyClient){let g={origin:a.headers[`${8===f?"sec-websocket-origin":"origin"}`],secure:!!(a.socket.authorized||a.socket.encrypted),req:a};if(2===this.options.verifyClient.length)return void this.options.verifyClient(g,(f,g,i,j)=>{if(!f)return p(b,g||401,i,j);this.completeUpgrade(e,h,a,b,c,d)});if(!this.options.verifyClient(g))return p(b,401)}this.completeUpgrade(e,h,a,b,c,d)}completeUpgrade(a,b,c,d,e,j){if(!d.readable||!d.writable)return d.destroy();if(d[l])throw Error("server.handleUpgrade() was called more than once with the same socket, possibly due to a misconfiguration");if(this._state>0)return p(d,503);let m=f("sha1").update(a+k).digest("base64"),n=["HTTP/1.1 101 Switching Protocols","Upgrade: websocket","Connection: Upgrade",`Sec-WebSocket-Accept: ${m}`],r=new h(null),s=c.headers["sec-websocket-protocol"];if(s&&(s=s.split(",").map(q),(s=this.options.handleProtocols?this.options.handleProtocols(s,c):s[0])&&(n.push(`Sec-WebSocket-Protocol: ${s}`),r._protocol=s)),b[g.extensionName]){let a=b[g.extensionName].params,c=i({[g.extensionName]:[a]});n.push(`Sec-WebSocket-Extensions: ${c}`),r._extensions=b}this.emit("headers",n,c),d.write(n.concat("\r\n").join("\r\n")),d.removeListener("error",o),r.setSocket(d,e,this.options.maxPayload),this.clients&&(this.clients.add(r),r.on("close",()=>this.clients.delete(r))),j(r,c)}}},11376,(a,b,c)=>{"use strict";let d=a.r(48145);d.createWebSocketStream=a.r(51092),d.Server=a.r(50077),d.Receiver=a.r(70490),d.Sender=a.r(36183),b.exports=d},70338,(a,b,c)=>{"use strict";Object.defineProperty(c,"__esModule",{value:!0});let d=a.r(17385),e=a.r(14824),f=d.__importDefault(a.r(33107)),g=void 0!==a.g.WebSocket?a.g.WebSocket:a.r(11376);c.default=class{constructor(a){if(this.opts=a,this._queue=[],this._events=[],this._subscriptions=[],this._protocol=a.protocol,this._version=a.version,this._url="",this._netMonitor=null,this._socket=null,this._nextSocket=null,this._subscriptions=a.subscriptions||[],this._netMonitor=a.netMonitor||new f.default,!a.url||"string"!=typeof a.url)throw Error("Missing or invalid WebSocket url");this._url=a.url,this._netMonitor.on("online",()=>this._socketCreate())}set readyState(a){}get readyState(){return this._socket?this._socket.readyState:-1}set connecting(a){}get connecting(){return 0===this.readyState}set connected(a){}get connected(){return 1===this.readyState}set closing(a){}get closing(){return 2===this.readyState}set closed(a){}get closed(){return 3===this.readyState}open(){this._socketCreate()}close(){this._socketClose()}send(a,b,c){if(!b||"string"!=typeof b)throw Error("Missing or invalid topic field");this._socketSend({topic:b,type:"pub",payload:a,silent:!!c})}subscribe(a){this._socketSend({topic:a,type:"sub",payload:"",silent:!0})}on(a,b){this._events.push({event:a,callback:b})}_socketCreate(){var a,b,c,d,f;let h,i,j;if(this._nextSocket)return;let k=(a=this._url,b=this._protocol,c=this._version,h=(a.startsWith("https")?a.replace("https","wss"):a.startsWith("http")?a.replace("http","ws"):a).split("?"),i=(0,e.isBrowser)()?{protocol:b,version:c,env:"browser",host:(null==(d=(0,e.getLocation)())?void 0:d.host)||""}:{protocol:b,version:c,env:(null==(f=(0,e.detectEnv)())?void 0:f.name)||""},j=(0,e.appendToQueryString)((0,e.getQueryString)(h[1]||""),i),h[0]+"?"+j);if(this._nextSocket=new g(k),!this._nextSocket)throw Error("Failed to create socket");this._nextSocket.onmessage=a=>this._socketReceive(a),this._nextSocket.onopen=()=>this._socketOpen(),this._nextSocket.onerror=a=>this._socketError(a),this._nextSocket.onclose=()=>{setTimeout(()=>{this._nextSocket=null,this._socketCreate()},1e3)}}_socketOpen(){this._socketClose(),this._socket=this._nextSocket,this._nextSocket=null,this._queueSubscriptions(),this._pushQueue()}_socketClose(){this._socket&&(this._socket.onclose=()=>{},this._socket.close())}_socketSend(a){let b=JSON.stringify(a);this._socket&&1===this._socket.readyState?this._socket.send(b):(this._setToQueue(a),this._socketCreate())}_socketReceive(a){return d.__awaiter(this,void 0,void 0,function*(){let b;try{b=JSON.parse(a.data)}catch(a){return}if(this._socketSend({topic:b.topic,type:"ack",payload:"",silent:!0}),this._socket&&1===this._socket.readyState){let a=this._events.filter(a=>"message"===a.event);a&&a.length&&a.forEach(a=>a.callback(b))}})}_socketError(a){let b=this._events.filter(a=>"error"===a.event);b&&b.length&&b.forEach(b=>b.callback(a))}_queueSubscriptions(){this._subscriptions.forEach(a=>this._queue.push({topic:a,type:"sub",payload:"",silent:!0})),this._subscriptions=this.opts.subscriptions||[]}_setToQueue(a){this._queue.push(a)}_pushQueue(){this._queue.forEach(a=>this._socketSend(a)),this._queue=[]}}},84643,(a,b,c)=>{"use strict";Object.defineProperty(c,"__esModule",{value:!0}),c.ERROR_QRCODE_MODAL_USER_CLOSED=c.ERROR_QRCODE_MODAL_NOT_PROVIDED=c.ERROR_INVALID_URI=c.ERROR_INVALID_RESPONSE=c.ERROR_MISSING_REQUIRED=c.ERROR_MISSING_ID=c.ERROR_MISSING_METHOD=c.ERROR_MISSING_ERROR=c.ERROR_MISSING_RESULT=c.ERROR_MISSING_JSON_RPC=c.ERROR_SESSION_REJECTED=c.ERROR_SESSION_DISCONNECTED=c.ERROR_SESSION_CONNECTED=void 0,c.ERROR_SESSION_CONNECTED="Session currently connected",c.ERROR_SESSION_DISCONNECTED="Session currently disconnected",c.ERROR_SESSION_REJECTED="Session Rejected",c.ERROR_MISSING_JSON_RPC="Missing JSON RPC response",c.ERROR_MISSING_RESULT='JSON-RPC success response must include "result" field',c.ERROR_MISSING_ERROR='JSON-RPC error response must include "error" field',c.ERROR_MISSING_METHOD='JSON RPC request must have valid "method" value',c.ERROR_MISSING_ID='JSON RPC request must have valid "id" value',c.ERROR_MISSING_REQUIRED="Missing one of the required parameters: bridge / uri / session",c.ERROR_INVALID_RESPONSE="JSON RPC response format is invalid",c.ERROR_INVALID_URI="URI format is invalid",c.ERROR_QRCODE_MODAL_NOT_PROVIDED="QRCode Modal not provided",c.ERROR_QRCODE_MODAL_USER_CLOSED="User close QRCode Modal"},91101,(a,b,c)=>{"use strict";Object.defineProperty(c,"__esModule",{value:!0});let d=a.r(14824);c.default=class{constructor(){this._eventEmitters=[]}subscribe(a){this._eventEmitters.push(a)}unsubscribe(a){this._eventEmitters=this._eventEmitters.filter(b=>b.event!==a)}trigger(a){let b,c=[];(b=(0,d.isJsonRpcRequest)(a)?a.method:(0,d.isJsonRpcResponseSuccess)(a)||(0,d.isJsonRpcResponseError)(a)?`response:${a.id}`:(0,d.isInternalEvent)(a)?a.event:"")&&(c=this._eventEmitters.filter(a=>a.event===b)),c&&c.length||(0,d.isReservedEvent)(b)||(0,d.isInternalEvent)(b)||(c=this._eventEmitters.filter(a=>"call_request"===a.event)),c.forEach(b=>{if((0,d.isJsonRpcResponseError)(a)){let c=Error(a.error.message);b.callback(c,null)}else b.callback(null,a)})}}},42850,(a,b,c)=>{"use strict";Object.defineProperty(c,"__esModule",{value:!0});let d=a.r(14824);c.default=class{constructor(a="walletconnect"){this.storageId=a}getSession(){let a=null,b=(0,d.getLocal)(this.storageId);return b&&(0,d.isWalletConnectSession)(b)&&(a=b),a}setSession(a){return(0,d.setLocal)(this.storageId,a),a}removeSession(){(0,d.removeLocal)(this.storageId)}}},88706,(a,b,c)=>{"use strict";Object.defineProperty(c,"__esModule",{value:!0}),c.getBridgeUrl=c.shouldSelectRandomly=c.selectRandomBridgeUrl=c.randomBridgeIndex=c.extractRootDomain=c.extractHostname=void 0;let d="abcdefghijklmnopqrstuvwxyz0123456789".split("").map(a=>`https://${a}.bridge.walletconnect.org`);function e(a){let b=a.indexOf("//")>-1?a.split("/")[2]:a.split("/")[0];return(b=b.split(":")[0]).split("?")[0]}function f(a){return e(a).split(".").slice(-2).join(".")}function g(){return Math.floor(Math.random()*d.length)}function h(){return d[g()]}function i(a){return"walletconnect.org"===f(a)}c.extractHostname=e,c.extractRootDomain=f,c.randomBridgeIndex=g,c.selectRandomBridgeUrl=h,c.shouldSelectRandomly=i,c.getBridgeUrl=function(a){return i(a)?h():a}},45694,(a,b,c)=>{"use strict";Object.defineProperty(c,"__esModule",{value:!0});let d=a.r(17385),e=a.r(14824),f=d.__importDefault(a.r(70338)),g=a.r(84643),h=d.__importDefault(a.r(91101)),i=d.__importDefault(a.r(42850)),j=a.r(88706);c.default=class{constructor(a){if(this.protocol="wc",this.version=1,this._bridge="",this._key=null,this._clientId="",this._clientMeta=null,this._peerId="",this._peerMeta=null,this._handshakeId=0,this._handshakeTopic="",this._connected=!1,this._accounts=[],this._chainId=0,this._networkId=0,this._rpcUrl="",this._eventManager=new h.default,this._clientMeta=(0,e.getClientMeta)()||a.connectorOpts.clientMeta||null,this._cryptoLib=a.cryptoLib,this._sessionStorage=a.sessionStorage||new i.default(a.connectorOpts.storageId),this._qrcodeModal=a.connectorOpts.qrcodeModal,this._qrcodeModalOptions=a.connectorOpts.qrcodeModalOptions,this._signingMethods=[...e.signingMethods,...a.connectorOpts.signingMethods||[]],!a.connectorOpts.bridge&&!a.connectorOpts.uri&&!a.connectorOpts.session)throw Error(g.ERROR_MISSING_REQUIRED);a.connectorOpts.bridge&&(this.bridge=(0,j.getBridgeUrl)(a.connectorOpts.bridge)),a.connectorOpts.uri&&(this.uri=a.connectorOpts.uri);const b=a.connectorOpts.session||this._getStorageSession();b&&(this.session=b),this.handshakeId&&this._subscribeToSessionResponse(this.handshakeId,"Session request rejected"),this._transport=a.transport||new f.default({protocol:this.protocol,version:this.version,url:this.bridge,subscriptions:[this.clientId]}),this._subscribeToInternalEvents(),this._initTransport(),a.connectorOpts.uri&&this._subscribeToSessionRequest(),a.pushServerOpts&&this._registerPushServer(a.pushServerOpts)}set bridge(a){a&&(this._bridge=a)}get bridge(){return this._bridge}set key(a){if(!a)return;let b=(0,e.convertHexToArrayBuffer)(a);this._key=b}get key(){return this._key?(0,e.convertArrayBufferToHex)(this._key,!0):""}set clientId(a){a&&(this._clientId=a)}get clientId(){let a=this._clientId;return a||(a=this._clientId=(0,e.uuid)()),this._clientId}set peerId(a){a&&(this._peerId=a)}get peerId(){return this._peerId}set clientMeta(a){}get clientMeta(){let a=this._clientMeta;return a||(a=this._clientMeta=(0,e.getClientMeta)()),a}set peerMeta(a){this._peerMeta=a}get peerMeta(){return this._peerMeta}set handshakeTopic(a){a&&(this._handshakeTopic=a)}get handshakeTopic(){return this._handshakeTopic}set handshakeId(a){a&&(this._handshakeId=a)}get handshakeId(){return this._handshakeId}get uri(){return this._formatUri()}set uri(a){if(!a)return;let{handshakeTopic:b,bridge:c,key:d}=this._parseUri(a);this.handshakeTopic=b,this.bridge=c,this.key=d}set chainId(a){this._chainId=a}get chainId(){return this._chainId}set networkId(a){this._networkId=a}get networkId(){return this._networkId}set accounts(a){this._accounts=a}get accounts(){return this._accounts}set rpcUrl(a){this._rpcUrl=a}get rpcUrl(){return this._rpcUrl}set connected(a){}get connected(){return this._connected}set pending(a){}get pending(){return!!this._handshakeTopic}get session(){return{connected:this.connected,accounts:this.accounts,chainId:this.chainId,bridge:this.bridge,key:this.key,clientId:this.clientId,clientMeta:this.clientMeta,peerId:this.peerId,peerMeta:this.peerMeta,handshakeId:this.handshakeId,handshakeTopic:this.handshakeTopic}}set session(a){a&&(this._connected=a.connected,this.accounts=a.accounts,this.chainId=a.chainId,this.bridge=a.bridge,this.key=a.key,this.clientId=a.clientId,this.clientMeta=a.clientMeta,this.peerId=a.peerId,this.peerMeta=a.peerMeta,this.handshakeId=a.handshakeId,this.handshakeTopic=a.handshakeTopic)}on(a,b){this._eventManager.subscribe({event:a,callback:b})}off(a){this._eventManager.unsubscribe(a)}createInstantRequest(a){return d.__awaiter(this,void 0,void 0,function*(){this._key=yield this._generateKey();let b=this._formatRequest({method:"wc_instantRequest",params:[{peerId:this.clientId,peerMeta:this.clientMeta,request:this._formatRequest(a)}]});this.handshakeId=b.id,this.handshakeTopic=(0,e.uuid)(),this._eventManager.trigger({event:"display_uri",params:[this.uri]}),this.on("modal_closed",()=>{throw Error(g.ERROR_QRCODE_MODAL_USER_CLOSED)});let c=()=>{this.killSession()};try{let a=yield this._sendCallRequest(b);return a&&c(),a}catch(a){throw c(),a}})}connect(a){return d.__awaiter(this,void 0,void 0,function*(){if(!this._qrcodeModal)throw Error(g.ERROR_QRCODE_MODAL_NOT_PROVIDED);return this.connected?{chainId:this.chainId,accounts:this.accounts}:(yield this.createSession(a),new Promise((a,b)=>d.__awaiter(this,void 0,void 0,function*(){this.on("modal_closed",()=>b(Error(g.ERROR_QRCODE_MODAL_USER_CLOSED))),this.on("connect",(c,d)=>{if(c)return b(c);a(d.params[0])})})))})}createSession(a){return d.__awaiter(this,void 0,void 0,function*(){if(this._connected)throw Error(g.ERROR_SESSION_CONNECTED);if(this.pending)return;this._key=yield this._generateKey();let b=this._formatRequest({method:"wc_sessionRequest",params:[{peerId:this.clientId,peerMeta:this.clientMeta,chainId:a&&a.chainId?a.chainId:null}]});this.handshakeId=b.id,this.handshakeTopic=(0,e.uuid)(),this._sendSessionRequest(b,"Session update rejected",{topic:this.handshakeTopic}),this._eventManager.trigger({event:"display_uri",params:[this.uri]})})}approveSession(a){if(this._connected)throw Error(g.ERROR_SESSION_CONNECTED);this.chainId=a.chainId,this.accounts=a.accounts,this.networkId=a.networkId||0,this.rpcUrl=a.rpcUrl||"";let b={approved:!0,chainId:this.chainId,networkId:this.networkId,accounts:this.accounts,rpcUrl:this.rpcUrl,peerId:this.clientId,peerMeta:this.clientMeta},c={id:this.handshakeId,jsonrpc:"2.0",result:b};this._sendResponse(c),this._connected=!0,this._setStorageSession(),this._eventManager.trigger({event:"connect",params:[{peerId:this.peerId,peerMeta:this.peerMeta,chainId:this.chainId,accounts:this.accounts}]})}rejectSession(a){if(this._connected)throw Error(g.ERROR_SESSION_CONNECTED);let b=a&&a.message?a.message:g.ERROR_SESSION_REJECTED,c=this._formatResponse({id:this.handshakeId,error:{message:b}});this._sendResponse(c),this._connected=!1,this._eventManager.trigger({event:"disconnect",params:[{message:b}]}),this._removeStorageSession()}updateSession(a){if(!this._connected)throw Error(g.ERROR_SESSION_DISCONNECTED);this.chainId=a.chainId,this.accounts=a.accounts,this.networkId=a.networkId||0,this.rpcUrl=a.rpcUrl||"";let b={approved:!0,chainId:this.chainId,networkId:this.networkId,accounts:this.accounts,rpcUrl:this.rpcUrl},c=this._formatRequest({method:"wc_sessionUpdate",params:[b]});this._sendSessionRequest(c,"Session update rejected"),this._eventManager.trigger({event:"session_update",params:[{chainId:this.chainId,accounts:this.accounts}]}),this._manageStorageSession()}killSession(a){return d.__awaiter(this,void 0,void 0,function*(){let b=a?a.message:"Session Disconnected",c=this._formatRequest({method:"wc_sessionUpdate",params:[{approved:!1,chainId:null,networkId:null,accounts:null}]});yield this._sendRequest(c),this._handleSessionDisconnect(b)})}sendTransaction(a){return d.__awaiter(this,void 0,void 0,function*(){if(!this._connected)throw Error(g.ERROR_SESSION_DISCONNECTED);let b=(0,e.parseTransactionData)(a),c=this._formatRequest({method:"eth_sendTransaction",params:[b]});return yield this._sendCallRequest(c)})}signTransaction(a){return d.__awaiter(this,void 0,void 0,function*(){if(!this._connected)throw Error(g.ERROR_SESSION_DISCONNECTED);let b=(0,e.parseTransactionData)(a),c=this._formatRequest({method:"eth_signTransaction",params:[b]});return yield this._sendCallRequest(c)})}signMessage(a){return d.__awaiter(this,void 0,void 0,function*(){if(!this._connected)throw Error(g.ERROR_SESSION_DISCONNECTED);let b=this._formatRequest({method:"eth_sign",params:a});return yield this._sendCallRequest(b)})}signPersonalMessage(a){return d.__awaiter(this,void 0,void 0,function*(){if(!this._connected)throw Error(g.ERROR_SESSION_DISCONNECTED);a=(0,e.parsePersonalSign)(a);let b=this._formatRequest({method:"personal_sign",params:a});return yield this._sendCallRequest(b)})}signTypedData(a){return d.__awaiter(this,void 0,void 0,function*(){if(!this._connected)throw Error(g.ERROR_SESSION_DISCONNECTED);let b=this._formatRequest({method:"eth_signTypedData",params:a});return yield this._sendCallRequest(b)})}updateChain(a){return d.__awaiter(this,void 0,void 0,function*(){if(!this._connected)throw Error("Session currently disconnected");let b=this._formatRequest({method:"wallet_updateChain",params:[a]});return yield this._sendCallRequest(b)})}unsafeSend(a,b){return this._sendRequest(a,b),this._eventManager.trigger({event:"call_request_sent",params:[{request:a,options:b}]}),new Promise((b,c)=>{this._subscribeToResponse(a.id,(a,d)=>{if(a)return void c(a);if(!d)throw Error(g.ERROR_MISSING_JSON_RPC);b(d)})})}sendCustomRequest(a,b){return d.__awaiter(this,void 0,void 0,function*(){if(!this._connected)throw Error(g.ERROR_SESSION_DISCONNECTED);switch(a.method){case"eth_accounts":return this.accounts;case"eth_chainId":return(0,e.convertNumberToHex)(this.chainId);case"eth_sendTransaction":case"eth_signTransaction":a.params&&(a.params[0]=(0,e.parseTransactionData)(a.params[0]));break;case"personal_sign":a.params&&(a.params=(0,e.parsePersonalSign)(a.params))}let c=this._formatRequest(a);return yield this._sendCallRequest(c,b)})}approveRequest(a){if((0,e.isJsonRpcResponseSuccess)(a)){let b=this._formatResponse(a);this._sendResponse(b)}else throw Error(g.ERROR_MISSING_RESULT)}rejectRequest(a){if((0,e.isJsonRpcResponseError)(a)){let b=this._formatResponse(a);this._sendResponse(b)}else throw Error(g.ERROR_MISSING_ERROR)}transportClose(){this._transport.close()}_sendRequest(a,b){return d.__awaiter(this,void 0,void 0,function*(){let c=this._formatRequest(a),d=yield this._encrypt(c),f=void 0!==(null==b?void 0:b.topic)?b.topic:this.peerId,g=JSON.stringify(d),h=void 0!==(null==b?void 0:b.forcePushNotification)?!b.forcePushNotification:(0,e.isSilentPayload)(c);this._transport.send(g,f,h)})}_sendResponse(a){return d.__awaiter(this,void 0,void 0,function*(){let b=yield this._encrypt(a),c=this.peerId,d=JSON.stringify(b);this._transport.send(d,c,!0)})}_sendSessionRequest(a,b,c){return d.__awaiter(this,void 0,void 0,function*(){this._sendRequest(a,c),this._subscribeToSessionResponse(a.id,b)})}_sendCallRequest(a,b){return this._sendRequest(a,b),this._eventManager.trigger({event:"call_request_sent",params:[{request:a,options:b}]}),this._subscribeToCallResponse(a.id)}_formatRequest(a){if(void 0===a.method)throw Error(g.ERROR_MISSING_METHOD);return{id:void 0===a.id?(0,e.payloadId)():a.id,jsonrpc:"2.0",method:a.method,params:void 0===a.params?[]:a.params}}_formatResponse(a){if(void 0===a.id)throw Error(g.ERROR_MISSING_ID);let b={id:a.id,jsonrpc:"2.0"};if((0,e.isJsonRpcResponseError)(a)){let c=(0,e.formatRpcError)(a.error);return Object.assign(Object.assign(Object.assign({},b),a),{error:c})}if((0,e.isJsonRpcResponseSuccess)(a))return Object.assign(Object.assign({},b),a);throw Error(g.ERROR_INVALID_RESPONSE)}_handleSessionDisconnect(a){this._connected||(this._qrcodeModal&&this._qrcodeModal.close(),(0,e.removeLocal)(e.mobileLinkChoiceKey)),this._connected&&(this._connected=!1),this._handshakeId&&(this._handshakeId=0),this._handshakeTopic&&(this._handshakeTopic=""),this._peerId&&(this._peerId=""),this._eventManager.trigger({event:"disconnect",params:[{message:a||"Session Disconnected"}]}),this._removeStorageSession(),this.transportClose()}_handleSessionResponse(a,b){b&&b.approved?(this._connected?(b.chainId&&(this.chainId=b.chainId),b.accounts&&(this.accounts=b.accounts),this._eventManager.trigger({event:"session_update",params:[{chainId:this.chainId,accounts:this.accounts}]})):(this._connected=!0,b.chainId&&(this.chainId=b.chainId),b.accounts&&(this.accounts=b.accounts),b.peerId&&!this.peerId&&(this.peerId=b.peerId),b.peerMeta&&!this.peerMeta&&(this.peerMeta=b.peerMeta),this._eventManager.trigger({event:"connect",params:[{peerId:this.peerId,peerMeta:this.peerMeta,chainId:this.chainId,accounts:this.accounts}]})),this._manageStorageSession()):this._handleSessionDisconnect(a)}_handleIncomingMessages(a){return d.__awaiter(this,void 0,void 0,function*(){let b;if(![this.clientId,this.handshakeTopic].includes(a.topic))return;try{b=JSON.parse(a.payload)}catch(a){return}let c=yield this._decrypt(b);c&&this._eventManager.trigger(c)})}_subscribeToSessionRequest(){this._transport.subscribe(this.handshakeTopic)}_subscribeToResponse(a,b){this.on(`response:${a}`,b)}_subscribeToSessionResponse(a,b){this._subscribeToResponse(a,(a,c)=>{a?this._handleSessionResponse(a.message):(0,e.isJsonRpcResponseSuccess)(c)?this._handleSessionResponse(b,c.result):c.error&&c.error.message?this._handleSessionResponse(c.error.message):this._handleSessionResponse(b)})}_subscribeToCallResponse(a){return new Promise((b,c)=>{this._subscribeToResponse(a,(a,d)=>{a?c(a):(0,e.isJsonRpcResponseSuccess)(d)?b(d.result):d.error&&d.error.message?c(d.error):c(Error(g.ERROR_INVALID_RESPONSE))})})}_subscribeToInternalEvents(){this.on("display_uri",()=>{this._qrcodeModal&&this._qrcodeModal.open(this.uri,()=>{this._eventManager.trigger({event:"modal_closed",params:[]})},this._qrcodeModalOptions)}),this.on("connect",()=>{this._qrcodeModal&&this._qrcodeModal.close()}),this.on("call_request_sent",(a,b)=>{let{request:c}=b.params[0];if((0,e.isMobile)()&&this._signingMethods.includes(c.method)){let a=(0,e.getLocal)(e.mobileLinkChoiceKey);a&&(window.location.href=a.href)}}),this.on("wc_sessionRequest",(a,b)=>{a&&this._eventManager.trigger({event:"error",params:[{code:"SESSION_REQUEST_ERROR",message:a.toString()}]}),this.handshakeId=b.id,this.peerId=b.params[0].peerId,this.peerMeta=b.params[0].peerMeta;let c=Object.assign(Object.assign({},b),{method:"session_request"});this._eventManager.trigger(c)}),this.on("wc_sessionUpdate",(a,b)=>{a&&this._handleSessionResponse(a.message),this._handleSessionResponse("Session disconnected",b.params[0])})}_initTransport(){this._transport.on("message",a=>this._handleIncomingMessages(a)),this._transport.on("open",()=>this._eventManager.trigger({event:"transport_open",params:[]})),this._transport.on("close",()=>this._eventManager.trigger({event:"transport_close",params:[]})),this._transport.on("error",()=>this._eventManager.trigger({event:"transport_error",params:["Websocket connection failed"]})),this._transport.open()}_formatUri(){let a=this.protocol,b=this.handshakeTopic,c=this.version,d=encodeURIComponent(this.bridge),e=this.key;return`${a}:${b}@${c}?bridge=${d}&key=${e}`}_parseUri(a){let b=(0,e.parseWalletConnectUri)(a);if(b.protocol===this.protocol){if(!b.handshakeTopic)throw Error("Invalid or missing handshakeTopic parameter value");let a=b.handshakeTopic;if(!b.bridge)throw Error("Invalid or missing bridge url parameter value");let c=decodeURIComponent(b.bridge);if(!b.key)throw Error("Invalid or missing key parameter value");return{handshakeTopic:a,bridge:c,key:b.key}}throw Error(g.ERROR_INVALID_URI)}_generateKey(){return d.__awaiter(this,void 0,void 0,function*(){return this._cryptoLib?yield this._cryptoLib.generateKey():null})}_encrypt(a){return d.__awaiter(this,void 0,void 0,function*(){let b=this._key;return this._cryptoLib&&b?yield this._cryptoLib.encrypt(a,b):null})}_decrypt(a){return d.__awaiter(this,void 0,void 0,function*(){let b=this._key;return this._cryptoLib&&b?yield this._cryptoLib.decrypt(a,b):null})}_getStorageSession(){let a=null;return this._sessionStorage&&(a=this._sessionStorage.getSession()),a}_setStorageSession(){this._sessionStorage&&this._sessionStorage.setSession(this.session)}_removeStorageSession(){this._sessionStorage&&this._sessionStorage.removeSession()}_manageStorageSession(){this._connected?this._setStorageSession():this._removeStorageSession()}_registerPushServer(a){if(!a.url||"string"!=typeof a.url)throw Error("Invalid or missing pushServerOpts.url parameter value");if(!a.type||"string"!=typeof a.type)throw Error("Invalid or missing pushServerOpts.type parameter value");if(!a.token||"string"!=typeof a.token)throw Error("Invalid or missing pushServerOpts.token parameter value");let b={bridge:this.bridge,topic:this.clientId,type:a.type,token:a.token,peerName:"",language:a.language||""};this.on("connect",(c,e)=>d.__awaiter(this,void 0,void 0,function*(){if(c)throw c;a.peerMeta&&(b.peerName=e.params[0].peerMeta.name);try{let c=yield fetch(`${a.url}/new`,{method:"POST",headers:{Accept:"application/json","Content-Type":"application/json"},body:JSON.stringify(b)});if(!(yield c.json()).success)throw Error("Failed to register in Push Server")}catch(a){throw Error("Failed to register in Push Server")}}))}}},87983,a=>{"use strict";var b=function(a,c){return(b=Object.setPrototypeOf||({__proto__:[]})instanceof Array&&function(a,b){a.__proto__=b}||function(a,b){for(var c in b)b.hasOwnProperty(c)&&(a[c]=b[c])})(a,c)};function c(a,c){function d(){this.constructor=a}b(a,c),a.prototype=null===c?Object.create(c):(d.prototype=c.prototype,new d)}var d=function(){return(d=Object.assign||function(a){for(var b,c=1,d=arguments.length;c<d;c++)for(var e in b=arguments[c])Object.prototype.hasOwnProperty.call(b,e)&&(a[e]=b[e]);return a}).apply(this,arguments)};function e(a,b){var c={};for(var d in a)Object.prototype.hasOwnProperty.call(a,d)&&0>b.indexOf(d)&&(c[d]=a[d]);if(null!=a&&"function"==typeof Object.getOwnPropertySymbols)for(var e=0,d=Object.getOwnPropertySymbols(a);e<d.length;e++)0>b.indexOf(d[e])&&Object.prototype.propertyIsEnumerable.call(a,d[e])&&(c[d[e]]=a[d[e]]);return c}function f(a,b,c,d){var e,f=arguments.length,g=f<3?b:null===d?d=Object.getOwnPropertyDescriptor(b,c):d;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)g=Reflect.decorate(a,b,c,d);else for(var h=a.length-1;h>=0;h--)(e=a[h])&&(g=(f<3?e(g):f>3?e(b,c,g):e(b,c))||g);return f>3&&g&&Object.defineProperty(b,c,g),g}function g(a,b){return function(c,d){b(c,d,a)}}function h(a,b){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(a,b)}function i(a,b,c,d){return new(c||(c=Promise))(function(e,f){function g(a){try{i(d.next(a))}catch(a){f(a)}}function h(a){try{i(d.throw(a))}catch(a){f(a)}}function i(a){var b;a.done?e(a.value):((b=a.value)instanceof c?b:new c(function(a){a(b)})).then(g,h)}i((d=d.apply(a,b||[])).next())})}function j(a,b){var c,d,e,f,g={label:0,sent:function(){if(1&e[0])throw e[1];return e[1]},trys:[],ops:[]};return f={next:h(0),throw:h(1),return:h(2)},"function"==typeof Symbol&&(f[Symbol.iterator]=function(){return this}),f;function h(f){return function(h){var i=[f,h];if(c)throw TypeError("Generator is already executing.");for(;g;)try{if(c=1,d&&(e=2&i[0]?d.return:i[0]?d.throw||((e=d.return)&&e.call(d),0):d.next)&&!(e=e.call(d,i[1])).done)return e;switch(d=0,e&&(i=[2&i[0],e.value]),i[0]){case 0:case 1:e=i;break;case 4:return g.label++,{value:i[1],done:!1};case 5:g.label++,d=i[1],i=[0];continue;case 7:i=g.ops.pop(),g.trys.pop();continue;default:if(!(e=(e=g.trys).length>0&&e[e.length-1])&&(6===i[0]||2===i[0])){g=0;continue}if(3===i[0]&&(!e||i[1]>e[0]&&i[1]<e[3])){g.label=i[1];break}if(6===i[0]&&g.label<e[1]){g.label=e[1],e=i;break}if(e&&g.label<e[2]){g.label=e[2],g.ops.push(i);break}e[2]&&g.ops.pop(),g.trys.pop();continue}i=b.call(a,g)}catch(a){i=[6,a],d=0}finally{c=e=0}if(5&i[0])throw i[1];return{value:i[0]?i[1]:void 0,done:!0}}}}function k(a,b,c,d){void 0===d&&(d=c),a[d]=b[c]}function l(a,b){for(var c in a)"default"===c||b.hasOwnProperty(c)||(b[c]=a[c])}function m(a){var b="function"==typeof Symbol&&Symbol.iterator,c=b&&a[b],d=0;if(c)return c.call(a);if(a&&"number"==typeof a.length)return{next:function(){return a&&d>=a.length&&(a=void 0),{value:a&&a[d++],done:!a}}};throw TypeError(b?"Object is not iterable.":"Symbol.iterator is not defined.")}function n(a,b){var c="function"==typeof Symbol&&a[Symbol.iterator];if(!c)return a;var d,e,f=c.call(a),g=[];try{for(;(void 0===b||b-- >0)&&!(d=f.next()).done;)g.push(d.value)}catch(a){e={error:a}}finally{try{d&&!d.done&&(c=f.return)&&c.call(f)}finally{if(e)throw e.error}}return g}function o(){for(var a=[],b=0;b<arguments.length;b++)a=a.concat(n(arguments[b]));return a}function p(){for(var a=0,b=0,c=arguments.length;b<c;b++)a+=arguments[b].length;for(var d=Array(a),e=0,b=0;b<c;b++)for(var f=arguments[b],g=0,h=f.length;g<h;g++,e++)d[e]=f[g];return d}function q(a){return this instanceof q?(this.v=a,this):new q(a)}function r(a,b,c){if(!Symbol.asyncIterator)throw TypeError("Symbol.asyncIterator is not defined.");var d,e=c.apply(a,b||[]),f=[];return d={},g("next"),g("throw"),g("return"),d[Symbol.asyncIterator]=function(){return this},d;function g(a){e[a]&&(d[a]=function(b){return new Promise(function(c,d){f.push([a,b,c,d])>1||h(a,b)})})}function h(a,b){try{var c;(c=e[a](b)).value instanceof q?Promise.resolve(c.value.v).then(i,j):k(f[0][2],c)}catch(a){k(f[0][3],a)}}function i(a){h("next",a)}function j(a){h("throw",a)}function k(a,b){a(b),f.shift(),f.length&&h(f[0][0],f[0][1])}}function s(a){var b,c;return b={},d("next"),d("throw",function(a){throw a}),d("return"),b[Symbol.iterator]=function(){return this},b;function d(d,e){b[d]=a[d]?function(b){return(c=!c)?{value:q(a[d](b)),done:"return"===d}:e?e(b):b}:e}}function t(a){if(!Symbol.asyncIterator)throw TypeError("Symbol.asyncIterator is not defined.");var b,c=a[Symbol.asyncIterator];return c?c.call(a):(a=m(a),b={},d("next"),d("throw"),d("return"),b[Symbol.asyncIterator]=function(){return this},b);function d(c){b[c]=a[c]&&function(b){return new Promise(function(d,e){var f,g,h;f=d,g=e,h=(b=a[c](b)).done,Promise.resolve(b.value).then(function(a){f({value:a,done:h})},g)})}}}function u(a,b){return Object.defineProperty?Object.defineProperty(a,"raw",{value:b}):a.raw=b,a}function v(a){if(a&&a.__esModule)return a;var b={};if(null!=a)for(var c in a)Object.hasOwnProperty.call(a,c)&&(b[c]=a[c]);return b.default=a,b}function w(a){return a&&a.__esModule?a:{default:a}}function x(a,b){if(!b.has(a))throw TypeError("attempted to get private field on non-instance");return b.get(a)}function y(a,b,c){if(!b.has(a))throw TypeError("attempted to set private field on non-instance");return b.set(a,c),c}a.s(["__assign",()=>d,"__asyncDelegator",()=>s,"__asyncGenerator",()=>r,"__asyncValues",()=>t,"__await",()=>q,"__awaiter",()=>i,"__classPrivateFieldGet",()=>x,"__classPrivateFieldSet",()=>y,"__createBinding",()=>k,"__decorate",()=>f,"__exportStar",()=>l,"__extends",()=>c,"__generator",()=>j,"__importDefault",()=>w,"__importStar",()=>v,"__makeTemplateObject",()=>u,"__metadata",()=>h,"__param",()=>g,"__read",()=>n,"__rest",()=>e,"__spread",()=>o,"__spreadArrays",()=>p,"__values",()=>m])},66680,(a,b,c)=>{b.exports=a.x("node:crypto",()=>require("node:crypto"))},95258,(a,b,c)=>{"use strict";Object.defineProperty(c,"__esModule",{value:!0}),c.crypto=void 0;let d=a.r(66680);c.crypto=d&&"object"==typeof d&&"webcrypto"in d?d.webcrypto:d&&"object"==typeof d&&"randomBytes"in d?d:void 0},1221,(a,b,c)=>{"use strict";function d(a){if(!Number.isSafeInteger(a)||a<0)throw Error("positive integer expected, got "+a)}function e(a,...b){if(!(a instanceof Uint8Array||ArrayBuffer.isView(a)&&"Uint8Array"===a.constructor.name))throw Error("Uint8Array expected");if(b.length>0&&!b.includes(a.length))throw Error("Uint8Array expected of length "+b+", got length="+a.length)}Object.defineProperty(c,"__esModule",{value:!0}),c.anumber=d,c.abytes=e,c.ahash=function(a){if("function"!=typeof a||"function"!=typeof a.create)throw Error("Hash should be wrapped by utils.wrapConstructor");d(a.outputLen),d(a.blockLen)},c.aexists=function(a,b=!0){if(a.destroyed)throw Error("Hash instance has been destroyed");if(b&&a.finished)throw Error("Hash#digest() has already been called")},c.aoutput=function(a,b){e(a);let c=b.outputLen;if(a.length<c)throw Error("digestInto() expects output buffer of length at least "+c)}},94065,(a,b,c)=>{"use strict";Object.defineProperty(c,"__esModule",{value:!0}),c.Hash=c.nextTick=c.byteSwapIfBE=c.byteSwap=c.isLE=c.rotl=c.rotr=c.createView=c.u32=c.u8=void 0,c.isBytes=function(a){return a instanceof Uint8Array||ArrayBuffer.isView(a)&&"Uint8Array"===a.constructor.name},c.byteSwap32=function(a){for(let b=0;b<a.length;b++)a[b]=(0,c.byteSwap)(a[b])},c.bytesToHex=function(a){(0,e.abytes)(a);let b="";for(let c=0;c<a.length;c++)b+=f[a[c]];return b},c.hexToBytes=function(a){if("string"!=typeof a)throw Error("hex string expected, got "+typeof a);let b=a.length,c=b/2;if(b%2)throw Error("hex string expected, got unpadded hex of length "+b);let d=new Uint8Array(c);for(let b=0,e=0;b<c;b++,e+=2){let c=g(a.charCodeAt(e)),f=g(a.charCodeAt(e+1));if(void 0===c||void 0===f)throw Error('hex string expected, got non-hex character "'+(a[e]+a[e+1])+'" at index '+e);d[b]=16*c+f}return d},c.asyncLoop=h,c.utf8ToBytes=i,c.toBytes=j,c.concatBytes=function(...a){let b=0;for(let c=0;c<a.length;c++){let d=a[c];(0,e.abytes)(d),b+=d.length}let c=new Uint8Array(b);for(let b=0,d=0;b<a.length;b++){let e=a[b];c.set(e,d),d+=e.length}return c},c.checkOpts=function(a,b){if(void 0!==b&&"[object Object]"!==({}).toString.call(b))throw Error("Options should be object or undefined");return Object.assign(a,b)},c.wrapConstructor=function(a){let b=b=>a().update(j(b)).digest(),c=a();return b.outputLen=c.outputLen,b.blockLen=c.blockLen,b.create=()=>a(),b},c.wrapConstructorWithOpts=function(a){let b=(b,c)=>a(c).update(j(b)).digest(),c=a({});return b.outputLen=c.outputLen,b.blockLen=c.blockLen,b.create=b=>a(b),b},c.wrapXOFConstructorWithOpts=function(a){let b=(b,c)=>a(c).update(j(b)).digest(),c=a({});return b.outputLen=c.outputLen,b.blockLen=c.blockLen,b.create=b=>a(b),b},c.randomBytes=function(a=32){if(d.crypto&&"function"==typeof d.crypto.getRandomValues)return d.crypto.getRandomValues(new Uint8Array(a));if(d.crypto&&"function"==typeof d.crypto.randomBytes)return d.crypto.randomBytes(a);throw Error("crypto.getRandomValues must be defined")};let d=a.r(95258),e=a.r(1221);c.u8=a=>new Uint8Array(a.buffer,a.byteOffset,a.byteLength),c.u32=a=>new Uint32Array(a.buffer,a.byteOffset,Math.floor(a.byteLength/4)),c.createView=a=>new DataView(a.buffer,a.byteOffset,a.byteLength),c.rotr=(a,b)=>a<<32-b|a>>>b,c.rotl=(a,b)=>a<<b|a>>>32-b>>>0,c.isLE=68===new Uint8Array(new Uint32Array([0x11223344]).buffer)[0],c.byteSwap=a=>a<<24&0xff000000|a<<8&0xff0000|a>>>8&65280|a>>>24&255,c.byteSwapIfBE=c.isLE?a=>a:a=>(0,c.byteSwap)(a);let f=Array.from({length:256},(a,b)=>b.toString(16).padStart(2,"0"));function g(a){return a>=48&&a<=57?a-48:a>=65&&a<=70?a-55:a>=97&&a<=102?a-87:void 0}async function h(a,b,d){let e=Date.now();for(let f=0;f<a;f++){d(f);let a=Date.now()-e;a>=0&&a<b||(await (0,c.nextTick)(),e+=a)}}function i(a){if("string"!=typeof a)throw Error("utf8ToBytes expected string, got "+typeof a);return new Uint8Array(new TextEncoder().encode(a))}function j(a){return"string"==typeof a&&(a=i(a)),(0,e.abytes)(a),a}c.nextTick=async()=>{},c.Hash=class{clone(){return this._cloneInto()}}},32492,(a,b,c)=>{"use strict";Object.defineProperty(c,"__esModule",{value:!0}),c.randomBytes=void 0;let d=a.r(94065);c.randomBytes=function(a){return(0,d.randomBytes)(a)}},109,(a,b,c)=>{"use strict";Object.defineProperty(c,"__esModule",{value:!0}),c.LENGTH_1024=c.LENGTH_512=c.LENGTH_256=c.LENGTH_128=c.LENGTH_64=c.LENGTH_32=c.LENGTH_16=c.LENGTH_1=c.LENGTH_0=void 0,c.LENGTH_0=0,c.LENGTH_1=1,c.LENGTH_16=16,c.LENGTH_32=32,c.LENGTH_64=64,c.LENGTH_128=128,c.LENGTH_256=256,c.LENGTH_512=512,c.LENGTH_1024=1024},99625,(a,b,c)=>{"use strict";Object.defineProperty(c,"__esModule",{value:!0}),c.MAC_LENGTH=c.IV_LENGTH=c.KEY_LENGTH=c.PREFIX_LENGTH=c.RIPEMD160_NODE_ALGO=c.SHA512_NODE_ALGO=c.SHA256_NODE_ALGO=c.HMAC_NODE_ALGO=c.AES_NODE_ALGO=c.SHA512_BROWSER_ALGO=c.SHA256_BROWSER_ALGO=c.HMAC_BROWSER=c.HMAC_BROWSER_ALGO=c.AES_BROWSER_ALGO=c.HMAC_LENGTH=c.AES_LENGTH=void 0;let d=a.r(109);c.AES_LENGTH=d.LENGTH_256,c.HMAC_LENGTH=d.LENGTH_256,c.AES_BROWSER_ALGO="AES-CBC",c.HMAC_BROWSER_ALGO=`SHA-${c.AES_LENGTH}`,c.HMAC_BROWSER="HMAC",c.SHA256_BROWSER_ALGO="SHA-256",c.SHA512_BROWSER_ALGO="SHA-512",c.AES_NODE_ALGO=`aes-${c.AES_LENGTH}-cbc`,c.HMAC_NODE_ALGO=`sha${c.HMAC_LENGTH}`,c.SHA256_NODE_ALGO="sha256",c.SHA512_NODE_ALGO="sha512",c.RIPEMD160_NODE_ALGO="ripemd160",c.PREFIX_LENGTH=d.LENGTH_1,c.KEY_LENGTH=d.LENGTH_32,c.IV_LENGTH=d.LENGTH_16,c.MAC_LENGTH=d.LENGTH_32},73715,(a,b,c)=>{"use strict";Object.defineProperty(c,"__esModule",{value:!0}),c.UTF8_ENC=c.HEX_ENC=void 0,c.HEX_ENC="hex",c.UTF8_ENC="utf8"},10125,(a,b,c)=>{"use strict";Object.defineProperty(c,"__esModule",{value:!0}),c.ERROR_BAD_MAC=void 0,c.ERROR_BAD_MAC="Bad MAC"},88518,(a,b,c)=>{"use strict";Object.defineProperty(c,"__esModule",{value:!0}),c.VERIFY_OP=c.SIGN_OP=c.DECRYPT_OP=c.ENCRYPT_OP=void 0,c.ENCRYPT_OP="encrypt",c.DECRYPT_OP="decrypt",c.SIGN_OP="sign",c.VERIFY_OP="verify"},56811,(a,b,c)=>{"use strict";Object.defineProperty(c,"__esModule",{value:!0});let d=a.r(87983);d.__exportStar(a.r(99625),c),d.__exportStar(a.r(73715),c),d.__exportStar(a.r(10125),c),d.__exportStar(a.r(109),c),d.__exportStar(a.r(88518),c)},73258,(a,b,c)=>{"use strict";Object.defineProperty(c,"__esModule",{value:!0}),c.nodeRipemd160=c.nodeSha512=c.nodeSha256=c.nodeHmacSha512Sign=c.nodeHmacSha256Sign=c.nodeAesDecrypt=c.nodeAesEncrypt=void 0;let d=a.r(87983).__importDefault(a.r(54799)),e=a.r(43600),f=a.r(56811);c.nodeAesEncrypt=function(a,b,c){let g=d.default.createCipheriv(f.AES_NODE_ALGO,Buffer.from(b),Buffer.from(a));return(0,e.bufferToArray)((0,e.concatBuffers)(g.update(Buffer.from(c)),g.final()))},c.nodeAesDecrypt=function(a,b,c){let g=d.default.createDecipheriv(f.AES_NODE_ALGO,Buffer.from(b),Buffer.from(a));return(0,e.bufferToArray)((0,e.concatBuffers)(g.update(Buffer.from(c)),g.final()))},c.nodeHmacSha256Sign=function(a,b){let c=d.default.createHmac(f.HMAC_NODE_ALGO,Buffer.from(a)).update(Buffer.from(b)).digest();return(0,e.bufferToArray)(c)},c.nodeHmacSha512Sign=function(a,b){let c=d.default.createHmac(f.SHA512_NODE_ALGO,Buffer.from(a)).update(Buffer.from(b)).digest();return(0,e.bufferToArray)(c)},c.nodeSha256=function(a){let b=d.default.createHash(f.SHA256_NODE_ALGO).update(Buffer.from(a)).digest();return(0,e.bufferToArray)(b)},c.nodeSha512=function(a){let b=d.default.createHash(f.SHA512_NODE_ALGO).update(Buffer.from(a)).digest();return(0,e.bufferToArray)(b)},c.nodeRipemd160=function(a){let b=d.default.createHash(f.RIPEMD160_NODE_ALGO).update(Buffer.from(a)).digest();return(0,e.bufferToArray)(b)}},66759,(a,b,c)=>{"use strict";Object.defineProperty(c,"__esModule",{value:!0}),c.aesCbcDecrypt=c.aesCbcEncrypt=void 0;let d=a.r(87983),e=a.r(73258);c.aesCbcEncrypt=function(a,b,c){return d.__awaiter(this,void 0,void 0,function*(){return(0,e.nodeAesEncrypt)(a,b,c)})},c.aesCbcDecrypt=function(a,b,c){return d.__awaiter(this,void 0,void 0,function*(){return(0,e.nodeAesDecrypt)(a,b,c)})}},98365,(a,b,c)=>{"use strict";Object.defineProperty(c,"__esModule",{value:!0}),a.r(87983).__exportStar(a.r(56046),c)},41647,(a,b,c)=>{"use strict";Object.defineProperty(c,"__esModule",{value:!0}),c.pkcs7=void 0;let d=[[16,16,16,16,16,16,16,16,16,16,16,16,16,16,16,16],[15,15,15,15,15,15,15,15,15,15,15,15,15,15,15],[14,14,14,14,14,14,14,14,14,14,14,14,14,14],[13,13,13,13,13,13,13,13,13,13,13,13,13],[12,12,12,12,12,12,12,12,12,12,12,12],[11,11,11,11,11,11,11,11,11,11,11],[10,10,10,10,10,10,10,10,10,10],[9,9,9,9,9,9,9,9,9],[8,8,8,8,8,8,8,8],[7,7,7,7,7,7,7],[6,6,6,6,6,6],[5,5,5,5,5],[4,4,4,4],[3,3,3],[2,2],[1]];c.pkcs7={pad(a){let b=d[a.byteLength%16||0],c=new Uint8Array(a.byteLength+b.length);return c.set(a),c.set(b,a.byteLength),c},unpad:a=>a.subarray(0,a.byteLength-a[a.byteLength-1])}},85043,(a,b,c)=>{"use strict";Object.defineProperty(c,"__esModule",{value:!0})},95521,(a,b,c)=>{"use strict";Object.defineProperty(c,"__esModule",{value:!0}),c.isConstantTime=c.assert=void 0,c.assert=function(a,b){if(!a)throw Error(b||"Assertion failed")},c.isConstantTime=function(a,b){if(a.length!==b.length)return!1;let c=0;for(let d=0;d<a.length;d++)c|=a[d]^b[d];return 0===c}},23026,(a,b,c)=>{"use strict";Object.defineProperty(c,"__esModule",{value:!0});let d=a.r(87983);d.__exportStar(a.r(98365),c),d.__exportStar(a.r(41647),c),d.__exportStar(a.r(85043),c),d.__exportStar(a.r(95521),c)},49950,(a,b,c)=>{"use strict";Object.defineProperty(c,"__esModule",{value:!0}),c.hmacSha512Verify=c.hmacSha512Sign=c.hmacSha256Verify=c.hmacSha256Sign=void 0;let d=a.r(87983),e=a.r(23026),f=a.r(73258);c.hmacSha256Sign=function(a,b){return d.__awaiter(this,void 0,void 0,function*(){return(0,f.nodeHmacSha256Sign)(a,b)})},c.hmacSha256Verify=function(a,b,c){return d.__awaiter(this,void 0,void 0,function*(){let d=(0,f.nodeHmacSha256Sign)(a,b);return(0,e.isConstantTime)(d,c)})},c.hmacSha512Sign=function(a,b){return d.__awaiter(this,void 0,void 0,function*(){return(0,f.nodeHmacSha512Sign)(a,b)})},c.hmacSha512Verify=function(a,b,c){return d.__awaiter(this,void 0,void 0,function*(){let d=(0,f.nodeHmacSha512Sign)(a,b);return(0,e.isConstantTime)(d,c)})}},61574,(a,b,c)=>{"use strict";Object.defineProperty(c,"__esModule",{value:!0}),c.ripemd160=c.sha512=c.sha256=void 0;let d=a.r(87983),e=a.r(73258);c.sha256=function(a){return d.__awaiter(this,void 0,void 0,function*(){return(0,e.nodeSha256)(a)})},c.sha512=function(a){return d.__awaiter(this,void 0,void 0,function*(){return(0,e.nodeSha512)(a)})},c.ripemd160=function(a){return d.__awaiter(this,void 0,void 0,function*(){return(0,e.nodeRipemd160)(a)})}},73711,(a,b,c)=>{"use strict";Object.defineProperty(c,"__esModule",{value:!0});let d=a.r(87983);d.__exportStar(a.r(32492),c),d.__exportStar(a.r(66759),c),d.__exportStar(a.r(49950),c),d.__exportStar(a.r(61574),c),d.__exportStar(a.r(23026),c),d.__exportStar(a.r(56811),c)},68958,(a,b,c)=>{"use strict";Object.defineProperty(c,"__esModule",{value:!0}),c.decrypt=c.encrypt=c.verifyHmac=c.generateKey=void 0;let d=a.r(17385),e=d.__importStar(a.r(73711)),f=d.__importStar(a.r(43600)),g=a.r(14824);function h(a){return d.__awaiter(this,void 0,void 0,function*(){let b=e.randomBytes((a||256)/8);return(0,g.convertBufferToArrayBuffer)(f.arrayToBuffer(b))})}function i(a,b){return d.__awaiter(this,void 0,void 0,function*(){let c=f.hexToArray(a.data),d=f.hexToArray(a.iv),g=f.hexToArray(a.hmac),h=f.arrayToHex(g,!1),i=f.concatArrays(c,d),j=yield e.hmacSha256Sign(b,i),k=f.arrayToHex(j,!1);return f.removeHexPrefix(h)===f.removeHexPrefix(k)})}c.generateKey=h,c.verifyHmac=i,c.encrypt=function(a,b,c){return d.__awaiter(this,void 0,void 0,function*(){let d=f.bufferToArray((0,g.convertArrayBufferToBuffer)(b)),i=c||(yield h(128)),j=f.bufferToArray((0,g.convertArrayBufferToBuffer)(i)),k=f.arrayToHex(j,!1),l=JSON.stringify(a),m=f.utf8ToArray(l),n=yield e.aesCbcEncrypt(j,d,m),o=f.arrayToHex(n,!1),p=f.concatArrays(n,j),q=yield e.hmacSha256Sign(d,p);return{data:o,hmac:f.arrayToHex(q,!1),iv:k}})},c.decrypt=function(a,b){return d.__awaiter(this,void 0,void 0,function*(){let c,d=f.bufferToArray((0,g.convertArrayBufferToBuffer)(b));if(!d)throw Error("Missing key: required for decryption");if(!(yield i(a,d)))return null;let h=f.hexToArray(a.data),j=f.hexToArray(a.iv),k=yield e.aesCbcDecrypt(j,d,h),l=f.arrayToUtf8(k);try{c=JSON.parse(l)}catch(a){return null}return c})}},3564,(a,b,c)=>{"use strict";Object.defineProperty(c,"__esModule",{value:!0});let d=a.r(17385),e=d.__importDefault(a.r(45694)),f=d.__importStar(a.r(68958));class g extends e.default{constructor(a,b){super({cryptoLib:f,connectorOpts:a,pushServerOpts:b})}}c.default=g},37125,57574,a=>{"use strict";var b=a.i(3564),c=a.i(82571);let d={"Amazon Silk":"amazon_silk","Android Browser":"android",Bada:"bada",BlackBerry:"blackberry",Chrome:"chrome",Chromium:"chromium",Electron:"electron",Epiphany:"epiphany",Firefox:"firefox",Focus:"focus",Generic:"generic","Google Search":"google_search",Googlebot:"googlebot","Internet Explorer":"ie","K-Meleon":"k_meleon",Maxthon:"maxthon","Microsoft Edge":"edge","MZ Browser":"mz","NAVER Whale Browser":"naver",Opera:"opera","Opera Coast":"opera_coast",PhantomJS:"phantomjs",Puffin:"puffin",QupZilla:"qupzilla",QQ:"qq",QQLite:"qqlite",Safari:"safari",Sailfish:"sailfish","Samsung Internet for Android":"samsung_internet",SeaMonkey:"seamonkey",Sleipnir:"sleipnir",Swing:"swing",Tizen:"tizen","UC Browser":"uc",Vivaldi:"vivaldi","WebOS Browser":"webos",WeChat:"wechat","Yandex Browser":"yandex",Roku:"roku"},e={amazon_silk:"Amazon Silk",android:"Android Browser",bada:"Bada",blackberry:"BlackBerry",chrome:"Chrome",chromium:"Chromium",electron:"Electron",epiphany:"Epiphany",firefox:"Firefox",focus:"Focus",generic:"Generic",googlebot:"Googlebot",google_search:"Google Search",ie:"Internet Explorer",k_meleon:"K-Meleon",maxthon:"Maxthon",edge:"Microsoft Edge",mz:"MZ Browser",naver:"NAVER Whale Browser",opera:"Opera",opera_coast:"Opera Coast",phantomjs:"PhantomJS",puffin:"Puffin",qupzilla:"QupZilla",qq:"QQ Browser",qqlite:"QQ Browser Lite",safari:"Safari",sailfish:"Sailfish",samsung_internet:"Samsung Internet for Android",seamonkey:"SeaMonkey",sleipnir:"Sleipnir",swing:"Swing",tizen:"Tizen",uc:"UC Browser",vivaldi:"Vivaldi",webos:"WebOS Browser",wechat:"WeChat",yandex:"Yandex Browser"},f={tablet:"tablet",mobile:"mobile",desktop:"desktop",tv:"tv"},g={WindowsPhone:"Windows Phone",Windows:"Windows",MacOS:"macOS",iOS:"iOS",Android:"Android",WebOS:"WebOS",BlackBerry:"BlackBerry",Bada:"Bada",Tizen:"Tizen",Linux:"Linux",ChromeOS:"Chrome OS",PlayStation4:"PlayStation 4",Roku:"Roku"},h={EdgeHTML:"EdgeHTML",Blink:"Blink",Trident:"Trident",Presto:"Presto",Gecko:"Gecko",WebKit:"WebKit"};class i{static getFirstMatch(a,b){let c=b.match(a);return c&&c.length>0&&c[1]||""}static getSecondMatch(a,b){let c=b.match(a);return c&&c.length>1&&c[2]||""}static matchAndReturnConst(a,b,c){if(a.test(b))return c}static getWindowsVersionName(a){switch(a){case"NT":return"NT";case"XP":case"NT 5.1":return"XP";case"NT 5.0":return"2000";case"NT 5.2":return"2003";case"NT 6.0":return"Vista";case"NT 6.1":return"7";case"NT 6.2":return"8";case"NT 6.3":return"8.1";case"NT 10.0":return"10";default:return}}static getMacOSVersionName(a){let b=a.split(".").splice(0,2).map(a=>parseInt(a,10)||0);if(b.push(0),10===b[0])switch(b[1]){case 5:return"Leopard";case 6:return"Snow Leopard";case 7:return"Lion";case 8:return"Mountain Lion";case 9:return"Mavericks";case 10:return"Yosemite";case 11:return"El Capitan";case 12:return"Sierra";case 13:return"High Sierra";case 14:return"Mojave";case 15:return"Catalina";default:return}}static getAndroidVersionName(a){let b=a.split(".").splice(0,2).map(a=>parseInt(a,10)||0);if(b.push(0),1!==b[0]||!(b[1]<5)){if(1===b[0]&&b[1]<6)return"Cupcake";if(1===b[0]&&b[1]>=6)return"Donut";if(2===b[0]&&b[1]<2)return"Eclair";if(2===b[0]&&2===b[1])return"Froyo";if(2===b[0]&&b[1]>2)return"Gingerbread";if(3===b[0])return"Honeycomb";if(4===b[0]&&b[1]<1)return"Ice Cream Sandwich";if(4===b[0]&&b[1]<4)return"Jelly Bean";if(4===b[0]&&b[1]>=4)return"KitKat";if(5===b[0])return"Lollipop";if(6===b[0])return"Marshmallow";if(7===b[0])return"Nougat";if(8===b[0])return"Oreo";if(9===b[0])return"Pie"}}static getVersionPrecision(a){return a.split(".").length}static compareVersions(a,b,c=!1){let d=i.getVersionPrecision(a),e=i.getVersionPrecision(b),f=Math.max(d,e),g=0,h=i.map([a,b],a=>{let b=f-i.getVersionPrecision(a),c=a+Array(b+1).join(".0");return i.map(c.split("."),a=>Array(20-a.length).join("0")+a).reverse()});for(c&&(g=f-Math.min(d,e)),f-=1;f>=g;){if(h[0][f]>h[1][f])return 1;if(h[0][f]===h[1][f]){if(f===g)return 0;f-=1}else if(h[0][f]<h[1][f])return -1}}static map(a,b){let c,d=[];if(Array.prototype.map)return Array.prototype.map.call(a,b);for(c=0;c<a.length;c+=1)d.push(b(a[c]));return d}static find(a,b){let c,d;if(Array.prototype.find)return Array.prototype.find.call(a,b);for(c=0,d=a.length;c<d;c+=1){let d=a[c];if(b(d,c))return d}}static assign(a,...b){return Object.assign(a,...b)}static getBrowserAlias(a){return d[a]}static getBrowserTypeByAlias(a){return e[a]||""}}let j=/version\/(\d+(\.?_?\d+)+)/i,k=[{test:[/googlebot/i],describe(a){let b={name:"Googlebot"},c=i.getFirstMatch(/googlebot\/(\d+(\.\d+))/i,a)||i.getFirstMatch(j,a);return c&&(b.version=c),b}},{test:[/opera/i],describe(a){let b={name:"Opera"},c=i.getFirstMatch(j,a)||i.getFirstMatch(/(?:opera)[\s/](\d+(\.?_?\d+)+)/i,a);return c&&(b.version=c),b}},{test:[/opr\/|opios/i],describe(a){let b={name:"Opera"},c=i.getFirstMatch(/(?:opr|opios)[\s/](\S+)/i,a)||i.getFirstMatch(j,a);return c&&(b.version=c),b}},{test:[/SamsungBrowser/i],describe(a){let b={name:"Samsung Internet for Android"},c=i.getFirstMatch(j,a)||i.getFirstMatch(/(?:SamsungBrowser)[\s/](\d+(\.?_?\d+)+)/i,a);return c&&(b.version=c),b}},{test:[/Whale/i],describe(a){let b={name:"NAVER Whale Browser"},c=i.getFirstMatch(j,a)||i.getFirstMatch(/(?:whale)[\s/](\d+(?:\.\d+)+)/i,a);return c&&(b.version=c),b}},{test:[/MZBrowser/i],describe(a){let b={name:"MZ Browser"},c=i.getFirstMatch(/(?:MZBrowser)[\s/](\d+(?:\.\d+)+)/i,a)||i.getFirstMatch(j,a);return c&&(b.version=c),b}},{test:[/focus/i],describe(a){let b={name:"Focus"},c=i.getFirstMatch(/(?:focus)[\s/](\d+(?:\.\d+)+)/i,a)||i.getFirstMatch(j,a);return c&&(b.version=c),b}},{test:[/swing/i],describe(a){let b={name:"Swing"},c=i.getFirstMatch(/(?:swing)[\s/](\d+(?:\.\d+)+)/i,a)||i.getFirstMatch(j,a);return c&&(b.version=c),b}},{test:[/coast/i],describe(a){let b={name:"Opera Coast"},c=i.getFirstMatch(j,a)||i.getFirstMatch(/(?:coast)[\s/](\d+(\.?_?\d+)+)/i,a);return c&&(b.version=c),b}},{test:[/opt\/\d+(?:.?_?\d+)+/i],describe(a){let b={name:"Opera Touch"},c=i.getFirstMatch(/(?:opt)[\s/](\d+(\.?_?\d+)+)/i,a)||i.getFirstMatch(j,a);return c&&(b.version=c),b}},{test:[/yabrowser/i],describe(a){let b={name:"Yandex Browser"},c=i.getFirstMatch(/(?:yabrowser)[\s/](\d+(\.?_?\d+)+)/i,a)||i.getFirstMatch(j,a);return c&&(b.version=c),b}},{test:[/ucbrowser/i],describe(a){let b={name:"UC Browser"},c=i.getFirstMatch(j,a)||i.getFirstMatch(/(?:ucbrowser)[\s/](\d+(\.?_?\d+)+)/i,a);return c&&(b.version=c),b}},{test:[/Maxthon|mxios/i],describe(a){let b={name:"Maxthon"},c=i.getFirstMatch(j,a)||i.getFirstMatch(/(?:Maxthon|mxios)[\s/](\d+(\.?_?\d+)+)/i,a);return c&&(b.version=c),b}},{test:[/epiphany/i],describe(a){let b={name:"Epiphany"},c=i.getFirstMatch(j,a)||i.getFirstMatch(/(?:epiphany)[\s/](\d+(\.?_?\d+)+)/i,a);return c&&(b.version=c),b}},{test:[/puffin/i],describe(a){let b={name:"Puffin"},c=i.getFirstMatch(j,a)||i.getFirstMatch(/(?:puffin)[\s/](\d+(\.?_?\d+)+)/i,a);return c&&(b.version=c),b}},{test:[/sleipnir/i],describe(a){let b={name:"Sleipnir"},c=i.getFirstMatch(j,a)||i.getFirstMatch(/(?:sleipnir)[\s/](\d+(\.?_?\d+)+)/i,a);return c&&(b.version=c),b}},{test:[/k-meleon/i],describe(a){let b={name:"K-Meleon"},c=i.getFirstMatch(j,a)||i.getFirstMatch(/(?:k-meleon)[\s/](\d+(\.?_?\d+)+)/i,a);return c&&(b.version=c),b}},{test:[/micromessenger/i],describe(a){let b={name:"WeChat"},c=i.getFirstMatch(/(?:micromessenger)[\s/](\d+(\.?_?\d+)+)/i,a)||i.getFirstMatch(j,a);return c&&(b.version=c),b}},{test:[/qqbrowser/i],describe(a){let b={name:/qqbrowserlite/i.test(a)?"QQ Browser Lite":"QQ Browser"},c=i.getFirstMatch(/(?:qqbrowserlite|qqbrowser)[/](\d+(\.?_?\d+)+)/i,a)||i.getFirstMatch(j,a);return c&&(b.version=c),b}},{test:[/msie|trident/i],describe(a){let b={name:"Internet Explorer"},c=i.getFirstMatch(/(?:msie |rv:)(\d+(\.?_?\d+)+)/i,a);return c&&(b.version=c),b}},{test:[/\sedg\//i],describe(a){let b={name:"Microsoft Edge"},c=i.getFirstMatch(/\sedg\/(\d+(\.?_?\d+)+)/i,a);return c&&(b.version=c),b}},{test:[/edg([ea]|ios)/i],describe(a){let b={name:"Microsoft Edge"},c=i.getSecondMatch(/edg([ea]|ios)\/(\d+(\.?_?\d+)+)/i,a);return c&&(b.version=c),b}},{test:[/vivaldi/i],describe(a){let b={name:"Vivaldi"},c=i.getFirstMatch(/vivaldi\/(\d+(\.?_?\d+)+)/i,a);return c&&(b.version=c),b}},{test:[/seamonkey/i],describe(a){let b={name:"SeaMonkey"},c=i.getFirstMatch(/seamonkey\/(\d+(\.?_?\d+)+)/i,a);return c&&(b.version=c),b}},{test:[/sailfish/i],describe(a){let b={name:"Sailfish"},c=i.getFirstMatch(/sailfish\s?browser\/(\d+(\.\d+)?)/i,a);return c&&(b.version=c),b}},{test:[/silk/i],describe(a){let b={name:"Amazon Silk"},c=i.getFirstMatch(/silk\/(\d+(\.?_?\d+)+)/i,a);return c&&(b.version=c),b}},{test:[/phantom/i],describe(a){let b={name:"PhantomJS"},c=i.getFirstMatch(/phantomjs\/(\d+(\.?_?\d+)+)/i,a);return c&&(b.version=c),b}},{test:[/slimerjs/i],describe(a){let b={name:"SlimerJS"},c=i.getFirstMatch(/slimerjs\/(\d+(\.?_?\d+)+)/i,a);return c&&(b.version=c),b}},{test:[/blackberry|\bbb\d+/i,/rim\stablet/i],describe(a){let b={name:"BlackBerry"},c=i.getFirstMatch(j,a)||i.getFirstMatch(/blackberry[\d]+\/(\d+(\.?_?\d+)+)/i,a);return c&&(b.version=c),b}},{test:[/(web|hpw)[o0]s/i],describe(a){let b={name:"WebOS Browser"},c=i.getFirstMatch(j,a)||i.getFirstMatch(/w(?:eb)?[o0]sbrowser\/(\d+(\.?_?\d+)+)/i,a);return c&&(b.version=c),b}},{test:[/bada/i],describe(a){let b={name:"Bada"},c=i.getFirstMatch(/dolfin\/(\d+(\.?_?\d+)+)/i,a);return c&&(b.version=c),b}},{test:[/tizen/i],describe(a){let b={name:"Tizen"},c=i.getFirstMatch(/(?:tizen\s?)?browser\/(\d+(\.?_?\d+)+)/i,a)||i.getFirstMatch(j,a);return c&&(b.version=c),b}},{test:[/qupzilla/i],describe(a){let b={name:"QupZilla"},c=i.getFirstMatch(/(?:qupzilla)[\s/](\d+(\.?_?\d+)+)/i,a)||i.getFirstMatch(j,a);return c&&(b.version=c),b}},{test:[/firefox|iceweasel|fxios/i],describe(a){let b={name:"Firefox"},c=i.getFirstMatch(/(?:firefox|iceweasel|fxios)[\s/](\d+(\.?_?\d+)+)/i,a);return c&&(b.version=c),b}},{test:[/electron/i],describe(a){let b={name:"Electron"},c=i.getFirstMatch(/(?:electron)\/(\d+(\.?_?\d+)+)/i,a);return c&&(b.version=c),b}},{test:[/MiuiBrowser/i],describe(a){let b={name:"Miui"},c=i.getFirstMatch(/(?:MiuiBrowser)[\s/](\d+(\.?_?\d+)+)/i,a);return c&&(b.version=c),b}},{test:[/chromium/i],describe(a){let b={name:"Chromium"},c=i.getFirstMatch(/(?:chromium)[\s/](\d+(\.?_?\d+)+)/i,a)||i.getFirstMatch(j,a);return c&&(b.version=c),b}},{test:[/chrome|crios|crmo/i],describe(a){let b={name:"Chrome"},c=i.getFirstMatch(/(?:chrome|crios|crmo)\/(\d+(\.?_?\d+)+)/i,a);return c&&(b.version=c),b}},{test:[/GSA/i],describe(a){let b={name:"Google Search"},c=i.getFirstMatch(/(?:GSA)\/(\d+(\.?_?\d+)+)/i,a);return c&&(b.version=c),b}},{test(a){let b=!a.test(/like android/i),c=a.test(/android/i);return b&&c},describe(a){let b={name:"Android Browser"},c=i.getFirstMatch(j,a);return c&&(b.version=c),b}},{test:[/playstation 4/i],describe(a){let b={name:"PlayStation 4"},c=i.getFirstMatch(j,a);return c&&(b.version=c),b}},{test:[/safari|applewebkit/i],describe(a){let b={name:"Safari"},c=i.getFirstMatch(j,a);return c&&(b.version=c),b}},{test:[/.*/i],describe(a){let b=-1!==a.search("\\(")?/^(.*)\/(.*)[ \t]\((.*)/:/^(.*)\/(.*) /;return{name:i.getFirstMatch(b,a),version:i.getSecondMatch(b,a)}}}],l=[{test:[/Roku\/DVP/],describe(a){let b=i.getFirstMatch(/Roku\/DVP-(\d+\.\d+)/i,a);return{name:g.Roku,version:b}}},{test:[/windows phone/i],describe(a){let b=i.getFirstMatch(/windows phone (?:os)?\s?(\d+(\.\d+)*)/i,a);return{name:g.WindowsPhone,version:b}}},{test:[/windows /i],describe(a){let b=i.getFirstMatch(/Windows ((NT|XP)( \d\d?.\d)?)/i,a),c=i.getWindowsVersionName(b);return{name:g.Windows,version:b,versionName:c}}},{test:[/Macintosh(.*?) FxiOS(.*?)\//],describe(a){let b={name:g.iOS},c=i.getSecondMatch(/(Version\/)(\d[\d.]+)/,a);return c&&(b.version=c),b}},{test:[/macintosh/i],describe(a){let b=i.getFirstMatch(/mac os x (\d+(\.?_?\d+)+)/i,a).replace(/[_\s]/g,"."),c=i.getMacOSVersionName(b),d={name:g.MacOS,version:b};return c&&(d.versionName=c),d}},{test:[/(ipod|iphone|ipad)/i],describe(a){let b=i.getFirstMatch(/os (\d+([_\s]\d+)*) like mac os x/i,a).replace(/[_\s]/g,".");return{name:g.iOS,version:b}}},{test(a){let b=!a.test(/like android/i),c=a.test(/android/i);return b&&c},describe(a){let b=i.getFirstMatch(/android[\s/-](\d+(\.\d+)*)/i,a),c=i.getAndroidVersionName(b),d={name:g.Android,version:b};return c&&(d.versionName=c),d}},{test:[/(web|hpw)[o0]s/i],describe(a){let b=i.getFirstMatch(/(?:web|hpw)[o0]s\/(\d+(\.\d+)*)/i,a),c={name:g.WebOS};return b&&b.length&&(c.version=b),c}},{test:[/blackberry|\bbb\d+/i,/rim\stablet/i],describe(a){let b=i.getFirstMatch(/rim\stablet\sos\s(\d+(\.\d+)*)/i,a)||i.getFirstMatch(/blackberry\d+\/(\d+([_\s]\d+)*)/i,a)||i.getFirstMatch(/\bbb(\d+)/i,a);return{name:g.BlackBerry,version:b}}},{test:[/bada/i],describe(a){let b=i.getFirstMatch(/bada\/(\d+(\.\d+)*)/i,a);return{name:g.Bada,version:b}}},{test:[/tizen/i],describe(a){let b=i.getFirstMatch(/tizen[/\s](\d+(\.\d+)*)/i,a);return{name:g.Tizen,version:b}}},{test:[/linux/i],describe:()=>({name:g.Linux})},{test:[/CrOS/],describe:()=>({name:g.ChromeOS})},{test:[/PlayStation 4/],describe(a){let b=i.getFirstMatch(/PlayStation 4[/\s](\d+(\.\d+)*)/i,a);return{name:g.PlayStation4,version:b}}}],m=[{test:[/googlebot/i],describe:()=>({type:"bot",vendor:"Google"})},{test:[/huawei/i],describe(a){let b=i.getFirstMatch(/(can-l01)/i,a)&&"Nova",c={type:f.mobile,vendor:"Huawei"};return b&&(c.model=b),c}},{test:[/nexus\s*(?:7|8|9|10).*/i],describe:()=>({type:f.tablet,vendor:"Nexus"})},{test:[/ipad/i],describe:()=>({type:f.tablet,vendor:"Apple",model:"iPad"})},{test:[/Macintosh(.*?) FxiOS(.*?)\//],describe:()=>({type:f.tablet,vendor:"Apple",model:"iPad"})},{test:[/kftt build/i],describe:()=>({type:f.tablet,vendor:"Amazon",model:"Kindle Fire HD 7"})},{test:[/silk/i],describe:()=>({type:f.tablet,vendor:"Amazon"})},{test:[/tablet(?! pc)/i],describe:()=>({type:f.tablet})},{test(a){let b=a.test(/ipod|iphone/i),c=a.test(/like (ipod|iphone)/i);return b&&!c},describe(a){let b=i.getFirstMatch(/(ipod|iphone)/i,a);return{type:f.mobile,vendor:"Apple",model:b}}},{test:[/nexus\s*[0-6].*/i,/galaxy nexus/i],describe:()=>({type:f.mobile,vendor:"Nexus"})},{test:[/[^-]mobi/i],describe:()=>({type:f.mobile})},{test:a=>"blackberry"===a.getBrowserName(!0),describe:()=>({type:f.mobile,vendor:"BlackBerry"})},{test:a=>"bada"===a.getBrowserName(!0),describe:()=>({type:f.mobile})},{test:a=>"windows phone"===a.getBrowserName(),describe:()=>({type:f.mobile,vendor:"Microsoft"})},{test(a){let b=Number(String(a.getOSVersion()).split(".")[0]);return"android"===a.getOSName(!0)&&b>=3},describe:()=>({type:f.tablet})},{test:a=>"android"===a.getOSName(!0),describe:()=>({type:f.mobile})},{test:a=>"macos"===a.getOSName(!0),describe:()=>({type:f.desktop,vendor:"Apple"})},{test:a=>"windows"===a.getOSName(!0),describe:()=>({type:f.desktop})},{test:a=>"linux"===a.getOSName(!0),describe:()=>({type:f.desktop})},{test:a=>"playstation 4"===a.getOSName(!0),describe:()=>({type:f.tv})},{test:a=>"roku"===a.getOSName(!0),describe:()=>({type:f.tv})}],n=[{test:a=>"microsoft edge"===a.getBrowserName(!0),describe(a){if(/\sedg\//i.test(a))return{name:h.Blink};let b=i.getFirstMatch(/edge\/(\d+(\.?_?\d+)+)/i,a);return{name:h.EdgeHTML,version:b}}},{test:[/trident/i],describe(a){let b={name:h.Trident},c=i.getFirstMatch(/trident\/(\d+(\.?_?\d+)+)/i,a);return c&&(b.version=c),b}},{test:a=>a.test(/presto/i),describe(a){let b={name:h.Presto},c=i.getFirstMatch(/presto\/(\d+(\.?_?\d+)+)/i,a);return c&&(b.version=c),b}},{test(a){let b=a.test(/gecko/i),c=a.test(/like gecko/i);return b&&!c},describe(a){let b={name:h.Gecko},c=i.getFirstMatch(/gecko\/(\d+(\.?_?\d+)+)/i,a);return c&&(b.version=c),b}},{test:[/(apple)?webkit\/537\.36/i],describe:()=>({name:h.Blink})},{test:[/(apple)?webkit/i],describe(a){let b={name:h.WebKit},c=i.getFirstMatch(/webkit\/(\d+(\.?_?\d+)+)/i,a);return c&&(b.version=c),b}}],o=class{constructor(a,b=!1){if(null==a||""===a)throw Error("UserAgent parameter can't be empty");this._ua=a,this.parsedResult={},!0!==b&&this.parse()}getUA(){return this._ua}test(a){return a.test(this._ua)}parseBrowser(){this.parsedResult.browser={};let a=i.find(k,a=>{if("function"==typeof a.test)return a.test(this);if(a.test instanceof Array)return a.test.some(a=>this.test(a));throw Error("Browser's test function is not valid")});return a&&(this.parsedResult.browser=a.describe(this.getUA())),this.parsedResult.browser}getBrowser(){return this.parsedResult.browser?this.parsedResult.browser:this.parseBrowser()}getBrowserName(a){return a?String(this.getBrowser().name).toLowerCase()||"":this.getBrowser().name||""}getBrowserVersion(){return this.getBrowser().version}getOS(){return this.parsedResult.os?this.parsedResult.os:this.parseOS()}parseOS(){this.parsedResult.os={};let a=i.find(l,a=>{if("function"==typeof a.test)return a.test(this);if(a.test instanceof Array)return a.test.some(a=>this.test(a));throw Error("Browser's test function is not valid")});return a&&(this.parsedResult.os=a.describe(this.getUA())),this.parsedResult.os}getOSName(a){let{name:b}=this.getOS();return a?String(b).toLowerCase()||"":b||""}getOSVersion(){return this.getOS().version}getPlatform(){return this.parsedResult.platform?this.parsedResult.platform:this.parsePlatform()}getPlatformType(a=!1){let{type:b}=this.getPlatform();return a?String(b).toLowerCase()||"":b||""}parsePlatform(){this.parsedResult.platform={};let a=i.find(m,a=>{if("function"==typeof a.test)return a.test(this);if(a.test instanceof Array)return a.test.some(a=>this.test(a));throw Error("Browser's test function is not valid")});return a&&(this.parsedResult.platform=a.describe(this.getUA())),this.parsedResult.platform}getEngine(){return this.parsedResult.engine?this.parsedResult.engine:this.parseEngine()}getEngineName(a){return a?String(this.getEngine().name).toLowerCase()||"":this.getEngine().name||""}parseEngine(){this.parsedResult.engine={};let a=i.find(n,a=>{if("function"==typeof a.test)return a.test(this);if(a.test instanceof Array)return a.test.some(a=>this.test(a));throw Error("Browser's test function is not valid")});return a&&(this.parsedResult.engine=a.describe(this.getUA())),this.parsedResult.engine}parse(){return this.parseBrowser(),this.parseOS(),this.parsePlatform(),this.parseEngine(),this}getResult(){return i.assign({},this.parsedResult)}satisfies(a){let b={},c=0,d={},e=0;if(Object.keys(a).forEach(f=>{let g=a[f];"string"==typeof g?(d[f]=g,e+=1):"object"==typeof g&&(b[f]=g,c+=1)}),c>0){let a=Object.keys(b),c=i.find(a,a=>this.isOS(a));if(c){let a=this.satisfies(b[c]);if(void 0!==a)return a}let d=i.find(a,a=>this.isPlatform(a));if(d){let a=this.satisfies(b[d]);if(void 0!==a)return a}}if(e>0){let a=Object.keys(d),b=i.find(a,a=>this.isBrowser(a,!0));if(void 0!==b)return this.compareVersion(d[b])}}isBrowser(a,b=!1){let c=this.getBrowserName().toLowerCase(),d=a.toLowerCase(),e=i.getBrowserTypeByAlias(d);return b&&e&&(d=e.toLowerCase()),d===c}compareVersion(a){let b=[0],c=a,d=!1,e=this.getBrowserVersion();if("string"==typeof e)return">"===a[0]||"<"===a[0]?(c=a.substr(1),"="===a[1]?(d=!0,c=a.substr(2)):b=[],">"===a[0]?b.push(1):b.push(-1)):"="===a[0]?c=a.substr(1):"~"===a[0]&&(d=!0,c=a.substr(1)),b.indexOf(i.compareVersions(e,c,d))>-1}isOS(a){return this.getOSName(!0)===String(a).toLowerCase()}isPlatform(a){return this.getPlatformType(!0)===String(a).toLowerCase()}isEngine(a){return this.getEngineName(!0)===String(a).toLowerCase()}is(a,b=!1){return this.isBrowser(a,b)||this.isOS(a)||this.isPlatform(a)}some(a=[]){return a.some(a=>this.is(a))}},p=class{static getParser(a,b=!1){if("string"!=typeof a)throw Error("UserAgent should be a string");return new o(a,b)}static parse(a){return new o(a).getResult()}static get BROWSER_MAP(){return e}static get ENGINE_MAP(){return h}static get OS_MAP(){return g}static get PLATFORMS_MAP(){return f}};a.s(["default",0,p],57574);var q=a.g,r=[],s=[],t="undefined"!=typeof Uint8Array?Uint8Array:Array,u=!1;function v(){u=!0;for(var a="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",b=0;b<64;++b)r[b]=a[b],s[a.charCodeAt(b)]=b;s[45]=62,s[95]=63}function w(a){var b;u||v();for(var c=a.length,d=c%3,e="",f=[],g=0,h=c-d;g<h;g+=16383)f.push(function(a,b,c){for(var d,e=[],f=b;f<c;f+=3)e.push(r[(d=(a[f]<<16)+(a[f+1]<<8)+a[f+2])>>18&63]+r[d>>12&63]+r[d>>6&63]+r[63&d]);return e.join("")}(a,g,g+16383>h?h:g+16383));return 1===d?(e+=r[(b=a[c-1])>>2],e+=r[b<<4&63],e+="=="):2===d&&(e+=r[(b=(a[c-2]<<8)+a[c-1])>>10],e+=r[b>>4&63],e+=r[b<<2&63],e+="="),f.push(e),f.join("")}function x(a,b,c,d,e){var f,g,h=8*e-d-1,i=(1<<h)-1,j=i>>1,k=-7,l=c?e-1:0,m=c?-1:1,n=a[b+l];for(l+=m,f=n&(1<<-k)-1,n>>=-k,k+=h;k>0;f=256*f+a[b+l],l+=m,k-=8);for(g=f&(1<<-k)-1,f>>=-k,k+=d;k>0;g=256*g+a[b+l],l+=m,k-=8);if(0===f)f=1-j;else{if(f===i)return g?NaN:1/0*(n?-1:1);g+=Math.pow(2,d),f-=j}return(n?-1:1)*g*Math.pow(2,f-d)}function y(a,b,c,d,e,f){var g,h,i,j=8*f-e-1,k=(1<<j)-1,l=k>>1,m=5960464477539062e-23*(23===e),n=d?0:f-1,o=d?1:-1,p=+(b<0||0===b&&1/b<0);for(isNaN(b=Math.abs(b))||b===1/0?(h=+!!isNaN(b),g=k):(g=Math.floor(Math.log(b)/Math.LN2),b*(i=Math.pow(2,-g))<1&&(g--,i*=2),(b+=g+l>=1?m/i:m*Math.pow(2,1-l))*i>=2&&(g++,i/=2),g+l>=k?(h=0,g=k):g+l>=1?(h=(b*i-1)*Math.pow(2,e),g+=l):(h=b*Math.pow(2,l-1)*Math.pow(2,e),g=0));e>=8;a[c+n]=255&h,n+=o,h/=256,e-=8);for(g=g<<e|h,j+=e;j>0;a[c+n]=255&g,n+=o,g/=256,j-=8);a[c+n-o]|=128*p}var z={}.toString,A=Array.isArray||function(a){return"[object Array]"==z.call(a)};function B(){return D.TYPED_ARRAY_SUPPORT?0x7fffffff:0x3fffffff}function C(a,b){if(B()<b)throw RangeError("Invalid typed array length");return D.TYPED_ARRAY_SUPPORT?(a=new Uint8Array(b)).__proto__=D.prototype:(null===a&&(a=new D(b)),a.length=b),a}function D(a,b,c){if(!(D.TYPED_ARRAY_SUPPORT||this instanceof D))return new D(a,b,c);if("number"==typeof a){if("string"==typeof b)throw Error("If encoding is specified then the first argument must be a string");return G(this,a)}return E(this,a,b,c)}function E(a,b,c,d){if("number"==typeof b)throw TypeError('"value" argument must not be a number');return"undefined"!=typeof ArrayBuffer&&b instanceof ArrayBuffer?function(a,b,c,d){if(b.byteLength,c<0||b.byteLength<c)throw RangeError("'offset' is out of bounds");if(b.byteLength<c+(d||0))throw RangeError("'length' is out of bounds");return b=void 0===c&&void 0===d?new Uint8Array(b):void 0===d?new Uint8Array(b,c):new Uint8Array(b,c,d),D.TYPED_ARRAY_SUPPORT?(a=b).__proto__=D.prototype:a=H(a,b),a}(a,b,c,d):"string"==typeof b?function(a,b,c){if("string"==typeof c&&""!==c||(c="utf8"),!D.isEncoding(c))throw TypeError('"encoding" must be a valid string encoding');var d=0|K(b,c),e=(a=C(a,d)).write(b,c);return e!==d&&(a=a.slice(0,e)),a}(a,b,c):function(a,b){if(J(b)){var c,d=0|I(b.length);return 0===(a=C(a,d)).length||b.copy(a,0,0,d),a}if(b){if("undefined"!=typeof ArrayBuffer&&b.buffer instanceof ArrayBuffer||"length"in b)return"number"!=typeof b.length||(c=b.length)!=c?C(a,0):H(a,b);if("Buffer"===b.type&&A(b.data))return H(a,b.data)}throw TypeError("First argument must be a string, Buffer, ArrayBuffer, Array, or array-like object.")}(a,b)}function F(a){if("number"!=typeof a)throw TypeError('"size" argument must be a number');if(a<0)throw RangeError('"size" argument must not be negative')}function G(a,b){if(F(b),a=C(a,b<0?0:0|I(b)),!D.TYPED_ARRAY_SUPPORT)for(var c=0;c<b;++c)a[c]=0;return a}function H(a,b){var c=b.length<0?0:0|I(b.length);a=C(a,c);for(var d=0;d<c;d+=1)a[d]=255&b[d];return a}function I(a){if(a>=B())throw RangeError("Attempt to allocate Buffer larger than maximum size: 0x"+B().toString(16)+" bytes");return 0|a}function J(a){return!(null==a||!a._isBuffer)}function K(a,b){if(J(a))return a.length;if("undefined"!=typeof ArrayBuffer&&"function"==typeof ArrayBuffer.isView&&(ArrayBuffer.isView(a)||a instanceof ArrayBuffer))return a.byteLength;"string"!=typeof a&&(a=""+a);var c=a.length;if(0===c)return 0;for(var d=!1;;)switch(b){case"ascii":case"latin1":case"binary":return c;case"utf8":case"utf-8":case void 0:return $(a).length;case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return 2*c;case"hex":return c>>>1;case"base64":return _(a).length;default:if(d)return $(a).length;b=(""+b).toLowerCase(),d=!0}}function L(a,b,c){var d,e,f,g=!1;if((void 0===b||b<0)&&(b=0),b>this.length||((void 0===c||c>this.length)&&(c=this.length),c<=0)||(c>>>=0)<=(b>>>=0))return"";for(a||(a="utf8");;)switch(a){case"hex":return function(a,b,c){var d,e=a.length;(!b||b<0)&&(b=0),(!c||c<0||c>e)&&(c=e);for(var f="",g=b;g<c;++g){f+=(d=a[g])<16?"0"+d.toString(16):d.toString(16)}return f}(this,b,c);case"utf8":case"utf-8":return Q(this,b,c);case"ascii":return function(a,b,c){var d="";c=Math.min(a.length,c);for(var e=b;e<c;++e)d+=String.fromCharCode(127&a[e]);return d}(this,b,c);case"latin1":case"binary":return function(a,b,c){var d="";c=Math.min(a.length,c);for(var e=b;e<c;++e)d+=String.fromCharCode(a[e]);return d}(this,b,c);case"base64":return d=this,e=b,f=c,0===e&&f===d.length?w(d):w(d.slice(e,f));case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return function(a,b,c){for(var d=a.slice(b,c),e="",f=0;f<d.length;f+=2)e+=String.fromCharCode(d[f]+256*d[f+1]);return e}(this,b,c);default:if(g)throw TypeError("Unknown encoding: "+a);a=(a+"").toLowerCase(),g=!0}}function M(a,b,c){var d=a[b];a[b]=a[c],a[c]=d}function N(a,b,c,d,e){if(0===a.length)return -1;if("string"==typeof c?(d=c,c=0):c>0x7fffffff?c=0x7fffffff:c<-0x80000000&&(c=-0x80000000),isNaN(c*=1)&&(c=e?0:a.length-1),c<0&&(c=a.length+c),c>=a.length){if(e)return -1;c=a.length-1}else if(c<0){if(!e)return -1;c=0}if("string"==typeof b&&(b=D.from(b,d)),J(b))return 0===b.length?-1:O(a,b,c,d,e);if("number"==typeof b)return b&=255,D.TYPED_ARRAY_SUPPORT&&"function"==typeof Uint8Array.prototype.indexOf?e?Uint8Array.prototype.indexOf.call(a,b,c):Uint8Array.prototype.lastIndexOf.call(a,b,c):O(a,[b],c,d,e);throw TypeError("val must be string, number or Buffer")}function O(a,b,c,d,e){var f,g=1,h=a.length,i=b.length;if(void 0!==d&&("ucs2"===(d=String(d).toLowerCase())||"ucs-2"===d||"utf16le"===d||"utf-16le"===d)){if(a.length<2||b.length<2)return -1;g=2,h/=2,i/=2,c/=2}function j(a,b){return 1===g?a[b]:a.readUInt16BE(b*g)}if(e){var k=-1;for(f=c;f<h;f++)if(j(a,f)===j(b,-1===k?0:f-k)){if(-1===k&&(k=f),f-k+1===i)return k*g}else -1!==k&&(f-=f-k),k=-1}else for(c+i>h&&(c=h-i),f=c;f>=0;f--){for(var l=!0,m=0;m<i;m++)if(j(a,f+m)!==j(b,m)){l=!1;break}if(l)return f}return -1}function P(a,b,c,d){return aa(function(a){for(var b=[],c=0;c<a.length;++c)b.push(255&a.charCodeAt(c));return b}(b),a,c,d)}function Q(a,b,c){c=Math.min(a.length,c);for(var d=[],e=b;e<c;){var f,g,h,i,j=a[e],k=null,l=j>239?4:j>223?3:j>191?2:1;if(e+l<=c)switch(l){case 1:j<128&&(k=j);break;case 2:128==(192&(f=a[e+1]))&&(i=(31&j)<<6|63&f)>127&&(k=i);break;case 3:f=a[e+1],g=a[e+2],128==(192&f)&&128==(192&g)&&(i=(15&j)<<12|(63&f)<<6|63&g)>2047&&(i<55296||i>57343)&&(k=i);break;case 4:f=a[e+1],g=a[e+2],h=a[e+3],128==(192&f)&&128==(192&g)&&128==(192&h)&&(i=(15&j)<<18|(63&f)<<12|(63&g)<<6|63&h)>65535&&i<1114112&&(k=i)}null===k?(k=65533,l=1):k>65535&&(k-=65536,d.push(k>>>10&1023|55296),k=56320|1023&k),d.push(k),e+=l}var m=d.length;if(m<=R)return String.fromCharCode.apply(String,d);for(var n="",o=0;o<m;)n+=String.fromCharCode.apply(String,d.slice(o,o+=R));return n}D.TYPED_ARRAY_SUPPORT=void 0===q.TYPED_ARRAY_SUPPORT||q.TYPED_ARRAY_SUPPORT,B(),D.poolSize=8192,D._augment=function(a){return a.__proto__=D.prototype,a},D.from=function(a,b,c){return E(null,a,b,c)},D.TYPED_ARRAY_SUPPORT&&(D.prototype.__proto__=Uint8Array.prototype,D.__proto__=Uint8Array),D.alloc=function(a,b,c){return F(a),a<=0?C(null,a):void 0!==b?"string"==typeof c?C(null,a).fill(b,c):C(null,a).fill(b):C(null,a)},D.allocUnsafe=function(a){return G(null,a)},D.allocUnsafeSlow=function(a){return G(null,a)},D.isBuffer=function(a){return null!=a&&(!!a._isBuffer||ab(a)||"function"==typeof a.readFloatLE&&"function"==typeof a.slice&&ab(a.slice(0,0)))},D.compare=function(a,b){if(!J(a)||!J(b))throw TypeError("Arguments must be Buffers");if(a===b)return 0;for(var c=a.length,d=b.length,e=0,f=Math.min(c,d);e<f;++e)if(a[e]!==b[e]){c=a[e],d=b[e];break}return c<d?-1:+(d<c)},D.isEncoding=function(a){switch(String(a).toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"latin1":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return!0;default:return!1}},D.concat=function(a,b){if(!A(a))throw TypeError('"list" argument must be an Array of Buffers');if(0===a.length)return D.alloc(0);if(void 0===b)for(b=0,c=0;c<a.length;++c)b+=a[c].length;var c,d=D.allocUnsafe(b),e=0;for(c=0;c<a.length;++c){var f=a[c];if(!J(f))throw TypeError('"list" argument must be an Array of Buffers');f.copy(d,e),e+=f.length}return d},D.byteLength=K,D.prototype._isBuffer=!0,D.prototype.swap16=function(){var a=this.length;if(a%2!=0)throw RangeError("Buffer size must be a multiple of 16-bits");for(var b=0;b<a;b+=2)M(this,b,b+1);return this},D.prototype.swap32=function(){var a=this.length;if(a%4!=0)throw RangeError("Buffer size must be a multiple of 32-bits");for(var b=0;b<a;b+=4)M(this,b,b+3),M(this,b+1,b+2);return this},D.prototype.swap64=function(){var a=this.length;if(a%8!=0)throw RangeError("Buffer size must be a multiple of 64-bits");for(var b=0;b<a;b+=8)M(this,b,b+7),M(this,b+1,b+6),M(this,b+2,b+5),M(this,b+3,b+4);return this},D.prototype.toString=function(){var a=0|this.length;return 0===a?"":0==arguments.length?Q(this,0,a):L.apply(this,arguments)},D.prototype.equals=function(a){if(!J(a))throw TypeError("Argument must be a Buffer");return this===a||0===D.compare(this,a)},D.prototype.inspect=function(){var a="";return this.length>0&&(a=this.toString("hex",0,50).match(/.{2}/g).join(" "),this.length>50&&(a+=" ... ")),"<Buffer "+a+">"},D.prototype.compare=function(a,b,c,d,e){if(!J(a))throw TypeError("Argument must be a Buffer");if(void 0===b&&(b=0),void 0===c&&(c=a?a.length:0),void 0===d&&(d=0),void 0===e&&(e=this.length),b<0||c>a.length||d<0||e>this.length)throw RangeError("out of range index");if(d>=e&&b>=c)return 0;if(d>=e)return -1;if(b>=c)return 1;if(this===a)return 0;for(var f=(e>>>=0)-(d>>>=0),g=(c>>>=0)-(b>>>=0),h=Math.min(f,g),i=this.slice(d,e),j=a.slice(b,c),k=0;k<h;++k)if(i[k]!==j[k]){f=i[k],g=j[k];break}return f<g?-1:+(g<f)},D.prototype.includes=function(a,b,c){return -1!==this.indexOf(a,b,c)},D.prototype.indexOf=function(a,b,c){return N(this,a,b,c,!0)},D.prototype.lastIndexOf=function(a,b,c){return N(this,a,b,c,!1)},D.prototype.write=function(a,b,c,d){if(void 0===b)d="utf8",c=this.length,b=0;else if(void 0===c&&"string"==typeof b)d=b,c=this.length,b=0;else{if(!isFinite(b))throw Error("Buffer.write(string, encoding, offset[, length]) is no longer supported");b|=0,isFinite(c)?(c|=0,void 0===d&&(d="utf8")):(d=c,c=void 0)}var e,f,g,h,i,j,k=this.length-b;if((void 0===c||c>k)&&(c=k),a.length>0&&(c<0||b<0)||b>this.length)throw RangeError("Attempt to write outside buffer bounds");d||(d="utf8");for(var l=!1;;)switch(d){case"hex":return function(a,b,c,d){c=Number(c)||0;var e=a.length-c;d?(d=Number(d))>e&&(d=e):d=e;var f=b.length;if(f%2!=0)throw TypeError("Invalid hex string");d>f/2&&(d=f/2);for(var g=0;g<d;++g){var h=parseInt(b.substr(2*g,2),16);if(isNaN(h))break;a[c+g]=h}return g}(this,a,b,c);case"utf8":case"utf-8":return e=b,f=c,aa($(a,this.length-e),this,e,f);case"ascii":case"latin1":case"binary":return P(this,a,b,c);case"base64":return g=b,h=c,aa(_(a),this,g,h);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return i=b,j=c,aa(function(a,b){for(var c,d,e=[],f=0;f<a.length&&!((b-=2)<0);++f)d=(c=a.charCodeAt(f))>>8,e.push(c%256),e.push(d);return e}(a,this.length-i),this,i,j);default:if(l)throw TypeError("Unknown encoding: "+d);d=(""+d).toLowerCase(),l=!0}},D.prototype.toJSON=function(){return{type:"Buffer",data:Array.prototype.slice.call(this._arr||this,0)}};var R=4096;function S(a,b,c){if(a%1!=0||a<0)throw RangeError("offset is not uint");if(a+b>c)throw RangeError("Trying to access beyond buffer length")}function T(a,b,c,d,e,f){if(!J(a))throw TypeError('"buffer" argument must be a Buffer instance');if(b>e||b<f)throw RangeError('"value" argument is out of bounds');if(c+d>a.length)throw RangeError("Index out of range")}function U(a,b,c,d){b<0&&(b=65535+b+1);for(var e=0,f=Math.min(a.length-c,2);e<f;++e)a[c+e]=(b&255<<8*(d?e:1-e))>>>8*(d?e:1-e)}function V(a,b,c,d){b<0&&(b=0xffffffff+b+1);for(var e=0,f=Math.min(a.length-c,4);e<f;++e)a[c+e]=b>>>8*(d?e:3-e)&255}function W(a,b,c,d,e,f){if(c+d>a.length||c<0)throw RangeError("Index out of range")}function X(a,b,c,d,e){return e||W(a,0,c,4),y(a,b,c,d,23,4),c+4}function Y(a,b,c,d,e){return e||W(a,0,c,8),y(a,b,c,d,52,8),c+8}D.prototype.slice=function(a,b){var c,d=this.length;if((a=~~a)<0?(a+=d)<0&&(a=0):a>d&&(a=d),(b=void 0===b?d:~~b)<0?(b+=d)<0&&(b=0):b>d&&(b=d),b<a&&(b=a),D.TYPED_ARRAY_SUPPORT)(c=this.subarray(a,b)).__proto__=D.prototype;else{var e=b-a;c=new D(e,void 0);for(var f=0;f<e;++f)c[f]=this[f+a]}return c},D.prototype.readUIntLE=function(a,b,c){a|=0,b|=0,c||S(a,b,this.length);for(var d=this[a],e=1,f=0;++f<b&&(e*=256);)d+=this[a+f]*e;return d},D.prototype.readUIntBE=function(a,b,c){a|=0,b|=0,c||S(a,b,this.length);for(var d=this[a+--b],e=1;b>0&&(e*=256);)d+=this[a+--b]*e;return d},D.prototype.readUInt8=function(a,b){return b||S(a,1,this.length),this[a]},D.prototype.readUInt16LE=function(a,b){return b||S(a,2,this.length),this[a]|this[a+1]<<8},D.prototype.readUInt16BE=function(a,b){return b||S(a,2,this.length),this[a]<<8|this[a+1]},D.prototype.readUInt32LE=function(a,b){return b||S(a,4,this.length),(this[a]|this[a+1]<<8|this[a+2]<<16)+0x1000000*this[a+3]},D.prototype.readUInt32BE=function(a,b){return b||S(a,4,this.length),0x1000000*this[a]+(this[a+1]<<16|this[a+2]<<8|this[a+3])},D.prototype.readIntLE=function(a,b,c){a|=0,b|=0,c||S(a,b,this.length);for(var d=this[a],e=1,f=0;++f<b&&(e*=256);)d+=this[a+f]*e;return d>=(e*=128)&&(d-=Math.pow(2,8*b)),d},D.prototype.readIntBE=function(a,b,c){a|=0,b|=0,c||S(a,b,this.length);for(var d=b,e=1,f=this[a+--d];d>0&&(e*=256);)f+=this[a+--d]*e;return f>=(e*=128)&&(f-=Math.pow(2,8*b)),f},D.prototype.readInt8=function(a,b){return b||S(a,1,this.length),128&this[a]?-1*(255-this[a]+1):this[a]},D.prototype.readInt16LE=function(a,b){b||S(a,2,this.length);var c=this[a]|this[a+1]<<8;return 32768&c?0xffff0000|c:c},D.prototype.readInt16BE=function(a,b){b||S(a,2,this.length);var c=this[a+1]|this[a]<<8;return 32768&c?0xffff0000|c:c},D.prototype.readInt32LE=function(a,b){return b||S(a,4,this.length),this[a]|this[a+1]<<8|this[a+2]<<16|this[a+3]<<24},D.prototype.readInt32BE=function(a,b){return b||S(a,4,this.length),this[a]<<24|this[a+1]<<16|this[a+2]<<8|this[a+3]},D.prototype.readFloatLE=function(a,b){return b||S(a,4,this.length),x(this,a,!0,23,4)},D.prototype.readFloatBE=function(a,b){return b||S(a,4,this.length),x(this,a,!1,23,4)},D.prototype.readDoubleLE=function(a,b){return b||S(a,8,this.length),x(this,a,!0,52,8)},D.prototype.readDoubleBE=function(a,b){return b||S(a,8,this.length),x(this,a,!1,52,8)},D.prototype.writeUIntLE=function(a,b,c,d){a*=1,b|=0,c|=0,d||T(this,a,b,c,Math.pow(2,8*c)-1,0);var e=1,f=0;for(this[b]=255&a;++f<c&&(e*=256);)this[b+f]=a/e&255;return b+c},D.prototype.writeUIntBE=function(a,b,c,d){a*=1,b|=0,c|=0,d||T(this,a,b,c,Math.pow(2,8*c)-1,0);var e=c-1,f=1;for(this[b+e]=255&a;--e>=0&&(f*=256);)this[b+e]=a/f&255;return b+c},D.prototype.writeUInt8=function(a,b,c){return a*=1,b|=0,c||T(this,a,b,1,255,0),D.TYPED_ARRAY_SUPPORT||(a=Math.floor(a)),this[b]=255&a,b+1},D.prototype.writeUInt16LE=function(a,b,c){return a*=1,b|=0,c||T(this,a,b,2,65535,0),D.TYPED_ARRAY_SUPPORT?(this[b]=255&a,this[b+1]=a>>>8):U(this,a,b,!0),b+2},D.prototype.writeUInt16BE=function(a,b,c){return a*=1,b|=0,c||T(this,a,b,2,65535,0),D.TYPED_ARRAY_SUPPORT?(this[b]=a>>>8,this[b+1]=255&a):U(this,a,b,!1),b+2},D.prototype.writeUInt32LE=function(a,b,c){return a*=1,b|=0,c||T(this,a,b,4,0xffffffff,0),D.TYPED_ARRAY_SUPPORT?(this[b+3]=a>>>24,this[b+2]=a>>>16,this[b+1]=a>>>8,this[b]=255&a):V(this,a,b,!0),b+4},D.prototype.writeUInt32BE=function(a,b,c){return a*=1,b|=0,c||T(this,a,b,4,0xffffffff,0),D.TYPED_ARRAY_SUPPORT?(this[b]=a>>>24,this[b+1]=a>>>16,this[b+2]=a>>>8,this[b+3]=255&a):V(this,a,b,!1),b+4},D.prototype.writeIntLE=function(a,b,c,d){if(a*=1,b|=0,!d){var e=Math.pow(2,8*c-1);T(this,a,b,c,e-1,-e)}var f=0,g=1,h=0;for(this[b]=255&a;++f<c&&(g*=256);)a<0&&0===h&&0!==this[b+f-1]&&(h=1),this[b+f]=(a/g|0)-h&255;return b+c},D.prototype.writeIntBE=function(a,b,c,d){if(a*=1,b|=0,!d){var e=Math.pow(2,8*c-1);T(this,a,b,c,e-1,-e)}var f=c-1,g=1,h=0;for(this[b+f]=255&a;--f>=0&&(g*=256);)a<0&&0===h&&0!==this[b+f+1]&&(h=1),this[b+f]=(a/g|0)-h&255;return b+c},D.prototype.writeInt8=function(a,b,c){return a*=1,b|=0,c||T(this,a,b,1,127,-128),D.TYPED_ARRAY_SUPPORT||(a=Math.floor(a)),a<0&&(a=255+a+1),this[b]=255&a,b+1},D.prototype.writeInt16LE=function(a,b,c){return a*=1,b|=0,c||T(this,a,b,2,32767,-32768),D.TYPED_ARRAY_SUPPORT?(this[b]=255&a,this[b+1]=a>>>8):U(this,a,b,!0),b+2},D.prototype.writeInt16BE=function(a,b,c){return a*=1,b|=0,c||T(this,a,b,2,32767,-32768),D.TYPED_ARRAY_SUPPORT?(this[b]=a>>>8,this[b+1]=255&a):U(this,a,b,!1),b+2},D.prototype.writeInt32LE=function(a,b,c){return a*=1,b|=0,c||T(this,a,b,4,0x7fffffff,-0x80000000),D.TYPED_ARRAY_SUPPORT?(this[b]=255&a,this[b+1]=a>>>8,this[b+2]=a>>>16,this[b+3]=a>>>24):V(this,a,b,!0),b+4},D.prototype.writeInt32BE=function(a,b,c){return a*=1,b|=0,c||T(this,a,b,4,0x7fffffff,-0x80000000),a<0&&(a=0xffffffff+a+1),D.TYPED_ARRAY_SUPPORT?(this[b]=a>>>24,this[b+1]=a>>>16,this[b+2]=a>>>8,this[b+3]=255&a):V(this,a,b,!1),b+4},D.prototype.writeFloatLE=function(a,b,c){return X(this,a,b,!0,c)},D.prototype.writeFloatBE=function(a,b,c){return X(this,a,b,!1,c)},D.prototype.writeDoubleLE=function(a,b,c){return Y(this,a,b,!0,c)},D.prototype.writeDoubleBE=function(a,b,c){return Y(this,a,b,!1,c)},D.prototype.copy=function(a,b,c,d){if(c||(c=0),d||0===d||(d=this.length),b>=a.length&&(b=a.length),b||(b=0),d>0&&d<c&&(d=c),d===c||0===a.length||0===this.length)return 0;if(b<0)throw RangeError("targetStart out of bounds");if(c<0||c>=this.length)throw RangeError("sourceStart out of bounds");if(d<0)throw RangeError("sourceEnd out of bounds");d>this.length&&(d=this.length),a.length-b<d-c&&(d=a.length-b+c);var e,f=d-c;if(this===a&&c<b&&b<d)for(e=f-1;e>=0;--e)a[e+b]=this[e+c];else if(f<1e3||!D.TYPED_ARRAY_SUPPORT)for(e=0;e<f;++e)a[e+b]=this[e+c];else Uint8Array.prototype.set.call(a,this.subarray(c,c+f),b);return f},D.prototype.fill=function(a,b,c,d){if("string"==typeof a){if("string"==typeof b?(d=b,b=0,c=this.length):"string"==typeof c&&(d=c,c=this.length),1===a.length){var e,f=a.charCodeAt(0);f<256&&(a=f)}if(void 0!==d&&"string"!=typeof d)throw TypeError("encoding must be a string");if("string"==typeof d&&!D.isEncoding(d))throw TypeError("Unknown encoding: "+d)}else"number"==typeof a&&(a&=255);if(b<0||this.length<b||this.length<c)throw RangeError("Out of range index");if(c<=b)return this;if(b>>>=0,c=void 0===c?this.length:c>>>0,a||(a=0),"number"==typeof a)for(e=b;e<c;++e)this[e]=a;else{var g=J(a)?a:$(new D(a,d).toString()),h=g.length;for(e=0;e<c-b;++e)this[e+b]=g[e%h]}return this};var Z=/[^+\/0-9A-Za-z-_]/g;function $(a,b){var c;b=b||1/0;for(var d=a.length,e=null,f=[],g=0;g<d;++g){if((c=a.charCodeAt(g))>55295&&c<57344){if(!e){if(c>56319||g+1===d){(b-=3)>-1&&f.push(239,191,189);continue}e=c;continue}if(c<56320){(b-=3)>-1&&f.push(239,191,189),e=c;continue}c=65536+(e-55296<<10|c-56320)}else e&&(b-=3)>-1&&f.push(239,191,189);if(e=null,c<128){if((b-=1)<0)break;f.push(c)}else if(c<2048){if((b-=2)<0)break;f.push(c>>6|192,63&c|128)}else if(c<65536){if((b-=3)<0)break;f.push(c>>12|224,c>>6&63|128,63&c|128)}else{if(!(c<1114112))throw Error("Invalid code point");if((b-=4)<0)break;f.push(c>>18|240,c>>12&63|128,c>>6&63|128,63&c|128)}}return f}function _(a){return function(a){u||v();var b,c,d,e,f,g,h=a.length;if(h%4>0)throw Error("Invalid string. Length must be a multiple of 4");f="="===a[h-2]?2:+("="===a[h-1]),g=new t(3*h/4-f),d=f>0?h-4:h;var i=0;for(b=0,c=0;b<d;b+=4,c+=3)e=s[a.charCodeAt(b)]<<18|s[a.charCodeAt(b+1)]<<12|s[a.charCodeAt(b+2)]<<6|s[a.charCodeAt(b+3)],g[i++]=e>>16&255,g[i++]=e>>8&255,g[i++]=255&e;return 2===f?(e=s[a.charCodeAt(b)]<<2|s[a.charCodeAt(b+1)]>>4,g[i++]=255&e):1===f&&(e=s[a.charCodeAt(b)]<<10|s[a.charCodeAt(b+1)]<<4|s[a.charCodeAt(b+2)]>>2,g[i++]=e>>8&255,g[i++]=255&e),g}(function(a){var b;if((a=((b=a).trim?b.trim():b.replace(/^\s+|\s+$/g,"")).replace(Z,"")).length<2)return"";for(;a.length%4!=0;)a+="=";return a}(a))}function aa(a,b,c,d){for(var e=0;e<d&&!(e+c>=b.length||e>=a.length);++e)b[e+c]=a[e];return e}function ab(a){return!!a.constructor&&"function"==typeof a.constructor.isBuffer&&a.constructor.isBuffer(a)}function ac(a,b,c,d){return new(c||(c=Promise))(function(e,f){function g(a){try{i(d.next(a))}catch(a){f(a)}}function h(a){try{i(d.throw(a))}catch(a){f(a)}}function i(a){var b;a.done?e(a.value):((b=a.value)instanceof c?b:new c(function(a){a(b)})).then(g,h)}i((d=d.apply(a,b||[])).next())})}"function"==typeof SuppressedError&&SuppressedError;class ad extends Error{constructor(a,b,...c){super(...c),Error.captureStackTrace&&Error.captureStackTrace(this,ad),this.name="PeraWalletConnectError",this.data=a,this.message=b}}let ae=new class{constructor(a){this.listener=void 0,this.channel=a.channel}setupListener({onReceiveMessage:a}){this.close(),this.listener=b=>{if("object"==typeof b.data)try{b.data.channel===this.channel&&a(b)}catch(a){console.error(a)}},window.addEventListener("message",this.listener)}sendMessage({message:a,targetWindow:b,origin:c,timeout:d=1e3}){setTimeout(()=>{let d={channel:this.channel,message:a};b.postMessage(d,{targetOrigin:c||"*"})},d)}close(){this.listener&&(window.removeEventListener("message",this.listener),this.listener=void 0)}}({channel:"pera-web-wallet"});function af(a){return new Promise((b,c)=>{try{let d=window.open(a,"_blank"),e=0,f=setInterval(()=>{50===(e+=1)?(clearInterval(f),c(new ad({type:"MESSAGE_NOT_RECEIVED"},"Couldn't open Pera Wallet, please try again."))):d&&(!0===d.closed&&(clearInterval(f),c(new ad({type:"OPERATION_CANCELLED"},"Operation cancelled by user"))),ae.sendMessage({message:{type:"TAB_OPEN"},origin:a,targetWindow:d}))},700);ae.setupListener({onReceiveMessage:a=>{"TAB_OPEN_RECEIVED"===a.data.message.type&&(clearInterval(f),b(d))}})}catch(a){c(a)}})}let ag="pera-wallet-connect-modal-wrapper",ah="pera-wallet-redirect-modal-wrapper",ai="pera-wallet-sign-txn-toast-wrapper",aj="pera-wallet-modal";function ak(a){let b=document.createElement("div");return b.setAttribute("id",a),document.body.appendChild(b),b}function al(){ak(ah).innerHTML="<pera-wallet-redirect-modal></pera-wallet-redirect-modal>"}function am(){ak(ai).innerHTML="<pera-wallet-sign-txn-toast></pera-wallet-sign-txn-toast>"}function an(){ao(ai)}function ao(a){let b=document.getElementById(a);b&&b.remove()}let ap="PeraWallet.Wallet",aq="walletconnect";function ar(){return"undefined"==typeof localStorage?void 0:localStorage}function as(a,b){var c;null==(c=ar())||c.setItem(ap,JSON.stringify({type:b||"pera-wallet",accounts:a,selectedAccount:a[0]}))}function at(){var a;let b=null==(a=ar())?void 0:a.getItem(ap);return b?JSON.parse(b):null}function au(){return new Promise((a,b)=>{var c,d;try{null==(c=ar())||c.removeItem(aq),null==(d=ar())||d.removeItem(ap),a(void 0)}catch(a){b(a)}})}function av(){return ac(this,void 0,void 0,function*(){let a={bridgeURL:"",webWalletURL:"",isWebWalletAvailable:!1,shouldDisplayNewBadge:!1,shouldUseSound:!0,silent:!1,promoteMobile:!1};try{let b=yield function(a,b={}){return fetch(a,b).then(a=>a.json()).then(a=>a)}("https://wc.perawallet.app/config.json",{cache:"no-store"});void 0!==b.web_wallet&&b.web_wallet_url&&(a.isWebWalletAvailable=b.web_wallet),void 0!==b.display_new_badge&&(a.shouldDisplayNewBadge=b.display_new_badge),void 0!==b.use_sound&&(a.shouldUseSound=b.use_sound),void 0!==b.silent&&(a.silent=b.silent),void 0!==b.promote_mobile&&(a.promoteMobile=b.promote_mobile),a=Object.assign(Object.assign({},a),{bridgeURL:function(a){let b=a.slice();for(let a=b.length-1;a>0;a--){let c=Math.floor(Math.random()*(a+1));[b[a],b[c]]=[b[c],b[a]]}return b}(b.servers||[])[0]||"",webWalletURL:b.web_wallet_url||""})}catch(a){console.log(a)}return a})}function aw(a){return Uint8Array.from(window.atob(a),a=>a.charCodeAt(0))}function ax(a,b){return{id:1e3*Date.now()+Math.floor(1e3*Math.random()),jsonrpc:"2.0",method:a,params:b}}function ay(){return"undefined"!=typeof navigator}function az(){return ay()&&/Android/i.test(navigator.userAgent)}function aA(){return ay()&&/iPhone|iPad|iPod/i.test(navigator.userAgent)}function aB(){return ay()&&/iPhone|iPod|Android/i.test(navigator.userAgent)}function aC(){if(!ay())return null;let{userAgent:a}=navigator;return a.match(/DuckDuckGo/i)?"DuckDuckGo":a.match(/OPX/i)?"Opera GX":navigator.brave?"Brave":p.getParser(navigator.userAgent).getBrowserName()}function aD(a){return{ROOT:`https://${a}`,CONNECT:`https://${a}/connect`,TRANSACTION_SIGN:`https://${a}/transaction/sign`}}function aE({method:a,signTxnRequestParams:b,signer:c,chainId:d,webWalletURL:e,resolve:f,reject:g}){let h=aD(e);!function(){ac(this,void 0,void 0,function*(){try{let e=yield af(h.TRANSACTION_SIGN);if(e){let f;"SIGN_TXN"===a?f={type:"SIGN_TXN",txn:b}:"SIGN_DATA"===a&&c&&d&&(f={type:"SIGN_DATA",data:b,signer:c,chainId:d}),f&&ae.sendMessage({message:f,origin:h.TRANSACTION_SIGN,targetWindow:e})}let i=setInterval(()=>{!0===(null==e?void 0:e.closed)&&(g(new ad({type:`${a}_CANCELLED`},"Transaction signing is cancelled by user.")),clearInterval(i))},2e3);ae.setupListener({onReceiveMessage:b=>(function({event:a,newPeraWalletTab:b,method:c,resolve:d,reject:e}){switch(a.data.message.type){case"SIGN_TXN_CALLBACK":null==b||b.close(),d(a.data.message.signedTxns.map(a=>aw(a.signedTxn)));break;case"SIGN_DATA_CALLBACK":null==b||b.close(),d(a.data.message.signedData.map(a=>aw(a.signedData)));break;case"SIGN_TXN_NETWORK_MISMATCH":e(new ad({type:`${c}_NETWORK_MISMATCH`,detail:a.data.message.error},a.data.message.error||"Network mismatch"));break;case"SIGN_TXN_CALLBACK_ERROR":null==b||b.close(),e(new ad({type:`${c}_CANCELLED`},a.data.message.error));break;case"SESSION_DISCONNECTED":null==b||b.close(),au(),e(new ad({type:"SESSION_DISCONNECTED",detail:a.data.message.error},a.data.message.error))}})({event:b,newPeraWalletTab:e,method:a,resolve:f,reject:g})})}catch(a){g(a)}})}()}class aF{constructor(a){this.bridge=(null==a?void 0:a.bridge)||"",this.connector=null,this.shouldShowSignTxnToast=void 0===(null==a?void 0:a.shouldShowSignTxnToast)||a.shouldShowSignTxnToast,this.chainId=null==a?void 0:a.chainId,this.compactMode=(null==a?void 0:a.compactMode)||!1,this.singleAccount=(null==a?void 0:a.singleAccount)||!1}get platform(){let a,b;return a=at(),b=null,"pera-wallet"===(null==a?void 0:a.type)?b="mobile":"pera-wallet-web"===(null==a?void 0:a.type)&&(b="web"),b}get isConnected(){var a;return"mobile"===this.platform?!!this.connector:"web"===this.platform&&!!(null==(a=at())?void 0:a.accounts.length)}get isPeraDiscoverBrowser(){return this.checkIsPeraDiscoverBrowser()}connect(a){return new Promise((c,d)=>ac(this,void 0,void 0,function*(){var e,f,g,h,i;try{let j,k,l;if(null==(e=this.connector)?void 0:e.connected)try{yield this.connector.killSession()}catch(a){}let{isWebWalletAvailable:m,bridgeURL:n,webWalletURL:o,shouldDisplayNewBadge:p,shouldUseSound:q,promoteMobile:r}=yield av(),s=function({webWalletURL:a,chainId:b,resolve:c,reject:d}){let e=aD(a);return function(){return ac(this,void 0,void 0,function*(){try{let a=yield af(e.CONNECT);a&&ae.sendMessage({message:{type:"CONNECT",data:Object.assign(Object.assign({},function(){let a=document.querySelector('meta[name="name"]'),b=document.querySelector('meta[name="description"]'),{title:c}=document,d="";return a instanceof HTMLMetaElement&&(c=a.content),b instanceof HTMLMetaElement&&(d=b.content),{title:c,description:d,url:window.location.origin,favicon:function(){let a=document.getElementsByTagName("link"),b=[];for(let c=0;c<a.length;c++){let d=a[c],e=d.getAttribute("rel");if(e&&e.toLowerCase().indexOf("icon")>-1){let a=d.getAttribute("href");if(a&&-1===a.toLowerCase().indexOf("https:")&&-1===a.toLowerCase().indexOf("http:")&&0!==a.indexOf("//")){let c=`${window.location.protocol}//${window.location.host}`;if(0===a.indexOf("/"))c+=a;else{let b=window.location.pathname.split("/");b.pop(),c+=`${b.join("/")}/${a}`}b.push(c)}else if(0===(null==a?void 0:a.indexOf("//"))){let c=window.location.protocol+a;b.push(c)}else a&&b.push(a)}}return b}()[0]}}()),{chainId:b})},origin:e.CONNECT,targetWindow:a});let f=setInterval(()=>{!0===(null==a?void 0:a.closed)&&(d(new ad({type:"CONNECT_CANCELLED"},"Connect is cancelled by user")),clearInterval(f),ao(ag))},2e3);ae.setupListener({onReceiveMessage:b=>(function({event:a,newPeraWalletTab:b,resolve:c,reject:d}){if(c&&"CONNECT_CALLBACK"===a.data.message.type){let d=a.data.message.data.addresses;as(d,"pera-wallet-web"),c(d),ao(ag),null==b||b.close()}else"CONNECT_NETWORK_MISMATCH"===a.data.message.type&&(d(new ad({type:"CONNECT_NETWORK_MISMATCH",detail:a.data.message.error},a.data.message.error||"Your wallet is connected to a different network to this dApp. Update your wallet to the correct network (MainNet or TestNet) to continue.")),ao(ag),null==b||b.close())})({event:b,newPeraWalletTab:a,resolve:c,reject:d})})}catch(a){ao(ag),d(a)}})}}({resolve:c,reject:d,webWalletURL:o,chainId:this.chainId,isCompactMode:this.compactMode});m&&(window.onWebWalletConnect=s),this.connector=new b.default({bridge:this.bridge||n||"https://bridge.walletconnect.org",qrcodeModal:function({isWebWalletAvailable:a,shouldDisplayNewBadge:b,shouldUseSound:c,compactMode:d,promoteMobile:e,singleAccount:f,selectedAccount:g}){var h;return{open:(h={isWebWalletAvailable:a,shouldDisplayNewBadge:b,shouldUseSound:c,compactMode:d,promoteMobile:e,singleAccount:f,selectedAccount:g},a=>{if(!document.getElementById(ag)){let b=ak(ag),c=`${a}&algorand=true`,{isWebWalletAvailable:d,shouldDisplayNewBadge:e,shouldUseSound:f,compactMode:g,promoteMobile:i,singleAccount:j,selectedAccount:k}=h;b.innerHTML=`<pera-wallet-connect-modal uri="${c}" is-web-wallet-avaliable="${d}" should-display-new-badge="${e}" should-use-sound="${f}" compact-mode="${g}" promote-mobile="${i}" single-account="${j}" selected-account="${k||""}"></pera-wallet-connect-modal>`}}),close:()=>ao(ag)}}({isWebWalletAvailable:m,shouldDisplayNewBadge:p,shouldUseSound:q,compactMode:this.compactMode,promoteMobile:r,singleAccount:this.singleAccount,selectedAccount:null==a?void 0:a.selectedAccount})}),yield this.connector.createSession({chainId:this.chainId||4160}),j=document.getElementById(ag),k=null==(g=null==(f=null==j?void 0:j.querySelector(ag.replace("-wrapper","")))?void 0:f.shadowRoot)?void 0:g.querySelector(`.${aj}`),l=null==(i=null==(h=null==k?void 0:k.querySelector("pera-wallet-modal-header"))?void 0:h.shadowRoot)?void 0:i.getElementById("pera-wallet-modal-header-close-button"),null==l||l.addEventListener("click",()=>{(()=>d(new ad({type:"CONNECT_MODAL_CLOSED"},"Connect modal is closed by user")))(),ao(ag)}),this.connector.on("connect",(a,b)=>{var e,f;a&&d(a),c((null==(e=this.connector)?void 0:e.accounts)||[]),as((null==(f=this.connector)?void 0:f.accounts)||[])})}catch(a){console.log(a),d(new ad({type:"SESSION_CONNECT",detail:a},a.message||"There was an error while connecting to Pera Wallet"))}}))}reconnectSession(){return new Promise((a,c)=>ac(this,void 0,void 0,function*(){var d,e,f;try{let g,h=at();if(!h)return void a([]);if("pera-wallet-web"===(null==h?void 0:h.type)){let{isWebWalletAvailable:b}=yield av();b?a(h.accounts||[]):c(new ad({type:"SESSION_RECONNECT",detail:"Pera Web is not available"},"Pera Web is not available"))}this.connector&&a(this.connector.accounts||[]),this.bridge=(null==(d=(g=null==(f=ar())?void 0:f.getItem(aq))?JSON.parse(g):null)?void 0:d.bridge)||"",this.bridge&&(this.connector=new b.default({bridge:this.bridge}),a((null==(e=this.connector)?void 0:e.accounts)||[])),this.isConnected||a([])}catch(a){yield this.disconnect(),c(new ad({type:"SESSION_RECONNECT",detail:a},a.message||"There was an error while reconnecting to Pera Wallet"))}}))}disconnect(){var a;return ac(this,void 0,void 0,function*(){let b;this.isConnected&&"mobile"===this.platform&&(null==(b=null==(a=this.connector)?void 0:a.killSession())||b.then(()=>{this.connector=null})),yield au()})}signTransactionWithMobile(a){return ac(this,void 0,void 0,function*(){let b=ax("algo_signTxn",[a]);try{try{let{silent:a}=yield av(),c=(yield this.connector.sendCustomRequest(b,{forcePushNotification:!a})).filter(Boolean);return"string"==typeof c[0]?c.map(aw):c.map(a=>Uint8Array.from(a))}catch(a){return yield Promise.reject(new ad({type:"SIGN_TRANSACTIONS",detail:a},a.message||"Failed to sign transaction"))}}finally{ao(ah),ao(ai)}})}signTransactionWithWeb(a,b){return new Promise((c,d)=>aE({signTxnRequestParams:a,webWalletURL:b,method:"SIGN_TXN",resolve:c,reject:d}))}signDataWithMobile({data:a,signer:b,chainId:c}){return ac(this,void 0,void 0,function*(){let d=ax("algo_signData",a.map(a=>Object.assign(Object.assign({},a),{signer:b,chainId:c})));try{try{let{silent:a}=yield av(),b=(yield this.connector.sendCustomRequest(d,{forcePushNotification:!a})).filter(Boolean);return"string"==typeof b[0]?b.map(aw):b.map(a=>Uint8Array.from(a))}catch(a){return yield Promise.reject(new ad({type:"SIGN_TRANSACTIONS",detail:a},a.message||"Failed to sign transaction"))}}finally{ao(ah),ao(ai)}})}signDataWithWeb({data:a,signer:b,chainId:c,webWalletURL:d}){return new Promise((e,f)=>aE({method:"SIGN_DATA",signTxnRequestParams:a,signer:b,chainId:c,webWalletURL:d,resolve:e,reject:f}))}checkIsPeraDiscoverBrowser(){return window.navigator.userAgent.includes("pera")}signTransaction(a,b){return ac(this,void 0,void 0,function*(){if("mobile"===this.platform&&(aB()?al():!aB()&&this.shouldShowSignTxnToast&&am(),!this.connector))throw Error("PeraWalletConnect was not initialized correctly.");let d=a.flatMap(a=>a.map(a=>{var d;let e,f;return b&&!(a.signers||[]).includes(b)&&(e=[]),f={txn:(d=a.txn,Buffer.from(c.default.encodeUnsignedTransaction(d)).toString("base64"))},Array.isArray(e)&&(f.signers=e),a.authAddr&&(f.authAddr=a.authAddr),a.message&&(f.message=a.message),a.msig&&(f.msig=a.msig),f}));if("web"===this.platform){let{webWalletURL:a}=yield av();return this.signTransactionWithWeb(d,a)}return this.signTransactionWithMobile(d)})}signData(a,b){return ac(this,void 0,void 0,function*(){let c=this.chainId||4160;if("mobile"===this.platform&&(aB()?al():!aB()&&this.shouldShowSignTxnToast&&am(),!this.connector))throw Error("PeraWalletConnect was not initialized correctly.");if("web"===this.platform){let{webWalletURL:d}=yield av();return this.signDataWithWeb({data:a,signer:b,chainId:c,webWalletURL:d})}let d=a.map(a=>Object.assign(Object.assign({},a),{data:Buffer.from(a.data).toString("base64")}));return this.signDataWithMobile({data:d,signer:b,chainId:c})})}}a.s(["P",()=>ah,"a",()=>"https://perawallet.app/download/","b",()=>aA,"c",()=>az,"d",()=>aC,"e",()=>"perawallet-wc://","f",()=>aj,"g",()=>ag,"h",()=>ai,"i",()=>aB,"j",()=>"pera-wallet-sign-txn-modal-wrapper","k",()=>aF,"l",()=>an,"r",()=>ao],37125)}];

//# sourceMappingURL=%5Broot-of-the-server%5D__56dbff74._.js.map