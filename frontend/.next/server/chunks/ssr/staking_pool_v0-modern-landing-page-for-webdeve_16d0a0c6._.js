module.exports=[34432,(a,b,c)=>{"use strict";b.exports=a.r(24806).vendored["react-ssr"].ReactServerDOMTurbopackClient},62174,(a,b,c)=>{"use strict";b.exports=a.r(24806).vendored["react-ssr"].ReactDOM},60614,a=>{"use strict";var b=a.i(54756),c=a.i(95810),d=a.i(17291),e=a.i(8114),f=a.i(73591),g=a.i(93056),h=a.i(16975),i=a.i(25202),j=a.i(65392),k=a.i(26628),l=a.i(89828);a.i(82571);var m=a.i(6515),n=a.i(47015);function o(){let[a,c]=(0,e.useState)(null),[d,o]=(0,e.useState)(""),[p,q]=(0,e.useState)(null),[r,s]=(0,e.useState)(null),[t,u]=(0,e.useState)(!1),{isConnected:v,connect:w,signTransactions:x,walletAddress:y}=(0,l.useWallet)(),z=new m.Algodv2("","https://testnet-api.algonode.cloud","");(0,e.useEffect)(()=>{try{let a=localStorage.getItem("pendingNFTClaim");a&&/^\d+$/.test(a)&&(c(Number(a)),q(`Detected pending NFT claim for Asset ID ${a}.`),s("info"))}catch(a){}},[]);let A=a=>{let b="";for(let c=0;c<a.length;c++)b+=String.fromCharCode(a[c]);return btoa(b)},B=a=>{if(!a)return new Uint8Array(0);let b=atob(String(a).replace(/\s+/g,"")),c=b.length,d=new Uint8Array(c);for(let a=0;a<c;a++)d[a]=b.charCodeAt(a);return d};async function C(a,b=20){let c=Date.now();for(;;){try{let b=await z.pendingTransactionInformation(a).do(),c=b["confirmed-round"]??b.confirmedRound;if(c&&c>0)return b}catch(a){}if((Date.now()-c)/1e3>b)throw Error("Timed out waiting for confirmation");await new Promise(a=>setTimeout(a,1e3))}}let D=async()=>{if(!v&&!await w())throw Error("Connect wallet to continue")},E=async()=>{if(q(null),s(null),!a){q("No Asset ID set. Enter it below and set it."),s("error");return}await D(),u(!0);try{if(!x)throw Error("Wallet cannot sign transactions");let b=String(y),c={...await z.getTransactionParams().do()};"bigint"==typeof c.fee&&(c.fee=Number(c.fee));let d=null;try{d=m.makeAssetTransferTxnWithSuggestedParamsFromObject({from:b,to:b,amount:0,assetIndex:Number(a),suggestedParams:{...c,flatFee:!0,fee:Math.max(Number(c.fee||1e3),1e3)}})}catch(j){let e,f=m.Transaction||m.transaction?.Transaction;if(!f)throw Error("Transaction constructor not found");let g=c.genesisHash;if(g instanceof Uint8Array)e=g;else if("string"==typeof g)try{let a=atob(g),b=new Uint8Array(a.length);for(let c=0;c<a.length;c++)b[c]=a.charCodeAt(c);e=b}catch(a){}let h=m.decodeAddress(b).publicKey,i={type:"axfer",from:h,to:h,amount:0,assetIndex:Number(a),fee:Math.max(Number(c.fee||1e3),1e3),firstRound:Number(c.firstValid||c.firstRound),lastRound:Number(c.lastValid||c.lastRound),genesisID:c.genesisID,genesisHash:e};d=new f(i)}let e=m.encodeUnsignedTransaction?.bind(m)||m.encoding?.encodeUnsignedTransaction?.bind(m);if(!e)throw Error("encodeUnsignedTransaction not available");let f=A(e(d)),g=await x([[f]]),h=[];if(Array.isArray(g)?"string"==typeof g[0]?h=g.map(a=>B(String(a))):g[0]&&g[0].blob&&(h=g.map(a=>B(a.blob))):g?.signedTransactions&&(h=g.signedTransactions.map(a=>B(a))),!h.length)throw Error("No signed opt-in returned");let i=await z.sendRawTransaction(h).do(),j=i.txid||i.txId||i.txID;await C(j,30),q(`âœ… Opt-in successful! Now click 'Claim NFT' to receive your NFT.`),s("success")}catch(a){q(`Opt-in failed: ${a?.message||String(a)}`),s("error")}finally{u(!1)}},F=async()=>{if(q(null),s(null),!a){q("No Asset ID set. Enter it below and set it."),s("error");return}await D(),u(!0);try{if(!x)throw Error("Wallet cannot sign transactions");let b=String(y),d=n.default.app_id,e={...await z.getTransactionParams().do()};"bigint"==typeof e.fee&&(e.fee=Number(e.fee));let f=new TextEncoder().encode("claim_nft"),g=null;try{g=m.makeApplicationNoOpTxnFromObject({from:b,suggestedParams:{...e,flatFee:!0,fee:Math.max(Number(e.fee||1e3),1e3)},appIndex:Number(d),appArgs:[f],foreignAssets:[Number(a)]})}catch(i){let c=m.Transaction||m.transaction?.Transaction;if(!c)throw Error("Transaction constructor not found");let h={type:"appl",sender:b,suggestedParams:{flatFee:!0,fee:Math.max(Number(e.fee||1e3),1e3),firstValid:Number(e.firstValid),lastValid:Number(e.lastValid),genesisID:e.genesisID,genesisHash:e.genesisHash},appCallParams:{appIndex:Number(d),onComplete:0,appArgs:[f],foreignAssets:[Number(a)]}};g=new c(h)}let h=m.encodeUnsignedTransaction?.bind(m);if(!h)throw Error("encodeUnsignedTransaction not available");let i=A(h(g)),j=await x([[i]]),k=[];if(Array.isArray(j)?"string"==typeof j[0]?k=j.map(a=>B(String(a))):j[0]&&j[0].blob&&(k=j.map(a=>B(a.blob))):j?.signedTransactions&&(k=j.signedTransactions.map(a=>B(a))),!k.length)throw Error("No signed claim returned");let l=await z.sendRawTransaction(k).do(),p=l.txid||l.txId||l.txID;await C(p,30),q(`ðŸŽ‰ Success! NFT Asset ID ${a} has been transferred to your wallet (tx: ${p})`),s("success");try{localStorage.removeItem("pendingNFTClaim")}catch(a){}c(null),o("")}catch(a){q(`Claim failed: ${a?.message||String(a)}`),s("error")}finally{u(!1)}};return(0,b.jsx)(g.Card,{className:"p-8 bg-card/50 backdrop-blur-sm border border-primary/10",children:(0,b.jsxs)("div",{className:"space-y-6",children:[(0,b.jsxs)("div",{children:[(0,b.jsx)("h2",{className:"text-2xl font-bold mb-2",children:"Claim Your Stake NFT"}),(0,b.jsx)("p",{className:"text-muted-foreground",children:"Opt-in to the NFT, then claim it to your wallet."})]}),!v&&(0,b.jsxs)(j.Alert,{className:"border border-yellow-500/20 bg-yellow-500/5",children:[(0,b.jsx)(k.AlertCircle,{className:"h-4 w-4 text-yellow-600"}),(0,b.jsx)(j.AlertDescription,{className:"ml-2 text-yellow-600",children:"Please connect your wallet to continue"})]}),p&&(0,b.jsx)(j.Alert,{className:`${"error"===r?"border border-red-500/20 bg-red-500/5":"success"===r?"border border-green-500/20 bg-green-500/5":"border border-blue-500/20 bg-blue-500/5"}`,children:(0,b.jsx)(j.AlertDescription,{className:"ml-2",children:p})}),a?(0,b.jsxs)("div",{className:"space-y-4",children:[(0,b.jsxs)("div",{children:[(0,b.jsx)("p",{className:"text-sm text-muted-foreground",children:"Asset ID:"}),(0,b.jsx)("p",{className:"font-mono font-semibold text-lg",children:a})]}),(0,b.jsxs)("div",{className:"flex gap-2",children:[(0,b.jsx)(f.Button,{type:"button",className:"w-full",size:"sm",onClick:E,disabled:t,children:t?"Processing...":"1ï¸âƒ£ Opt-in to NFT"}),(0,b.jsx)(f.Button,{type:"button",className:"w-full",size:"sm",onClick:F,disabled:t,children:t?"Processing...":"2ï¸âƒ£ Claim NFT"})]})]}):(0,b.jsxs)("div",{className:"space-y-3",children:[(0,b.jsx)(i.Label,{htmlFor:"manual-asset",className:"text-base font-semibold",children:"Enter NFT Asset ID"}),(0,b.jsxs)("div",{className:"flex gap-2",children:[(0,b.jsx)(h.Input,{id:"manual-asset",type:"number",placeholder:"e.g. 123456",value:d,onChange:a=>o(a.target.value),className:"flex-1"}),(0,b.jsx)(f.Button,{type:"button",onClick:()=>{if(d&&/^\d+$/.test(d)){c(Number(d));try{localStorage.setItem("pendingNFTClaim",d)}catch(a){}q(`Asset ID ${d} set. You can now opt-in and claim.`),s("info")}},children:"Set Asset ID"})]}),(0,b.jsx)("p",{className:"text-xs text-muted-foreground",children:"If you just staked, this Asset ID may be stored automatically."})]})]})})}var p=a.i(19662);function q(){return(0,b.jsxs)("main",{className:"min-h-screen flex flex-col",children:[(0,b.jsx)(c.Navbar,{}),(0,b.jsx)("section",{className:"flex-1 py-20 px-4 sm:px-6 lg:px-8",children:(0,b.jsxs)("div",{className:"container mx-auto max-w-5xl",children:[(0,b.jsxs)("div",{className:"mb-12",children:[(0,b.jsx)("h1",{className:"text-4xl sm:text-5xl font-bold mb-4 text-balance",children:"Claim NFT"}),(0,b.jsx)("p",{className:"text-xl text-muted-foreground",children:"Opt-in and claim your position NFT after staking"})]}),(0,b.jsxs)("div",{className:"grid lg:grid-cols-3 gap-8",children:[(0,b.jsx)("div",{className:"lg:col-span-2",children:(0,b.jsx)(o,{})}),(0,b.jsx)("div",{children:(0,b.jsx)(p.StakingPositions,{})})]})]})}),(0,b.jsx)(d.Footer,{})]})}a.s(["default",()=>q],60614)}];

//# sourceMappingURL=staking_pool_v0-modern-landing-page-for-webdeve_16d0a0c6._.js.map