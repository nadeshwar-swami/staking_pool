{"version":3,"sources":["turbopack:///[project]/staking_pool/v0-modern-landing-page-for-webdeve/node_modules/@radix-ui/react-radio-group/dist/index.mjs","turbopack:///[project]/staking_pool/v0-modern-landing-page-for-webdeve/components/ui/radio-group.tsx","turbopack:///[project]/staking_pool/v0-modern-landing-page-for-webdeve/components/staking-form.tsx","turbopack:///[project]/staking_pool/v0-modern-landing-page-for-webdeve/app/stake/page.tsx","turbopack:///[project]/staking_pool/v0-modern-landing-page-for-webdeve/node_modules/@radix-ui/react-use-previous/dist/index.mjs","turbopack:///[project]/staking_pool/v0-modern-landing-page-for-webdeve/components/staking-stats.tsx","turbopack:///[project]/staking_pool/v0-modern-landing-page-for-webdeve/node_modules/lucide-react/src/icons/info.ts","turbopack:///[project]/staking_pool/v0-modern-landing-page-for-webdeve/node_modules/lucide-react/src/icons/circle-check.ts","turbopack:///[project]/staking_pool/v0-modern-landing-page-for-webdeve/node_modules/@radix-ui/react-radio-group/src/RadioGroup.tsx"],"sourcesContent":["\"use client\";\n\n// packages/react/radio-group/src/RadioGroup.tsx\nimport * as React2 from \"react\";\nimport { composeEventHandlers as composeEventHandlers2 } from \"@radix-ui/primitive\";\nimport { useComposedRefs as useComposedRefs2 } from \"@radix-ui/react-compose-refs\";\nimport { createContextScope as createContextScope2 } from \"@radix-ui/react-context\";\nimport { Primitive as Primitive2 } from \"@radix-ui/react-primitive\";\nimport * as RovingFocusGroup from \"@radix-ui/react-roving-focus\";\nimport { createRovingFocusGroupScope } from \"@radix-ui/react-roving-focus\";\nimport { useControllableState } from \"@radix-ui/react-use-controllable-state\";\nimport { useDirection } from \"@radix-ui/react-direction\";\n\n// packages/react/radio-group/src/Radio.tsx\nimport * as React from \"react\";\nimport { composeEventHandlers } from \"@radix-ui/primitive\";\nimport { useComposedRefs } from \"@radix-ui/react-compose-refs\";\nimport { createContextScope } from \"@radix-ui/react-context\";\nimport { useSize } from \"@radix-ui/react-use-size\";\nimport { usePrevious } from \"@radix-ui/react-use-previous\";\nimport { Presence } from \"@radix-ui/react-presence\";\nimport { Primitive } from \"@radix-ui/react-primitive\";\nimport { jsx, jsxs } from \"react/jsx-runtime\";\nvar RADIO_NAME = \"Radio\";\nvar [createRadioContext, createRadioScope] = createContextScope(RADIO_NAME);\nvar [RadioProvider, useRadioContext] = createRadioContext(RADIO_NAME);\nvar Radio = React.forwardRef(\n  (props, forwardedRef) => {\n    const {\n      __scopeRadio,\n      name,\n      checked = false,\n      required,\n      disabled,\n      value = \"on\",\n      onCheck,\n      form,\n      ...radioProps\n    } = props;\n    const [button, setButton] = React.useState(null);\n    const composedRefs = useComposedRefs(forwardedRef, (node) => setButton(node));\n    const hasConsumerStoppedPropagationRef = React.useRef(false);\n    const isFormControl = button ? form || !!button.closest(\"form\") : true;\n    return /* @__PURE__ */ jsxs(RadioProvider, { scope: __scopeRadio, checked, disabled, children: [\n      /* @__PURE__ */ jsx(\n        Primitive.button,\n        {\n          type: \"button\",\n          role: \"radio\",\n          \"aria-checked\": checked,\n          \"data-state\": getState(checked),\n          \"data-disabled\": disabled ? \"\" : void 0,\n          disabled,\n          value,\n          ...radioProps,\n          ref: composedRefs,\n          onClick: composeEventHandlers(props.onClick, (event) => {\n            if (!checked) onCheck?.();\n            if (isFormControl) {\n              hasConsumerStoppedPropagationRef.current = event.isPropagationStopped();\n              if (!hasConsumerStoppedPropagationRef.current) event.stopPropagation();\n            }\n          })\n        }\n      ),\n      isFormControl && /* @__PURE__ */ jsx(\n        BubbleInput,\n        {\n          control: button,\n          bubbles: !hasConsumerStoppedPropagationRef.current,\n          name,\n          value,\n          checked,\n          required,\n          disabled,\n          form,\n          style: { transform: \"translateX(-100%)\" }\n        }\n      )\n    ] });\n  }\n);\nRadio.displayName = RADIO_NAME;\nvar INDICATOR_NAME = \"RadioIndicator\";\nvar RadioIndicator = React.forwardRef(\n  (props, forwardedRef) => {\n    const { __scopeRadio, forceMount, ...indicatorProps } = props;\n    const context = useRadioContext(INDICATOR_NAME, __scopeRadio);\n    return /* @__PURE__ */ jsx(Presence, { present: forceMount || context.checked, children: /* @__PURE__ */ jsx(\n      Primitive.span,\n      {\n        \"data-state\": getState(context.checked),\n        \"data-disabled\": context.disabled ? \"\" : void 0,\n        ...indicatorProps,\n        ref: forwardedRef\n      }\n    ) });\n  }\n);\nRadioIndicator.displayName = INDICATOR_NAME;\nvar BubbleInput = (props) => {\n  const { control, checked, bubbles = true, ...inputProps } = props;\n  const ref = React.useRef(null);\n  const prevChecked = usePrevious(checked);\n  const controlSize = useSize(control);\n  React.useEffect(() => {\n    const input = ref.current;\n    const inputProto = window.HTMLInputElement.prototype;\n    const descriptor = Object.getOwnPropertyDescriptor(inputProto, \"checked\");\n    const setChecked = descriptor.set;\n    if (prevChecked !== checked && setChecked) {\n      const event = new Event(\"click\", { bubbles });\n      setChecked.call(input, checked);\n      input.dispatchEvent(event);\n    }\n  }, [prevChecked, checked, bubbles]);\n  return /* @__PURE__ */ jsx(\n    \"input\",\n    {\n      type: \"radio\",\n      \"aria-hidden\": true,\n      defaultChecked: checked,\n      ...inputProps,\n      tabIndex: -1,\n      ref,\n      style: {\n        ...props.style,\n        ...controlSize,\n        position: \"absolute\",\n        pointerEvents: \"none\",\n        opacity: 0,\n        margin: 0\n      }\n    }\n  );\n};\nfunction getState(checked) {\n  return checked ? \"checked\" : \"unchecked\";\n}\n\n// packages/react/radio-group/src/RadioGroup.tsx\nimport { jsx as jsx2 } from \"react/jsx-runtime\";\nvar ARROW_KEYS = [\"ArrowUp\", \"ArrowDown\", \"ArrowLeft\", \"ArrowRight\"];\nvar RADIO_GROUP_NAME = \"RadioGroup\";\nvar [createRadioGroupContext, createRadioGroupScope] = createContextScope2(RADIO_GROUP_NAME, [\n  createRovingFocusGroupScope,\n  createRadioScope\n]);\nvar useRovingFocusGroupScope = createRovingFocusGroupScope();\nvar useRadioScope = createRadioScope();\nvar [RadioGroupProvider, useRadioGroupContext] = createRadioGroupContext(RADIO_GROUP_NAME);\nvar RadioGroup = React2.forwardRef(\n  (props, forwardedRef) => {\n    const {\n      __scopeRadioGroup,\n      name,\n      defaultValue,\n      value: valueProp,\n      required = false,\n      disabled = false,\n      orientation,\n      dir,\n      loop = true,\n      onValueChange,\n      ...groupProps\n    } = props;\n    const rovingFocusGroupScope = useRovingFocusGroupScope(__scopeRadioGroup);\n    const direction = useDirection(dir);\n    const [value, setValue] = useControllableState({\n      prop: valueProp,\n      defaultProp: defaultValue,\n      onChange: onValueChange\n    });\n    return /* @__PURE__ */ jsx2(\n      RadioGroupProvider,\n      {\n        scope: __scopeRadioGroup,\n        name,\n        required,\n        disabled,\n        value,\n        onValueChange: setValue,\n        children: /* @__PURE__ */ jsx2(\n          RovingFocusGroup.Root,\n          {\n            asChild: true,\n            ...rovingFocusGroupScope,\n            orientation,\n            dir: direction,\n            loop,\n            children: /* @__PURE__ */ jsx2(\n              Primitive2.div,\n              {\n                role: \"radiogroup\",\n                \"aria-required\": required,\n                \"aria-orientation\": orientation,\n                \"data-disabled\": disabled ? \"\" : void 0,\n                dir: direction,\n                ...groupProps,\n                ref: forwardedRef\n              }\n            )\n          }\n        )\n      }\n    );\n  }\n);\nRadioGroup.displayName = RADIO_GROUP_NAME;\nvar ITEM_NAME = \"RadioGroupItem\";\nvar RadioGroupItem = React2.forwardRef(\n  (props, forwardedRef) => {\n    const { __scopeRadioGroup, disabled, ...itemProps } = props;\n    const context = useRadioGroupContext(ITEM_NAME, __scopeRadioGroup);\n    const isDisabled = context.disabled || disabled;\n    const rovingFocusGroupScope = useRovingFocusGroupScope(__scopeRadioGroup);\n    const radioScope = useRadioScope(__scopeRadioGroup);\n    const ref = React2.useRef(null);\n    const composedRefs = useComposedRefs2(forwardedRef, ref);\n    const checked = context.value === itemProps.value;\n    const isArrowKeyPressedRef = React2.useRef(false);\n    React2.useEffect(() => {\n      const handleKeyDown = (event) => {\n        if (ARROW_KEYS.includes(event.key)) {\n          isArrowKeyPressedRef.current = true;\n        }\n      };\n      const handleKeyUp = () => isArrowKeyPressedRef.current = false;\n      document.addEventListener(\"keydown\", handleKeyDown);\n      document.addEventListener(\"keyup\", handleKeyUp);\n      return () => {\n        document.removeEventListener(\"keydown\", handleKeyDown);\n        document.removeEventListener(\"keyup\", handleKeyUp);\n      };\n    }, []);\n    return /* @__PURE__ */ jsx2(\n      RovingFocusGroup.Item,\n      {\n        asChild: true,\n        ...rovingFocusGroupScope,\n        focusable: !isDisabled,\n        active: checked,\n        children: /* @__PURE__ */ jsx2(\n          Radio,\n          {\n            disabled: isDisabled,\n            required: context.required,\n            checked,\n            ...radioScope,\n            ...itemProps,\n            name: context.name,\n            ref: composedRefs,\n            onCheck: () => context.onValueChange(itemProps.value),\n            onKeyDown: composeEventHandlers2((event) => {\n              if (event.key === \"Enter\") event.preventDefault();\n            }),\n            onFocus: composeEventHandlers2(itemProps.onFocus, () => {\n              if (isArrowKeyPressedRef.current) ref.current?.click();\n            })\n          }\n        )\n      }\n    );\n  }\n);\nRadioGroupItem.displayName = ITEM_NAME;\nvar INDICATOR_NAME2 = \"RadioGroupIndicator\";\nvar RadioGroupIndicator = React2.forwardRef(\n  (props, forwardedRef) => {\n    const { __scopeRadioGroup, ...indicatorProps } = props;\n    const radioScope = useRadioScope(__scopeRadioGroup);\n    return /* @__PURE__ */ jsx2(RadioIndicator, { ...radioScope, ...indicatorProps, ref: forwardedRef });\n  }\n);\nRadioGroupIndicator.displayName = INDICATOR_NAME2;\nvar Root2 = RadioGroup;\nvar Item2 = RadioGroupItem;\nvar Indicator = RadioGroupIndicator;\nexport {\n  Indicator,\n  Item2 as Item,\n  RadioGroup,\n  RadioGroupIndicator,\n  RadioGroupItem,\n  Root2 as Root,\n  createRadioGroupScope\n};\n//# sourceMappingURL=index.mjs.map\n","'use client'\r\n\r\nimport * as React from 'react'\r\nimport * as RadioGroupPrimitive from '@radix-ui/react-radio-group'\r\nimport { CircleIcon } from 'lucide-react'\r\n\r\nimport { cn } from '@/lib/utils'\r\n\r\nfunction RadioGroup({\r\n  className,\r\n  ...props\r\n}: React.ComponentProps<typeof RadioGroupPrimitive.Root>) {\r\n  return (\r\n    <RadioGroupPrimitive.Root\r\n      data-slot=\"radio-group\"\r\n      className={cn('grid gap-3', className)}\r\n      {...props}\r\n    />\r\n  )\r\n}\r\n\r\nfunction RadioGroupItem({\r\n  className,\r\n  ...props\r\n}: React.ComponentProps<typeof RadioGroupPrimitive.Item>) {\r\n  return (\r\n    <RadioGroupPrimitive.Item\r\n      data-slot=\"radio-group-item\"\r\n      className={cn(\r\n        'border-input text-primary focus-visible:border-ring focus-visible:ring-ring/50 aria-invalid:ring-destructive/20 dark:aria-invalid:ring-destructive/40 aria-invalid:border-destructive dark:bg-input/30 aspect-square size-4 shrink-0 rounded-full border shadow-xs transition-[color,box-shadow] outline-none focus-visible:ring-[3px] disabled:cursor-not-allowed disabled:opacity-50',\r\n        className,\r\n      )}\r\n      {...props}\r\n    >\r\n      <RadioGroupPrimitive.Indicator\r\n        data-slot=\"radio-group-indicator\"\r\n        className=\"relative flex items-center justify-center\"\r\n      >\r\n        <CircleIcon className=\"fill-primary absolute top-1/2 left-1/2 size-2 -translate-x-1/2 -translate-y-1/2\" />\r\n      </RadioGroupPrimitive.Indicator>\r\n    </RadioGroupPrimitive.Item>\r\n  )\r\n}\r\n\r\nexport { RadioGroup, RadioGroupItem }\r\n","\"use client\"\r\n\r\nimport { useState, useEffect } from \"react\"\r\nimport { Button } from \"@/components/ui/button\"\r\nimport { Card } from \"@/components/ui/card\"\r\nimport { Input } from \"@/components/ui/input\"\r\nimport { Label } from \"@/components/ui/label\"\r\nimport { RadioGroup, RadioGroupItem } from \"@/components/ui/radio-group\"\r\nimport { useWallet } from \"@/components/wallet-context\"\r\nimport * as algosdk from \"algosdk\"\r\nimport appState from \"../../app_state.json\"\r\nimport { Wallet, AlertCircle } from 'lucide-react'\r\nimport { Alert, AlertDescription } from \"@/components/ui/alert\"\r\n\r\ntype LockPeriod = \"30\" | \"60\" | \"90\"\r\n\r\nexport function StakingForm() {\r\n  const [amount, setAmount] = useState(\"\")\r\n  const [lockPeriod, setLockPeriod] = useState<LockPeriod>(\"30\")\r\n  const [connectFailed, setConnectFailed] = useState(false)\r\n  const [algoBalance, setAlgoBalance] = useState<string | null>(null)\r\n  const [balanceLoading, setBalanceLoading] = useState(false)\r\n  const [isProcessing, setIsProcessing] = useState(false)\r\n  const [statusMessage, setStatusMessage] = useState<React.ReactNode | null>(null)\r\n  const [statusType, setStatusType] = useState<'success' | 'error' | 'info' | null>(null)\r\n  const { isConnected, connect } = useWallet()\r\n\r\n  // Claim NFT flow has been moved to a dedicated page\r\n\r\n  const apy: Record<LockPeriod, number> = {\r\n    \"30\": 8,\r\n    \"60\": 10,\r\n    \"90\": 12\r\n  }\r\n\r\n  const estimatedReward = amount ? (parseFloat(amount) * apy[lockPeriod] / 100).toFixed(2) : \"0\"\r\n\r\n  const { signTransactions, walletAddress } = useWallet()\r\n\r\n  const ALGOD_SERVER = \"https://testnet-api.algonode.cloud\"\r\n  const ALGOD_TOKEN = \"\"\r\n  const algodClient = new algosdk.Algodv2(ALGOD_TOKEN, ALGOD_SERVER, \"\")\r\n\r\n  useEffect(() => {\r\n    // Fetch account balance whenever walletAddress changes\r\n    if (!walletAddress) {\r\n      setAlgoBalance(null)\r\n      return\r\n    }\r\n    let cancelled = false\r\n    ;(async () => {\r\n      try {\r\n        setBalanceLoading(true)\r\n        const acctInfo: any = await algodClient.accountInformation(String(walletAddress)).do()\r\n        // acctInfo.amount may be a BigInt or number\r\n        const micro = typeof acctInfo?.amount === 'bigint' ? Number(acctInfo.amount) : Number(acctInfo?.amount || acctInfo?.microAlgos || 0)\r\n        if (!cancelled) setAlgoBalance((micro / 1e6).toFixed(6))\r\n      } catch (e) {\r\n        if (!cancelled) setAlgoBalance(null)\r\n      } finally {\r\n        if (!cancelled) setBalanceLoading(false)\r\n      }\r\n    })()\r\n    return () => { cancelled = true }\r\n  }, [walletAddress])\r\n\r\n  const uint8ArrayToBase64 = (u8: Uint8Array) => {\r\n    let binary = \"\"\r\n    for (let i = 0; i < u8.length; i++) binary += String.fromCharCode(u8[i])\r\n    return btoa(binary)\r\n  }\r\n\r\n  const base64ToUint8Array = (b64: string) => {\r\n    if (!b64) return new Uint8Array(0)\r\n    // sanitize: remove whitespace/newlines that can appear in signed payloads\r\n    const cleaned = String(b64).replace(/\\s+/g, '')\r\n    const binary = atob(cleaned)\r\n    const len = binary.length\r\n    const u8 = new Uint8Array(len)\r\n    for (let i = 0; i < len; i++) u8[i] = binary.charCodeAt(i)\r\n    return u8\r\n  }\r\n\r\n  // Encode uint64 as 8-byte big-endian byte array for app args\r\n  const u64ToBytes = (n: number) => {\r\n    // For our periods (<= 90 days) value fits in 32 bits safely\r\n    const val = Math.floor(n) >>> 0\r\n    const arr = new Uint8Array(8)\r\n    arr[0] = 0\r\n    arr[1] = 0\r\n    arr[2] = 0\r\n    arr[3] = 0\r\n    arr[4] = (val >>> 24) & 0xff\r\n    arr[5] = (val >>> 16) & 0xff\r\n    arr[6] = (val >>> 8) & 0xff\r\n    arr[7] = val & 0xff\r\n    return arr\r\n  }\r\n\r\n  async function waitForConfirmation(txId: string, timeout = 10) {\r\n    const start = Date.now()\r\n    while (true) {\r\n      try {\r\n        const info = await algodClient.pendingTransactionInformation(txId).do()\r\n        const cr = (info as any)['confirmed-round'] ?? (info as any).confirmedRound\r\n        if (cr && cr > 0) return info\r\n      } catch (e) {\r\n        // ignore and retry\r\n      }\r\n      if ((Date.now() - start) / 1000 > timeout) throw new Error('Timed out waiting for confirmation')\r\n      await new Promise((r) => setTimeout(r, 1000))\r\n    }\r\n  }\r\n\r\n  // Helper: inspect confirmed/pending transaction info for inner txns and created asset id\r\n  const findCreatedAssetId = (confirmed: any) => {\r\n    try {\r\n      // Look for inner-txns in the response\r\n      const inner = confirmed['inner-txns'] || confirmed.innerTxns || confirmed['inner-transactions']\r\n      if (inner && Array.isArray(inner)) {\r\n        for (const it of inner) {\r\n          // Check for asset-config inner transaction that creates an asset\r\n          const assetIndex = it['asset-index'] || it['created-asset-index'] || it.assetIndex || it.createdAssetIndex\r\n          if (assetIndex) return Number(assetIndex)\r\n          \r\n          // Also check nested in transaction details\r\n          if (it.txn && it.txn.caid) return Number(it.txn.caid)\r\n        }\r\n      }\r\n      \r\n      // Also check at the transaction level for created-asset-index\r\n      const topLevel = confirmed['created-asset-index'] || confirmed['asset-index'] || confirmed.createdAssetIndex || confirmed.assetIndex\r\n      if (topLevel) return Number(topLevel)\r\n    } catch (e) {\r\n      console.error('Error parsing asset ID:', e)\r\n    }\r\n    return null\r\n  }\r\n\r\n  const handleStake = async () => {\r\n    // reset any previous status\r\n    setStatusMessage(null)\r\n    setStatusType(null)\r\n\r\n    if (!isConnected) {\r\n      const addr = await connect()\r\n      if (!addr) {\r\n        setConnectFailed(true)\r\n        return\r\n      }\r\n      setConnectFailed(false)\r\n    }\r\n\r\n    // At this point the wallet is connected. Perform staking flow on TestNet.\r\n\r\n    if (!amount || parseFloat(amount) < 1) {\r\n      setStatusMessage('Enter a valid amount (>= 1 ALGO)')\r\n      setStatusType('info')\r\n      return\r\n    }\r\n\r\n    if (!signTransactions) {\r\n      setStatusMessage('Wallet cannot sign transactions. Ensure Pera is connected.')\r\n      setStatusType('error')\r\n      return\r\n    }\r\n    setIsProcessing(true)\r\n    try {\r\n      // Dynamically load app_id and asset_id from app_state.json\r\n      const appId = appState.app_id\r\n      // If you need asset_id, use: const assetId = appState.asset_id\r\n\r\n      let sender = walletAddress as string | null\r\n      if (!sender) {\r\n        // try to reconnect/get address from wallet\r\n        const addr = await connect()\r\n        if (!addr) {\r\n          setConnectFailed(true)\r\n          throw new Error('Wallet address not available')\r\n        }\r\n        sender = addr\r\n      }\r\n      \r\n      const microAlgos = Math.floor(parseFloat(amount) * 1e6)\r\n      let payTxn: any = undefined\r\n      let runtimeSdk: any = (algosdk as any)\r\n\r\n      // Diagnostics: inspect algosdk exported keys and helper availability\r\n        try {\r\n        } catch (diagErr) {\r\n        }\r\n\r\n      const rawParams = await algodClient.getTransactionParams().do()\r\n\r\n      // Sanitize params: convert BigInt values to numbers and ensure both key variants exist\r\n      const sanitized: any = {}\r\n      for (const k of Object.keys(rawParams)) {\r\n        const v: any = (rawParams as any)[k]\r\n        if (typeof v === 'bigint') sanitized[k] = Number(v)\r\n        else sanitized[k] = v\r\n      }\r\n      // Also ensure both firstValid/lastValid and firstRound/lastRound are present as numbers\r\n      if (sanitized.firstValid !== undefined) {\r\n        sanitized.firstRound = Number(sanitized.firstValid)\r\n      }\r\n      if (sanitized.lastValid !== undefined) {\r\n        sanitized.lastRound = Number(sanitized.lastValid)\r\n      }\r\n      if (sanitized.firstRound !== undefined) sanitized.firstRound = Number(sanitized.firstRound)\r\n      if (sanitized.lastRound !== undefined) sanitized.lastRound = Number(sanitized.lastRound)\r\n      if (sanitized.fee !== undefined) sanitized.fee = Number(sanitized.fee)\r\n\r\n      const params = sanitized\r\n\r\n      // payment to app escrow\r\n      const rawAppAddr = algosdk.getApplicationAddress(appId)\r\n      const appAddr = typeof rawAppAddr === 'string' ? rawAppAddr : rawAppAddr.toString()\r\n      if (!algosdk.isValidAddress(sender)) {\r\n        console.error('[STAKE] Invalid sender address:', sender)\r\n        throw new Error('Invalid sender address: ' + sender)\r\n      }\r\n      if (!algosdk.isValidAddress(appAddr)) {\r\n        console.error('[STAKE] Invalid app address:', appAddr)\r\n        throw new Error('Invalid app address: ' + appAddr)\r\n      }\r\n      let suggestedParamsForTxn: any = undefined\r\n      try {\r\n        // extra diagnostics\r\n        const decodedFrom = algosdk.decodeAddress(sender)\r\n        const decodedTo = algosdk.decodeAddress(appAddr)\r\n\r\n        // Build a minimal suggestedParams object with the expected keys\r\n        const toBase64 = (x: any) => {\r\n          if (!x) return x\r\n          if (typeof x === 'string') return x\r\n          if (x instanceof Uint8Array) {\r\n            let binary = ''\r\n            for (let i = 0; i < x.length; i++) binary += String.fromCharCode(x[i])\r\n            return btoa(binary)\r\n          }\r\n          // handle plain object with numeric keys\r\n          if (typeof x === 'object') {\r\n            const keys = Object.keys(x).map(Number).sort((a, b) => a - b)\r\n            if (keys.length) {\r\n              const arr = new Uint8Array(keys.length)\r\n              for (let i = 0; i < keys.length; i++) arr[i] = x[i]\r\n              let binary = ''\r\n              for (let i = 0; i < arr.length; i++) binary += String.fromCharCode(arr[i])\r\n              return btoa(binary)\r\n            }\r\n          }\r\n          return x\r\n        }\r\n\r\n        // Ensure genesisHash is a Uint8Array (algosdk expects bytes)\r\n        const fromBase64ToUint8 = (b64: string | Uint8Array | any) => {\r\n          if (!b64) return b64\r\n          if (b64 instanceof Uint8Array) return b64\r\n          if (typeof b64 === 'string') {\r\n            const bin = atob(b64)\r\n            const u8 = new Uint8Array(bin.length)\r\n            for (let i = 0; i < bin.length; i++) u8[i] = bin.charCodeAt(i)\r\n            return u8\r\n          }\r\n          // object with numeric keys\r\n          if (typeof b64 === 'object') {\r\n            const keys = Object.keys(b64).map(Number).sort((a, b) => a - b)\r\n            const arr = new Uint8Array(keys.length)\r\n            for (let i = 0; i < keys.length; i++) arr[i] = b64[i]\r\n            return arr\r\n          }\r\n          return b64\r\n        }\r\n\r\n        const genesisHashBytes = fromBase64ToUint8(params.genesisHash)\r\n\r\n        // Ensure every transaction uses at least the network minimum fee (1000 microAlgos)\r\n        const MIN_FEE = 1000\r\n        const incomingFee = Number(params.fee || 0)\r\n        const chosenFee = incomingFee >= MIN_FEE ? incomingFee : MIN_FEE\r\n        suggestedParamsForTxn = {\r\n          // Use flatFee to ensure the fee field is treated as per-tx cost\r\n          flatFee: true,\r\n          fee: chosenFee,\r\n          firstRound: Number(params.firstRound || params.firstValid),\r\n          lastRound: Number(params.lastRound || params.lastValid),\r\n          firstValid: Number(params.firstValid || params.firstRound),\r\n          lastValid: Number(params.lastValid || params.lastRound),\r\n          genesisID: params.genesisID,\r\n          // use base64 string for genesisHash to satisfy various algosdk builds\r\n          genesisHash: toBase64(genesisHashBytes)\r\n        }\r\n        \r\n\r\n        // Ensure the sender is opted-in to the app before staking.\r\n        try {\r\n          const acctInfo: any = await algodClient.accountInformation(sender).do()\r\n          const localStates = (acctInfo && (acctInfo[\"apps-local-state\"] || acctInfo.appsLocalState)) || []\r\n          const alreadyOptedIn = Array.isArray(localStates) && localStates.some((ls: any) => Number(ls?.id) === Number(appId))\r\n          if (!alreadyOptedIn) {\r\n            const TxConstructorForOpt: any = (algosdk as any).Transaction || (algosdk as any).transaction?.Transaction\r\n            if (!TxConstructorForOpt) throw new Error('Transaction constructor not found on algosdk for opt-in')\r\n            const optInTxObj: any = {\r\n              type: 'appl',\r\n              sender: sender,\r\n              suggestedParams: {\r\n                flatFee: true,\r\n                fee: Number(suggestedParamsForTxn.fee || 1000),\r\n                minFee: 1000,\r\n                firstValid: Number(suggestedParamsForTxn.firstValid || suggestedParamsForTxn.firstRound),\r\n                lastValid: Number(suggestedParamsForTxn.lastValid || suggestedParamsForTxn.lastRound),\r\n                genesisID: suggestedParamsForTxn.genesisID,\r\n                genesisHash: base64ToUint8Array(suggestedParamsForTxn.genesisHash)\r\n              },\r\n              appCallParams: {\r\n                appIndex: appId,\r\n                onComplete: 1\r\n              }\r\n            }\r\n            const optInTxn = new TxConstructorForOpt(optInTxObj)\r\n            // Encode unsigned and request a signature\r\n            const encodeOpt = ((algosdk as any).encodeUnsignedTransaction || (algosdk as any).encoding?.encodeUnsignedTransaction)?.bind(algosdk)\r\n            if (!encodeOpt) throw new Error('encodeUnsignedTransaction not available for opt-in')\r\n            const unsignedOptB64 = uint8ArrayToBase64(encodeOpt(optInTxn))\r\n            // Prefer the same wallet signing path\r\n            let signedOpt: any = null\r\n            try {\r\n              signedOpt = await signTransactions([[unsignedOptB64]])\r\n            } catch (optErr) {\r\n              signedOpt = null\r\n            }\r\n            if (!signedOpt && typeof window !== 'undefined' && (window as any).__peraConnector) {\r\n              try {\r\n                const connector = (window as any).__peraConnector\r\n                const req = {\r\n                  id: Date.now(),\r\n                  jsonrpc: '2.0',\r\n                  method: 'algo_signTxn',\r\n                  params: [[{ txn: unsignedOptB64, message: 'Please sign app opt-in' }]]\r\n                }\r\n                const res = await connector.sendCustomRequest(req)\r\n                signedOpt = res\r\n              } catch (rpcOptErr) {\r\n                console.warn('[STAKE] low-level opt-in sign failed', rpcOptErr)\r\n              }\r\n            }\r\n            if (!signedOpt) throw new Error('App opt-in signing failed or cancelled')\r\n            // Normalize to blobs\r\n            let optBlobs: Uint8Array[] = []\r\n            if (Array.isArray(signedOpt)) {\r\n              if (signedOpt.length && typeof signedOpt[0] === 'string') optBlobs = (signedOpt as string[]).map(base64ToUint8Array)\r\n              else if (signedOpt.length && (signedOpt as any[])[0] instanceof Uint8Array) optBlobs = signedOpt as Uint8Array[]\r\n              else if (signedOpt.length && (signedOpt as any[])[0] && (signedOpt as any[])[0].blob) optBlobs = (signedOpt as any[]).map((s: any) => base64ToUint8Array(s.blob))\r\n              else {\r\n                // nested\r\n                const flat: string[] = []\r\n                for (const g of signedOpt as any[]) {\r\n                  if (Array.isArray(g)) {\r\n                    for (const s of g) {\r\n                      if (typeof s === 'string') flat.push(s)\r\n                      else if (s && s.blob) flat.push(s.blob)\r\n                    }\r\n                  }\r\n                }\r\n                if (flat.length) optBlobs = flat.map(base64ToUint8Array)\r\n              }\r\n            } else if (signedOpt && (signedOpt as any).signedTransactions) {\r\n              optBlobs = (signedOpt as any).signedTransactions.map((s: string) => base64ToUint8Array(s))\r\n            }\r\n            if (!optBlobs.length) throw new Error('No signed blob returned for opt-in')\r\n            const sendOpt = await algodClient.sendRawTransaction(optBlobs).do()\r\n          const optTxId = (sendOpt as any).txid || (sendOpt as any).txId || (sendOpt as any).txID\r\n          const conf = await waitForConfirmation(optTxId, 30)\r\n          } else {\r\n          }\r\n        } catch (optCheckErr) {\r\n          \r\n        }\r\n\r\n        payTxn = null\r\n        try {\r\n            // Track the runtime SDK instance so encoding uses the same build\r\n            let runtimeSdk: any = (algosdk as any)\r\n            // Dynamic import adapter: load the actual runtime export shape\r\n            const sdkModule: any = await import('algosdk')\r\n            const sdk = sdkModule?.default ?? sdkModule\r\n            runtimeSdk = sdk\r\n            \r\n\r\n          // Try helper-from-object with base64 genesisHash first\r\n            try {\r\n            payTxn = sdk.makePaymentTxnWithSuggestedParamsFromObject({\r\n              // Provide both naming variants to be compatible with different algosdk builds\r\n              from: sender,\r\n              sender: sender,\r\n              to: appAddr,\r\n              receiver: appAddr,\r\n              amount: microAlgos,\r\n              suggestedParams: suggestedParamsForTxn\r\n            })\r\n            \r\n            } catch (err1) {\r\n            \r\n            // Try with genesisHash as bytes\r\n              try {\r\n              const ghBytes = base64ToUint8Array(suggestedParamsForTxn.genesisHash)\r\n              const suggestedParamsBytes = { ...suggestedParamsForTxn, genesisHash: ghBytes }\r\n              payTxn = sdk.makePaymentTxnWithSuggestedParamsFromObject({\r\n                // Provide both naming variants to be compatible with different algosdk builds\r\n                from: sender,\r\n                sender: sender,\r\n                to: appAddr,\r\n                receiver: appAddr,\r\n                amount: microAlgos,\r\n                suggestedParams: suggestedParamsBytes\r\n              })\r\n              \r\n            } catch (err2) {\r\n              \r\n              // Fall back to manual Transaction constructor\r\n              try {\r\n                const TxConstructor = sdk.Transaction || sdk.transaction?.Transaction\r\n                if (!TxConstructor) throw new Error('Transaction constructor not found on sdk')\r\n                    const txObj: any = {\r\n                  type: 'pay',\r\n                  sender: sender,\r\n                  suggestedParams: {\r\n                    \t    flatFee: true,\r\n                    \t    fee: Number(suggestedParamsForTxn.fee || 1000),\r\n                    \t    minFee: 1000,\r\n                    firstValid: Number(suggestedParamsForTxn.firstValid || suggestedParamsForTxn.firstRound),\r\n                    lastValid: Number(suggestedParamsForTxn.lastValid || suggestedParamsForTxn.lastRound),\r\n                    genesisID: suggestedParamsForTxn.genesisID,\r\n                    genesisHash: base64ToUint8Array(suggestedParamsForTxn.genesisHash)\r\n                  },\r\n                  paymentParams: {\r\n                    receiver: appAddr,\r\n                    amount: microAlgos\r\n                  }\r\n                }\r\n                try {\r\n                  try {\r\n                  } catch (kErr) {\r\n                    // ignore\r\n                  }\r\n                  // If the constructor exposes a from_obj_for_encoding helper, try it\r\n                  if (typeof (TxConstructor as any).from_obj_for_encoding === 'function') {\r\n                    try {\r\n                      const enc = (TxConstructor as any).from_obj_for_encoding(txObj)\r\n                      payTxn = new TxConstructor(enc)\r\n                    } catch (fErr) {\r\n                      throw fErr\r\n                    }\r\n                  } else {\r\n                    // Try direct construction with string addresses\r\n                    try {\r\n                      payTxn = new TxConstructor(txObj)\r\n                    } catch (txErr1) {\r\n                      \r\n                        const txObjBytes: any = {\r\n                        type: 'pay',\r\n                        sender: decodedFrom,\r\n                        suggestedParams: {\r\n                          flatFee: true,\r\n                          fee: Number(suggestedParamsForTxn.fee || 1000),\r\n                          minFee: 1000,\r\n                          firstValid: Number(suggestedParamsForTxn.firstValid || suggestedParamsForTxn.firstRound),\r\n                          lastValid: Number(suggestedParamsForTxn.lastValid || suggestedParamsForTxn.lastRound),\r\n                          genesisID: suggestedParamsForTxn.genesisID,\r\n                          genesisHash: base64ToUint8Array(suggestedParamsForTxn.genesisHash)\r\n                        },\r\n                        paymentParams: {\r\n                          receiver: decodedTo,\r\n                          amount: microAlgos\r\n                        }\r\n                      }\r\n                      payTxn = new TxConstructor(txObjBytes)\r\n                    }\r\n                  }\r\n                    // If we reached here without payTxn, try low-level encoding to produce unsigned bytes\r\n                    if (!payTxn) {\r\n                      try {\r\n                        let unsignedBytes: Uint8Array | undefined\r\n                        // Try top-level helper\r\n                          if (typeof runtimeSdk.encodeUnsignedTransaction === 'function') {\r\n                            unsignedBytes = runtimeSdk.encodeUnsignedTransaction(txObj)\r\n                          } else if (runtimeSdk.encoding && typeof runtimeSdk.encoding.encodeUnsignedTransaction === 'function') {\r\n                            unsignedBytes = runtimeSdk.encoding.encodeUnsignedTransaction(txObj)\r\n                          } else if (TxConstructor && typeof (TxConstructor as any).from_obj_for_encoding === 'function') {\r\n                            const encObj = (TxConstructor as any).from_obj_for_encoding(txObj)\r\n                            if (encObj && typeof runtimeSdk.encodeUnsignedTransaction === 'function') unsignedBytes = runtimeSdk.encodeUnsignedTransaction(encObj)\r\n                        }\r\n                        if (unsignedBytes) {\r\n                          const unsignedB64single = uint8ArrayToBase64(unsignedBytes)\r\n                          // Pass directly to signing helper (single txn group will be handled later)\r\n                          const signedLow = await signTransactions([[unsignedB64single]])\r\n                          // normalize and send\r\n                          let blobs: Uint8Array[] = []\r\n                          if (Array.isArray(signedLow)) {\r\n                            if (typeof signedLow[0] === 'string') blobs = (signedLow as unknown as string[]).map(base64ToUint8Array)\r\n                          } else if (signedLow && (signedLow as any).signedTransactions) {\r\n                            blobs = (signedLow as any).signedTransactions.map(base64ToUint8Array)\r\n                          }\r\n                          if (blobs.length) {\r\n                                          const sendResult = await algodClient.sendRawTransaction(blobs).do()\r\n                                          const txId = (sendResult as any).txid || (sendResult as any).txId || (sendResult as any).txID\r\n                                          const confirmed = await waitForConfirmation(txId, 30)\r\n                            \r\n                                          // try to find created asset id in inner txns\r\n                                          try {\r\n                                            const info = await algodClient.pendingTransactionInformation(txId).do()\r\n                                            const createdId = findCreatedAssetId(info)\r\n                                            if (createdId) {\r\n                                              setCreatedAssetId(Number(createdId))\r\n                                              try { localStorage.setItem('pendingNFTClaim', String(createdId)) } catch (e) {}\r\n                                              setStatusMessage(`âœ… Stake confirmed! NFT Asset ID ${createdId} created. Complete the 2-step claim process below to receive your NFT.`)\r\n                                            } else {\r\n                                              setStatusMessage(`Stake confirmed (txid: ${txId})`)\r\n                                            }\r\n                                          } catch (e) {\r\n                                            setStatusMessage(`Stake confirmed (txid: ${txId})`)\r\n                                          }\r\n                                          setStatusType('success')\r\n                                          return\r\n                                        }\r\n                        }\r\n                      } catch (lowErr) {\r\n                        \r\n                      }\r\n                    }\r\n                } catch (errTry) {\r\n                  throw errTry\r\n                }\r\n              } catch (finalErr) {\r\n                \r\n                  // As a last resort, try loading the browser UMD build of algosdk from CDN\r\n                try {\r\n                  const sdkFromCdn: any = await new Promise((resolve, reject) => {\r\n                    if ((window as any).algosdk) return resolve((window as any).algosdk)\r\n                    const s = document.createElement('script')\r\n                    // prefer local vendored UMD build to avoid CDN/tracking issues\r\n                    const localPath = '/libs/algosdk.min.js'\r\n                    s.src = localPath\r\n                    s.onload = () => {\r\n                      if ((window as any).algosdk) return resolve((window as any).algosdk)\r\n                      // if local file loaded but didn't populate, fall back to CDN\r\n                      const cdn = 'https://cdn.jsdelivr.net/npm/algosdk/dist/browser/algosdk.min.js'\r\n                      const s2 = document.createElement('script')\r\n                      s2.src = cdn\r\n                      s2.onload = () => (window as any).algosdk ? resolve((window as any).algosdk) : reject(new Error('Loaded scripts but algosdk not available'))\r\n                      s2.onerror = () => reject(new Error('Failed to load algosdk from CDN'))\r\n                      document.head.appendChild(s2)\r\n                    }\r\n                    s.onerror = () => {\r\n                      // try CDN if local missing or blocked\r\n                      const cdn = 'https://cdn.jsdelivr.net/npm/algosdk/dist/browser/algosdk.min.js'\r\n                      const s2 = document.createElement('script')\r\n                      s2.src = cdn\r\n                      s2.onload = () => (window as any).algosdk ? resolve((window as any).algosdk) : reject(new Error('Loaded CDN but algosdk not available'))\r\n                      s2.onerror = () => reject(new Error('Failed to load algosdk from CDN and local'))\r\n                      document.head.appendChild(s2)\r\n                    }\r\n                    document.head.appendChild(s)\r\n                  })\r\n                  \r\n                  runtimeSdk = sdkFromCdn\r\n                  // Try helper-from-object on CDN sdk\r\n                    try {\r\n                    payTxn = sdkFromCdn.makePaymentTxnWithSuggestedParamsFromObject({\r\n                      // Provide both naming variants to be compatible with different algosdk builds\r\n                      from: sender,\r\n                      sender: sender,\r\n                      to: appAddr,\r\n                      receiver: appAddr,\r\n                      amount: microAlgos,\r\n                      suggestedParams: suggestedParamsForTxn\r\n                    })\r\n                    \r\n                  } catch (cdnErr) {\r\n                    \r\n                    // try manual constructor on CDN sdk\r\n                    const TxConstructorCdn = sdkFromCdn.Transaction || sdkFromCdn.transaction?.Transaction\r\n                    if (!TxConstructorCdn) throw new Error('Transaction constructor not found on CDN sdk')\r\n                    const txObjCdn = {\r\n                      type: 'pay',\r\n                      sender: sender,\r\n                      suggestedParams: {\r\n                        flatFee: true,\r\n                        fee: Number(suggestedParamsForTxn.fee || 1000),\r\n                        minFee: 1000,\r\n                        firstValid: Number(suggestedParamsForTxn.firstValid || suggestedParamsForTxn.firstRound),\r\n                        lastValid: Number(suggestedParamsForTxn.lastValid || suggestedParamsForTxn.lastRound),\r\n                        genesisID: suggestedParamsForTxn.genesisID,\r\n                        genesisHash: base64ToUint8Array(suggestedParamsForTxn.genesisHash)\r\n                      },\r\n                      paymentParams: {\r\n                        receiver: appAddr,\r\n                        amount: microAlgos\r\n                      }\r\n                    }\r\n                    payTxn = new TxConstructorCdn(txObjCdn)\r\n                  }\r\n                } catch (cdnFinalErr) {\r\n                  \r\n                  throw finalErr\r\n                }\r\n              }\r\n            }\r\n          }\r\n        } catch (err: any) {\r\n          throw err\r\n        }\r\n      } catch (err: any) {\r\n        throw err\r\n      }\r\n\r\n      // app call with \"stake\" and lock period seconds\r\n      const appArg = new TextEncoder().encode('stake')\r\n      const periodDays = parseInt(lockPeriod, 10)\r\n      const periodSecs = periodDays * 24 * 60 * 60\r\n      const periodArg = u64ToBytes(periodSecs)\r\n      let appTxn: any = null\r\n        try {\r\n        \r\n        appTxn = (algosdk as any).makeApplicationNoOpTxnFromObject({\r\n          // pass both sender and from fields for compatibility across algosdk builds\r\n          from: sender,\r\n          sender: sender,\r\n          suggestedParams: suggestedParamsForTxn,\r\n          appIndex: appId,\r\n          appArgs: [appArg, periodArg]\r\n        })\r\n        \r\n      } catch (appErr) {\r\n        \r\n        try {\r\n          const TxConstructorGlobal: any = (algosdk as any).Transaction || (algosdk as any).transaction?.Transaction\r\n          if (!TxConstructorGlobal) throw new Error('Transaction constructor not found on algosdk')\r\n            const appTxObj: any = {\r\n            type: 'appl',\r\n            sender: sender,\r\n            suggestedParams: {\r\n              flatFee: true,\r\n              fee: Number(suggestedParamsForTxn.fee || 1000),\r\n              minFee: 1000,\r\n              firstValid: Number(suggestedParamsForTxn.firstValid || suggestedParamsForTxn.firstRound),\r\n              lastValid: Number(suggestedParamsForTxn.lastValid || suggestedParamsForTxn.lastRound),\r\n              genesisID: suggestedParamsForTxn.genesisID,\r\n              genesisHash: base64ToUint8Array(suggestedParamsForTxn.genesisHash)\r\n            },\r\n            appCallParams: {\r\n              appIndex: appId,\r\n              onComplete: 0,\r\n              appArgs: [appArg, periodArg]\r\n            }\r\n          }\r\n          appTxn = new TxConstructorGlobal(appTxObj)\r\n        } catch (finalAppErr) {\r\n          throw finalAppErr\r\n        }\r\n      }\r\n\r\n      // assign group id\r\n      if (!payTxn) {\r\n        throw new Error('Payment transaction was not constructed')\r\n      }\r\n      const txns = [payTxn, appTxn]\r\n      algosdk.assignGroupID(txns)\r\n\r\n      // Try canonical encoder utility (fallback). If it fails, fall back to runtime encoder.\r\n      let unsignedB64: string[] = []\r\n      let usedFallback = false\r\n      try {\r\n        const { encodeTxnsCanonical } = await import('../lib/algorandEncode')\r\n        const encoded = encodeTxnsCanonical(txns, suggestedParamsForTxn, appId, appArg)\r\n        if (encoded && encoded.length) {\r\n          // sanity-check encoded lengths. Very small encodings indicate our canonical serializer produced an empty map\r\n          const sizes = encoded.map((u) => (u ? u.length : 0))\r\n          const minSize = Math.min(...sizes)\r\n          if (minSize > 8) {\r\n            unsignedB64 = encoded.map((u) => uint8ArrayToBase64(u))\r\n            usedFallback = true\r\n          } else {\r\n          \r\n          }\r\n        }\r\n      } catch (errEnc) {\r\n      }\r\n\r\n      if (!usedFallback) {\r\n        const encodeFn = (runtimeSdk && typeof runtimeSdk.encodeUnsignedTransaction === 'function')\r\n          ? runtimeSdk.encodeUnsignedTransaction.bind(runtimeSdk)\r\n          : (algosdk as any).encodeUnsignedTransaction?.bind(algosdk)\r\n        if (!encodeFn) throw new Error('No encode function available on algosdk runtime')\r\n        unsignedB64 = txns.map((t: any) => uint8ArrayToBase64(encodeFn(t)))\r\n      }\r\n\r\n      // Pera usually expects an array (or nested groups). Try passing a single group.\r\n      let signed: any = null\r\n      try {\r\n        signed = await signTransactions([unsignedB64])\r\n      } catch (signErr) {\r\n        signed = null\r\n      }\r\n\r\n      // If high-level helper returned nothing, try WalletConnect low-level RPC (mobile path)\r\n      if (!signed && typeof window !== 'undefined' && (window as any).__peraConnector) {\r\n        try {\r\n          const connector = (window as any).__peraConnector\r\n          \r\n\r\n          // Format according to Algorand WalletConnect spec:\r\n          // Each transaction must be { txn: base64, message?: string, signers?: string[] }\r\n          const formattedTxns = unsignedB64.map((txnB64: string) => ({\r\n            txn: txnB64,\r\n            message: 'Please sign this staking transaction'\r\n          }))\r\n\r\n            try {\r\n            const req = {\r\n              id: Date.now(),\r\n              jsonrpc: '2.0',\r\n              method: 'algo_signTxn',\r\n              // Pera expects a single argument: an array of txn objects\r\n              params: [formattedTxns]\r\n            }\r\n            const res = await connector.sendCustomRequest(req)\r\n            signed = res\r\n          } catch (e) {\r\n            \r\n          }\r\n        } catch (connErr) {\r\n        }\r\n      }\r\n\r\n      if (!signed) throw new Error('Signing failed or was cancelled')\r\n\r\n      // Normalize signed result to array of Uint8Array\r\n      let signedBlobs: Uint8Array[] = []\r\n      // Handle several possible shapes from Pera\r\n      if (Array.isArray(signed)) {\r\n        // several possible shapes: array of base64 strings, array of Uint8Array, array of objects with .blob, or nested groups\r\n        try {\r\n          if (signed.length && typeof (signed as any[])[0] === 'string') {\r\n            signedBlobs = (signed as any[]).map((s: any) => base64ToUint8Array(String(s)))\r\n          } else if (signed.length && (signed as any[])[0] instanceof Uint8Array) {\r\n            signedBlobs = signed as Uint8Array[]\r\n          } else if (signed.length && (signed as any[])[0] && (signed as any[])[0].blob) {\r\n            signedBlobs = (signed as any[]).map((s: any) => base64ToUint8Array(s.blob))\r\n          } else {\r\n            // try to flatten nested groups\r\n            const flat: string[] = []\r\n            for (const g of signed as any[]) {\r\n              if (Array.isArray(g)) {\r\n                for (const s of g) {\r\n                  if (typeof s === 'string') flat.push(s)\r\n                  else if (s && s.blob) flat.push(s.blob)\r\n                }\r\n              }\r\n            }\r\n            if (flat.length) signedBlobs = flat.map((s) => base64ToUint8Array(s))\r\n          }\r\n        } catch (e) {\r\n          // fall through to other handlers\r\n        }\r\n      } else if (signed && (signed as any).signedTransactions) {\r\n        const arr = (signed as any).signedTransactions as string[]\r\n        signedBlobs = arr.map((s) => base64ToUint8Array(s))\r\n      }\r\n      \r\n\r\n      if (!signedBlobs.length) throw new Error('No signed transactions returned')\r\n\r\n      // submit raw signed txns\r\n      const sendResult = await algodClient.sendRawTransaction(signedBlobs).do()\r\n      const txId = (sendResult as any).txid || (sendResult as any).txId || (sendResult as any).txID\r\n      if (!txId) throw new Error('No txid from send')\r\n\r\n      const confirmed = await waitForConfirmation(txId, 30)\r\n      \r\n      const confirmedRound = (confirmed as any)['confirmed-round'] ?? (confirmed as any).confirmedRound\r\n      \r\n      // Try multiple ways to get the created asset ID\r\n      let createdId: number | null = null\r\n      \r\n      try {\r\n        // First, try to get transaction info which may include inner transactions\r\n        const txInfo = await algodClient.pendingTransactionInformation(txId).do()\r\n        createdId = findCreatedAssetId(txInfo)\r\n        \r\n        // If not found, also check the confirmation result\r\n        if (!createdId) {\r\n          createdId = findCreatedAssetId(confirmed)\r\n        }\r\n        \r\n        if (createdId) {\r\n          try { localStorage.setItem('pendingNFTClaim', String(createdId)) } catch (e) {}\r\n          setStatusMessage(\r\n            <>\r\n              âœ… Stake confirmed! NFT Asset ID <span className=\"font-mono font-semibold\">{createdId}</span> created. Continue to the{' '}\r\n              <a href=\"/claim-nft\" className=\"text-primary underline hover:text-primary/80 font-semibold\">Claim NFT</a>{' '}\r\n              page to opt-in and receive your NFT.\r\n            </>\r\n          )\r\n        } else {\r\n          // Auto-detection failed - provide explorer link and guidance to Claim NFT page\r\n          const explorerUrl = `https://lora.algokit.io/testnet/transaction/${txId}`\r\n          setStatusMessage(\r\n            <>\r\n              âœ… Stake confirmed in round {confirmedRound}! Find your NFT Asset ID on the explorer:{' '}\r\n              <a href={explorerUrl} target=\"_blank\" rel=\"noopener noreferrer\" className=\"text-primary underline hover:text-primary/80 font-semibold\">\r\n                View on Explorer\r\n              </a>\r\n              . Then go to the{' '}\r\n              <a href=\"/claim-nft\" className=\"text-primary underline hover:text-primary/80 font-semibold\">Claim NFT</a>{' '}\r\n              page to complete the process.\r\n            </>\r\n          )\r\n          setStatusType('success')\r\n        }\r\n      } catch (e) {\r\n        console.error('Error getting asset ID:', e)\r\n        setStatusMessage(\r\n          <>\r\n            Stake confirmed in round {confirmedRound} (txid: {txId}). Proceed to the{' '}\r\n            <a href=\"/claim-nft\" className=\"text-primary underline hover:text-primary/80 font-semibold\">Claim NFT</a>{' '}\r\n            page once you have your NFT Asset ID.\r\n          </>\r\n        )\r\n      }\r\n      setStatusType('success')\r\n    } catch (e: any) {\r\n      setStatusMessage(`Stake failed: ${e?.message || String(e)}`)\r\n      setStatusType('error')\r\n    }\r\n    finally {\r\n      setIsProcessing(false)\r\n    }\r\n  }\r\n\r\n  \r\n\r\n  return (\r\n    <Card className=\"p-8 bg-card/50 backdrop-blur-sm border border-primary/10\">\r\n      <form className=\"space-y-8\" onSubmit={(e) => { e.preventDefault() }}>\r\n        {!isConnected && (\r\n          <Alert className=\"border border-yellow-500/20 bg-yellow-500/5\">\r\n            <AlertCircle className=\"h-4 w-4 text-yellow-600\" />\r\n            <AlertDescription className=\"ml-2 text-yellow-600\">\r\n              Please connect your wallet to stake\r\n            </AlertDescription>\r\n          </Alert>\r\n        )}\r\n\r\n        {/* ALGO Amount Input */}\r\n        <div className=\"space-y-3\">\r\n          <Label htmlFor=\"amount\" className=\"text-base font-semibold\">\r\n            ALGO Amount\r\n          </Label>\r\n          <div className=\"relative\">\r\n            <Input\r\n              id=\"amount\"\r\n              type=\"number\"\r\n              placeholder=\"Enter amount to stake\"\r\n              value={amount}\r\n              onChange={(e) => setAmount(e.target.value)}\r\n              disabled={!isConnected}\r\n              className=\"pr-12 h-12 text-lg\"\r\n            />\r\n            <span className=\"absolute right-4 top-1/2 -translate-y-1/2 text-muted-foreground font-medium\">\r\n              ALGO\r\n            </span>\r\n          </div>\r\n          <p className=\"text-sm text-muted-foreground\">{isConnected ? (balanceLoading ? 'Balance: loading...' : (algoBalance !== null ? `Balance: ${algoBalance} ALGO` : 'Balance: unavailable')) : 'Balance: 0 ALGO'}</p>\r\n        </div>\r\n\r\n        {/* Lock Period Selection */}\r\n        <div className=\"space-y-4\">\r\n          <Label className=\"text-base font-semibold\">Lock Period</Label>\r\n          <RadioGroup value={lockPeriod} onValueChange={(v) => setLockPeriod(v as LockPeriod)} disabled={!isConnected}>\r\n            <div className=\"space-y-3\">\r\n              {[\r\n                { value: \"30\", label: \"30 Days\", apr: \"8%\" },\r\n                { value: \"60\", label: \"60 Days\", apr: \"10%\" },\r\n                { value: \"90\", label: \"90 Days\", apr: \"12%\" }\r\n              ].map((option) => (\r\n                <div\r\n                  key={option.value}\r\n                  className=\"flex items-center p-4 border border-border rounded-lg cursor-pointer hover:border-primary/50 transition-colors\"\r\n                >\r\n                  <RadioGroupItem value={option.value} id={`period-${option.value}`} />\r\n                  <Label\r\n                    htmlFor={`period-${option.value}`}\r\n                    className=\"flex-1 ml-3 cursor-pointer flex justify-between items-center\"\r\n                  >\r\n                    <span>{option.label}</span>\r\n                    <span className=\"text-sm font-semibold text-primary\">Expected APR: {option.apr}</span>\r\n                  </Label>\r\n                </div>\r\n              ))}\r\n            </div>\r\n          </RadioGroup>\r\n        </div>\r\n\r\n        {/* Estimated Rewards */}\r\n        {amount && (\r\n          <div className=\"p-4 bg-primary/5 border border-primary/20 rounded-lg\">\r\n            <p className=\"text-sm text-muted-foreground mb-1\">Estimated Annual Rewards</p>\r\n            <p className=\"text-2xl font-bold text-primary\">{estimatedReward} NAAN</p>\r\n          </div>\r\n        )}\r\n\r\n        {statusMessage && (\r\n          <Alert className={`mt-4 ${statusType === 'error' ? 'border border-red-500/20 bg-red-500/5' : statusType === 'success' ? 'border border-green-500/20 bg-green-500/5' : 'border border-blue-500/20 bg-blue-500/5'}`}>\r\n            <AlertDescription className=\"ml-2\">\r\n              {statusMessage}\r\n            </AlertDescription>\r\n          </Alert>\r\n        )}\r\n\r\n        {/* Claim NFT flow moved to dedicated Claim NFT page */}\r\n\r\n        {/* If not connected, show a dedicated Connect Wallet button. If connect() fails (null), show install/enable guidance. */}\r\n        {!isConnected ? (\r\n          <div>\r\n            <Button\r\n              type=\"button\"\r\n              size=\"lg\"\r\n              className=\"w-full bg-primary hover:bg-primary/90 text-lg font-semibold py-6 flex items-center justify-center\"\r\n              onClick={async () => {\r\n                const addr = await connect()\r\n                if (!addr) setConnectFailed(true)\r\n                else setConnectFailed(false)\r\n              }}\r\n            >\r\n              <Wallet className=\"mr-2 h-5 w-5\" />\r\n              Connect Wallet\r\n            </Button>\r\n\r\n            {connectFailed && (\r\n              <Alert className=\"mt-4 border border-yellow-500/20 bg-yellow-500/5\">\r\n                <AlertCircle className=\"h-4 w-4 text-yellow-600\" />\r\n                <AlertDescription className=\"ml-2 text-yellow-600\">\r\n                  Couldn't connect to Pera Wallet. Please install or enable Pera Wallet and allow this site to connect. Get the wallet at{' '}\r\n                  <a className=\"underline\" href=\"https://perawallet.app\" target=\"_blank\" rel=\"noreferrer\">perawallet.app</a>\r\n                </AlertDescription>\r\n              </Alert>\r\n            )}\r\n          </div>\r\n        ) : (\r\n          <Button\r\n            type=\"button\"\r\n            size=\"lg\"\r\n            className=\"w-full bg-primary hover:bg-primary/90 text-lg font-semibold py-6\"\r\n            onClick={handleStake}\r\n            disabled={isProcessing || !amount || parseFloat(amount) < 1}\r\n          >\r\n            {isProcessing ? 'Processing...' : 'Stake ALGO'}\r\n          </Button>\r\n        )}\r\n\r\n        <p className=\"text-sm text-muted-foreground text-center\">\r\n          You will receive an NFT representing your staked position\r\n        </p>\r\n\r\n        \r\n      </form>\r\n    </Card>\r\n  )\r\n}\r\n","\"use client\"\r\n\r\nimport { Navbar } from \"@/components/navbar\"\r\nimport { Footer } from \"@/components/footer\"\r\nimport { StakingForm } from \"@/components/staking-form\"\r\nimport { StakingStats } from \"@/components/staking-stats\"\r\n\r\nexport default function StakePage() {\r\n  return (\r\n    <main className=\"min-h-screen flex flex-col\">\r\n      <Navbar />\r\n      \r\n      <section className=\"flex-1 py-20 px-4 sm:px-6 lg:px-8\">\r\n        <div className=\"container mx-auto max-w-5xl\">\r\n          <div className=\"mb-12\">\r\n            <h1 className=\"text-4xl sm:text-5xl font-bold mb-4 text-balance\">\r\n              Stake ALGO\r\n            </h1>\r\n            <p className=\"text-xl text-muted-foreground\">\r\n              Lock your tokens and earn rewards in Naan\r\n            </p>\r\n          </div>\r\n\r\n          <div className=\"grid lg:grid-cols-3 gap-8\">\r\n            {/* Main staking form */}\r\n            <div className=\"lg:col-span-2\">\r\n              <StakingForm />\r\n            </div>\r\n\r\n            {/* Side stats */}\r\n            <div>\r\n              <StakingStats />\r\n            </div>\r\n          </div>\r\n        </div>\r\n      </section>\r\n\r\n      <Footer />\r\n    </main>\r\n  )\r\n}\r\n","// packages/react/use-previous/src/usePrevious.tsx\nimport * as React from \"react\";\nfunction usePrevious(value) {\n  const ref = React.useRef({ value, previous: value });\n  return React.useMemo(() => {\n    if (ref.current.value !== value) {\n      ref.current.previous = ref.current.value;\n      ref.current.value = value;\n    }\n    return ref.current.previous;\n  }, [value]);\n}\nexport {\n  usePrevious\n};\n//# sourceMappingURL=index.mjs.map\n","import { Card } from \"@/components/ui/card\"\r\nimport { Info, CheckCircle2 } from 'lucide-react'\r\n\r\nexport function StakingStats() {\r\n  return (\r\n    <div className=\"space-y-4\">\r\n      {/* Important Info */}\r\n      <Card className=\"p-6 bg-yellow-500/5 border border-yellow-500/20 space-y-3\">\r\n        <div className=\"flex items-start gap-3\">\r\n          <Info className=\"w-5 h-5 text-yellow-600 dark:text-yellow-400 flex-shrink-0 mt-0.5\" />\r\n          <div>\r\n            <h3 className=\"font-semibold text-yellow-600 dark:text-yellow-400 mb-2\">Important</h3>\r\n            <p className=\"text-sm text-muted-foreground\">\r\n              After staking, you must complete a 2-step process to receive your NFT. The NFT proves ownership of your stake.\r\n            </p>\r\n          </div>\r\n        </div>\r\n      </Card>\r\n\r\n      {/* NFT Claim Process */}\r\n      <Card className=\"p-6 bg-card/50 backdrop-blur-sm border border-primary/10 space-y-4\">\r\n        <h3 className=\"font-semibold text-lg\">ðŸ“¦ How to Claim Your NFT</h3>\r\n        \r\n        <div className=\"space-y-4\">\r\n          {/* Step 1 */}\r\n          <div className=\"flex gap-3\">\r\n            <div className=\"flex-shrink-0 w-8 h-8 rounded-full bg-primary/10 flex items-center justify-center text-primary font-bold\">\r\n              1\r\n            </div>\r\n            <div>\r\n              <h4 className=\"font-semibold mb-1\">Stake ALGO</h4>\r\n              <p className=\"text-sm text-muted-foreground\">\r\n                Complete your stake transaction. An NFT will be created and its Asset ID will appear below.\r\n              </p>\r\n            </div>\r\n          </div>\r\n\r\n          {/* Step 2 */}\r\n          <div className=\"flex gap-3\">\r\n            <div className=\"flex-shrink-0 w-8 h-8 rounded-full bg-primary/10 flex items-center justify-center text-primary font-bold\">\r\n              2\r\n            </div>\r\n            <div>\r\n              <h4 className=\"font-semibold mb-1\">Opt-in to NFT</h4>\r\n              <p className=\"text-sm text-muted-foreground\">\r\n                Go to the <a href=\"/claim-nft\" className=\"underline text-primary\">Claim NFT</a> page and click \"1ï¸âƒ£ Opt-in to NFT\". This allows your wallet to receive the specific NFT asset.\r\n              </p>\r\n            </div>\r\n          </div>\r\n\r\n          {/* Step 3 */}\r\n          <div className=\"flex gap-3\">\r\n            <div className=\"flex-shrink-0 w-8 h-8 rounded-full bg-primary/10 flex items-center justify-center text-primary font-bold\">\r\n              3\r\n            </div>\r\n            <div>\r\n              <h4 className=\"font-semibold mb-1\">Claim NFT</h4>\r\n              <p className=\"text-sm text-muted-foreground\">\r\n                On the <a href=\"/claim-nft\" className=\"underline text-primary\">Claim NFT</a> page, click \"2ï¸âƒ£ Claim NFT\" to transfer the NFT to your wallet.\r\n              </p>\r\n            </div>\r\n          </div>\r\n\r\n          <div className=\"pt-3 border-t border-border\">\r\n            <div className=\"flex items-start gap-2\">\r\n              <CheckCircle2 className=\"w-4 h-4 text-green-600 flex-shrink-0 mt-0.5\" />\r\n              <p className=\"text-xs text-muted-foreground\">\r\n                <strong>Cost:</strong> ~0.002 ALGO in transaction fees for both steps\r\n              </p>\r\n            </div>\r\n            <div className=\"flex items-start gap-2 mt-2\">\r\n              <CheckCircle2 className=\"w-4 h-4 text-green-600 flex-shrink-0 mt-0.5\" />\r\n              <p className=\"text-xs text-muted-foreground\">\r\n                <strong>Time:</strong> ~30 seconds per transaction confirmation\r\n              </p>\r\n            </div>\r\n          </div>\r\n        </div>\r\n      </Card>\r\n\r\n      {/* What's Next */}\r\n      <Card className=\"p-6 bg-secondary/5 border border-secondary/20 space-y-3\">\r\n        <h3 className=\"font-semibold\">What Happens Next?</h3>\r\n        <ul className=\"text-sm text-muted-foreground space-y-2\">\r\n          <li className=\"flex gap-2\">\r\n            <span className=\"text-primary font-bold\">â€¢</span>\r\n            <span>Your ALGO is locked in the smart contract</span>\r\n          </li>\r\n          <li className=\"flex gap-2\">\r\n            <span className=\"text-primary font-bold\">â€¢</span>\r\n            <span>The NFT represents your stake position</span>\r\n          </li>\r\n          <li className=\"flex gap-2\">\r\n            <span className=\"text-primary font-bold\">â€¢</span>\r\n            <span>After lock period ends, use the NFT to redeem your ALGO + rewards</span>\r\n          </li>\r\n          <li className=\"flex gap-2\">\r\n            <span className=\"text-primary font-bold\">â€¢</span>\r\n            <span>Go to the \"Unstake\" page and enter your NFT Asset ID to redeem</span>\r\n          </li>\r\n        </ul>\r\n      </Card>\r\n    </div>\r\n  )\r\n}\r\n","import createLucideIcon from '../createLucideIcon';\n\n/**\n * @component @name Info\n * @description Lucide SVG icon component, renders SVG Element with children.\n *\n * @preview ![img](data:image/svg+xml;base64,PHN2ZyAgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIgogIHdpZHRoPSIyNCIKICBoZWlnaHQ9IjI0IgogIHZpZXdCb3g9IjAgMCAyNCAyNCIKICBmaWxsPSJub25lIgogIHN0cm9rZT0iIzAwMCIgc3R5bGU9ImJhY2tncm91bmQtY29sb3I6ICNmZmY7IGJvcmRlci1yYWRpdXM6IDJweCIKICBzdHJva2Utd2lkdGg9IjIiCiAgc3Ryb2tlLWxpbmVjYXA9InJvdW5kIgogIHN0cm9rZS1saW5lam9pbj0icm91bmQiCj4KICA8Y2lyY2xlIGN4PSIxMiIgY3k9IjEyIiByPSIxMCIgLz4KICA8cGF0aCBkPSJNMTIgMTZ2LTQiIC8+CiAgPHBhdGggZD0iTTEyIDhoLjAxIiAvPgo8L3N2Zz4K) - https://lucide.dev/icons/info\n * @see https://lucide.dev/guide/packages/lucide-react - Documentation\n *\n * @param {Object} props - Lucide icons props and any valid SVG attribute\n * @returns {JSX.Element} JSX Element\n *\n */\nconst Info = createLucideIcon('Info', [\n  ['circle', { cx: '12', cy: '12', r: '10', key: '1mglay' }],\n  ['path', { d: 'M12 16v-4', key: '1dtifu' }],\n  ['path', { d: 'M12 8h.01', key: 'e9boi3' }],\n]);\n\nexport default Info;\n","import createLucideIcon from '../createLucideIcon';\n\n/**\n * @component @name CircleCheck\n * @description Lucide SVG icon component, renders SVG Element with children.\n *\n * @preview ![img](data:image/svg+xml;base64,PHN2ZyAgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIgogIHdpZHRoPSIyNCIKICBoZWlnaHQ9IjI0IgogIHZpZXdCb3g9IjAgMCAyNCAyNCIKICBmaWxsPSJub25lIgogIHN0cm9rZT0iIzAwMCIgc3R5bGU9ImJhY2tncm91bmQtY29sb3I6ICNmZmY7IGJvcmRlci1yYWRpdXM6IDJweCIKICBzdHJva2Utd2lkdGg9IjIiCiAgc3Ryb2tlLWxpbmVjYXA9InJvdW5kIgogIHN0cm9rZS1saW5lam9pbj0icm91bmQiCj4KICA8Y2lyY2xlIGN4PSIxMiIgY3k9IjEyIiByPSIxMCIgLz4KICA8cGF0aCBkPSJtOSAxMiAyIDIgNC00IiAvPgo8L3N2Zz4K) - https://lucide.dev/icons/circle-check\n * @see https://lucide.dev/guide/packages/lucide-react - Documentation\n *\n * @param {Object} props - Lucide icons props and any valid SVG attribute\n * @returns {JSX.Element} JSX Element\n *\n */\nconst CircleCheck = createLucideIcon('CircleCheck', [\n  ['circle', { cx: '12', cy: '12', r: '10', key: '1mglay' }],\n  ['path', { d: 'm9 12 2 2 4-4', key: 'dzmm74' }],\n]);\n\nexport default CircleCheck;\n","import * as React from 'react';\nimport { composeEventHandlers } from '@radix-ui/primitive';\nimport { useComposedRefs } from '@radix-ui/react-compose-refs';\nimport { createContextScope } from '@radix-ui/react-context';\nimport { Primitive } from '@radix-ui/react-primitive';\nimport * as RovingFocusGroup from '@radix-ui/react-roving-focus';\nimport { createRovingFocusGroupScope } from '@radix-ui/react-roving-focus';\nimport { useControllableState } from '@radix-ui/react-use-controllable-state';\nimport { useDirection } from '@radix-ui/react-direction';\nimport { Radio, RadioIndicator, createRadioScope } from './Radio';\n\nimport type { Scope } from '@radix-ui/react-context';\n\nconst ARROW_KEYS = ['ArrowUp', 'ArrowDown', 'ArrowLeft', 'ArrowRight'];\n\n/* -------------------------------------------------------------------------------------------------\n * RadioGroup\n * -----------------------------------------------------------------------------------------------*/\nconst RADIO_GROUP_NAME = 'RadioGroup';\n\ntype ScopedProps<P> = P & { __scopeRadioGroup?: Scope };\nconst [createRadioGroupContext, createRadioGroupScope] = createContextScope(RADIO_GROUP_NAME, [\n  createRovingFocusGroupScope,\n  createRadioScope,\n]);\nconst useRovingFocusGroupScope = createRovingFocusGroupScope();\nconst useRadioScope = createRadioScope();\n\ntype RadioGroupContextValue = {\n  name?: string;\n  required: boolean;\n  disabled: boolean;\n  value?: string;\n  onValueChange(value: string): void;\n};\n\nconst [RadioGroupProvider, useRadioGroupContext] =\n  createRadioGroupContext<RadioGroupContextValue>(RADIO_GROUP_NAME);\n\ntype RadioGroupElement = React.ElementRef<typeof Primitive.div>;\ntype RovingFocusGroupProps = React.ComponentPropsWithoutRef<typeof RovingFocusGroup.Root>;\ntype PrimitiveDivProps = React.ComponentPropsWithoutRef<typeof Primitive.div>;\ninterface RadioGroupProps extends PrimitiveDivProps {\n  name?: RadioGroupContextValue['name'];\n  required?: React.ComponentPropsWithoutRef<typeof Radio>['required'];\n  disabled?: React.ComponentPropsWithoutRef<typeof Radio>['disabled'];\n  dir?: RovingFocusGroupProps['dir'];\n  orientation?: RovingFocusGroupProps['orientation'];\n  loop?: RovingFocusGroupProps['loop'];\n  defaultValue?: string;\n  value?: RadioGroupContextValue['value'];\n  onValueChange?: RadioGroupContextValue['onValueChange'];\n}\n\nconst RadioGroup = React.forwardRef<RadioGroupElement, RadioGroupProps>(\n  (props: ScopedProps<RadioGroupProps>, forwardedRef) => {\n    const {\n      __scopeRadioGroup,\n      name,\n      defaultValue,\n      value: valueProp,\n      required = false,\n      disabled = false,\n      orientation,\n      dir,\n      loop = true,\n      onValueChange,\n      ...groupProps\n    } = props;\n    const rovingFocusGroupScope = useRovingFocusGroupScope(__scopeRadioGroup);\n    const direction = useDirection(dir);\n    const [value, setValue] = useControllableState({\n      prop: valueProp,\n      defaultProp: defaultValue,\n      onChange: onValueChange,\n    });\n\n    return (\n      <RadioGroupProvider\n        scope={__scopeRadioGroup}\n        name={name}\n        required={required}\n        disabled={disabled}\n        value={value}\n        onValueChange={setValue}\n      >\n        <RovingFocusGroup.Root\n          asChild\n          {...rovingFocusGroupScope}\n          orientation={orientation}\n          dir={direction}\n          loop={loop}\n        >\n          <Primitive.div\n            role=\"radiogroup\"\n            aria-required={required}\n            aria-orientation={orientation}\n            data-disabled={disabled ? '' : undefined}\n            dir={direction}\n            {...groupProps}\n            ref={forwardedRef}\n          />\n        </RovingFocusGroup.Root>\n      </RadioGroupProvider>\n    );\n  }\n);\n\nRadioGroup.displayName = RADIO_GROUP_NAME;\n\n/* -------------------------------------------------------------------------------------------------\n * RadioGroupItem\n * -----------------------------------------------------------------------------------------------*/\n\nconst ITEM_NAME = 'RadioGroupItem';\n\ntype RadioGroupItemElement = React.ElementRef<typeof Radio>;\ntype RadioProps = React.ComponentPropsWithoutRef<typeof Radio>;\ninterface RadioGroupItemProps extends Omit<RadioProps, 'onCheck' | 'name'> {\n  value: string;\n}\n\nconst RadioGroupItem = React.forwardRef<RadioGroupItemElement, RadioGroupItemProps>(\n  (props: ScopedProps<RadioGroupItemProps>, forwardedRef) => {\n    const { __scopeRadioGroup, disabled, ...itemProps } = props;\n    const context = useRadioGroupContext(ITEM_NAME, __scopeRadioGroup);\n    const isDisabled = context.disabled || disabled;\n    const rovingFocusGroupScope = useRovingFocusGroupScope(__scopeRadioGroup);\n    const radioScope = useRadioScope(__scopeRadioGroup);\n    const ref = React.useRef<React.ElementRef<typeof Radio>>(null);\n    const composedRefs = useComposedRefs(forwardedRef, ref);\n    const checked = context.value === itemProps.value;\n    const isArrowKeyPressedRef = React.useRef(false);\n\n    React.useEffect(() => {\n      const handleKeyDown = (event: KeyboardEvent) => {\n        if (ARROW_KEYS.includes(event.key)) {\n          isArrowKeyPressedRef.current = true;\n        }\n      };\n      const handleKeyUp = () => (isArrowKeyPressedRef.current = false);\n      document.addEventListener('keydown', handleKeyDown);\n      document.addEventListener('keyup', handleKeyUp);\n      return () => {\n        document.removeEventListener('keydown', handleKeyDown);\n        document.removeEventListener('keyup', handleKeyUp);\n      };\n    }, []);\n\n    return (\n      <RovingFocusGroup.Item\n        asChild\n        {...rovingFocusGroupScope}\n        focusable={!isDisabled}\n        active={checked}\n      >\n        <Radio\n          disabled={isDisabled}\n          required={context.required}\n          checked={checked}\n          {...radioScope}\n          {...itemProps}\n          name={context.name}\n          ref={composedRefs}\n          onCheck={() => context.onValueChange(itemProps.value)}\n          onKeyDown={composeEventHandlers((event) => {\n            // According to WAI ARIA, radio groups don't activate items on enter keypress\n            if (event.key === 'Enter') event.preventDefault();\n          })}\n          onFocus={composeEventHandlers(itemProps.onFocus, () => {\n            /**\n             * Our `RovingFocusGroup` will focus the radio when navigating with arrow keys\n             * and we need to \"check\" it in that case. We click it to \"check\" it (instead\n             * of updating `context.value`) so that the radio change event fires.\n             */\n            if (isArrowKeyPressedRef.current) ref.current?.click();\n          })}\n        />\n      </RovingFocusGroup.Item>\n    );\n  }\n);\n\nRadioGroupItem.displayName = ITEM_NAME;\n\n/* -------------------------------------------------------------------------------------------------\n * RadioGroupIndicator\n * -----------------------------------------------------------------------------------------------*/\n\nconst INDICATOR_NAME = 'RadioGroupIndicator';\n\ntype RadioGroupIndicatorElement = React.ElementRef<typeof RadioIndicator>;\ntype RadioIndicatorProps = React.ComponentPropsWithoutRef<typeof RadioIndicator>;\ninterface RadioGroupIndicatorProps extends RadioIndicatorProps {}\n\nconst RadioGroupIndicator = React.forwardRef<RadioGroupIndicatorElement, RadioGroupIndicatorProps>(\n  (props: ScopedProps<RadioGroupIndicatorProps>, forwardedRef) => {\n    const { __scopeRadioGroup, ...indicatorProps } = props;\n    const radioScope = useRadioScope(__scopeRadioGroup);\n    return <RadioIndicator {...radioScope} {...indicatorProps} ref={forwardedRef} />;\n  }\n);\n\nRadioGroupIndicator.displayName = INDICATOR_NAME;\n\n/* ---------------------------------------------------------------------------------------------- */\n\nconst Root = RadioGroup;\nconst Item = RadioGroupItem;\nconst Indicator = RadioGroupIndicator;\n\nexport {\n  createRadioGroupScope,\n  //\n  RadioGroup,\n  RadioGroupItem,\n  RadioGroupIndicator,\n  //\n  Root,\n  Item,\n  Indicator,\n};\nexport type { RadioGroupProps, RadioGroupItemProps, RadioGroupIndicatorProps };\n"],"names":[],"mappings":"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","ignoreList":[0,4,6,7,8]}