(globalThis.TURBOPACK||(globalThis.TURBOPACK=[])).push(["object"==typeof document?document.currentScript:void 0,38840,(t,e,r)=>{"use strict";function i(t){let e;return"undefined"!=typeof window&&void 0!==window[t]&&(e=window[t]),e}function n(t){let e=i(t);if(!e)throw Error(`${t} is not defined in Window`);return e}Object.defineProperty(r,"__esModule",{value:!0}),r.getLocalStorage=r.getLocalStorageOrThrow=r.getCrypto=r.getCryptoOrThrow=r.getLocation=r.getLocationOrThrow=r.getNavigator=r.getNavigatorOrThrow=r.getDocument=r.getDocumentOrThrow=r.getFromWindowOrThrow=r.getFromWindow=void 0,r.getFromWindow=i,r.getFromWindowOrThrow=n,r.getDocumentOrThrow=function(){return n("document")},r.getDocument=function(){return i("document")},r.getNavigatorOrThrow=function(){return n("navigator")},r.getNavigator=function(){return i("navigator")},r.getLocationOrThrow=function(){return n("location")},r.getLocation=function(){return i("location")},r.getCryptoOrThrow=function(){return n("crypto")},r.getCrypto=function(){return i("crypto")},r.getLocalStorageOrThrow=function(){return n("localStorage")},r.getLocalStorage=function(){return i("localStorage")}},21568,(t,e,r)=>{"use strict";Object.defineProperty(r,"__esModule",{value:!0}),r.getWindowMetadata=void 0;let i=t.r(38840);r.getWindowMetadata=function(){let t,e,r;try{t=i.getDocumentOrThrow(),e=i.getLocationOrThrow()}catch(t){return null}function n(...e){let r=t.getElementsByTagName("meta");for(let t=0;t<r.length;t++){let i=r[t],n=["itemprop","property","name"].map(t=>i.getAttribute(t)).filter(t=>!!t&&e.includes(t));if(n.length&&n){let t=i.getAttribute("content");if(t)return t}}return""}let o=((r=n("name","og:site_name","og:title","twitter:title"))||(r=t.title),r),s=n("description","og:description","twitter:description","keywords"),a=e.origin;return{description:s,url:a,icons:function(){let r=t.getElementsByTagName("link"),i=[];for(let t=0;t<r.length;t++){let n=r[t],o=n.getAttribute("rel");if(o&&o.toLowerCase().indexOf("icon")>-1){let t=n.getAttribute("href");if(t)if(-1===t.toLowerCase().indexOf("https:")&&-1===t.toLowerCase().indexOf("http:")&&0!==t.indexOf("//")){let r=e.protocol+"//"+e.host;if(0===t.indexOf("/"))r+=t;else{let i=e.pathname.split("/");i.pop(),r+=i.join("/")+"/"+t}i.push(r)}else if(0===t.indexOf("//")){let r=e.protocol+t;i.push(r)}else i.push(t)}}return i}(),name:o}}},28422,(t,e,r)=>{!function(t,e){"use strict";function r(t,e){if(!t)throw Error(e||"Assertion failed")}function i(t,e){t.super_=e;var r=function(){};r.prototype=e.prototype,t.prototype=new r,t.prototype.constructor=t}function n(t,e,r){if(n.isBN(t))return t;this.negative=0,this.words=null,this.length=0,this.red=null,null!==t&&(("le"===e||"be"===e)&&(r=e,e=10),this._init(t||0,e||10,r||"be"))}t.exports=n,n.BN=n,n.wordSize=26;try{a=void 0}catch(t){}function o(t,e,r){for(var i=0,n=Math.min(t.length,r),o=e;o<n;o++){var s=t.charCodeAt(o)-48;i<<=4,s>=49&&s<=54?i|=s-49+10:s>=17&&s<=22?i|=s-17+10:i|=15&s}return i}function s(t,e,r,i){for(var n=0,o=Math.min(t.length,r),s=e;s<o;s++){var a=t.charCodeAt(s)-48;n*=i,a>=49?n+=a-49+10:a>=17?n+=a-17+10:n+=a}return n}n.isBN=function(t){return t instanceof n||null!==t&&"object"==typeof t&&t.constructor.wordSize===n.wordSize&&Array.isArray(t.words)},n.max=function(t,e){return t.cmp(e)>0?t:e},n.min=function(t,e){return 0>t.cmp(e)?t:e},n.prototype._init=function(t,e,i){if("number"==typeof t)return this._initNumber(t,e,i);if("object"==typeof t)return this._initArray(t,e,i);"hex"===e&&(e=16),r(e===(0|e)&&e>=2&&e<=36);var n=0;"-"===(t=t.toString().replace(/\s+/g,""))[0]&&n++,16===e?this._parseHex(t,n):this._parseBase(t,e,n),"-"===t[0]&&(this.negative=1),this.strip(),"le"===i&&this._initArray(this.toArray(),e,i)},n.prototype._initNumber=function(t,e,i){t<0&&(this.negative=1,t=-t),t<0x4000000?(this.words=[0x3ffffff&t],this.length=1):t<0x10000000000000?(this.words=[0x3ffffff&t,t/0x4000000&0x3ffffff],this.length=2):(r(t<0x20000000000000),this.words=[0x3ffffff&t,t/0x4000000&0x3ffffff,1],this.length=3),"le"===i&&this._initArray(this.toArray(),e,i)},n.prototype._initArray=function(t,e,i){if(r("number"==typeof t.length),t.length<=0)return this.words=[0],this.length=1,this;this.length=Math.ceil(t.length/3),this.words=Array(this.length);for(var n,o,s=0;s<this.length;s++)this.words[s]=0;var a=0;if("be"===i)for(s=t.length-1,n=0;s>=0;s-=3)o=t[s]|t[s-1]<<8|t[s-2]<<16,this.words[n]|=o<<a&0x3ffffff,this.words[n+1]=o>>>26-a&0x3ffffff,(a+=24)>=26&&(a-=26,n++);else if("le"===i)for(s=0,n=0;s<t.length;s+=3)o=t[s]|t[s+1]<<8|t[s+2]<<16,this.words[n]|=o<<a&0x3ffffff,this.words[n+1]=o>>>26-a&0x3ffffff,(a+=24)>=26&&(a-=26,n++);return this.strip()},n.prototype._parseHex=function(t,e){this.length=Math.ceil((t.length-e)/6),this.words=Array(this.length);for(var r,i,n=0;n<this.length;n++)this.words[n]=0;var s=0;for(n=t.length-6,r=0;n>=e;n-=6)i=o(t,n,n+6),this.words[r]|=i<<s&0x3ffffff,this.words[r+1]|=i>>>26-s&4194303,(s+=24)>=26&&(s-=26,r++);n+6!==e&&(i=o(t,e,n+6),this.words[r]|=i<<s&0x3ffffff,this.words[r+1]|=i>>>26-s&4194303),this.strip()},n.prototype._parseBase=function(t,e,r){this.words=[0],this.length=1;for(var i=0,n=1;n<=0x3ffffff;n*=e)i++;i--,n=n/e|0;for(var o=t.length-r,a=o%i,u=Math.min(o,o-a)+r,h=0,l=r;l<u;l+=i)h=s(t,l,l+i,e),this.imuln(n),this.words[0]+h<0x4000000?this.words[0]+=h:this._iaddn(h);if(0!==a){var f=1;for(h=s(t,l,t.length,e),l=0;l<a;l++)f*=e;this.imuln(f),this.words[0]+h<0x4000000?this.words[0]+=h:this._iaddn(h)}},n.prototype.copy=function(t){t.words=Array(this.length);for(var e=0;e<this.length;e++)t.words[e]=this.words[e];t.length=this.length,t.negative=this.negative,t.red=this.red},n.prototype.clone=function(){var t=new n(null);return this.copy(t),t},n.prototype._expand=function(t){for(;this.length<t;)this.words[this.length++]=0;return this},n.prototype.strip=function(){for(;this.length>1&&0===this.words[this.length-1];)this.length--;return this._normSign()},n.prototype._normSign=function(){return 1===this.length&&0===this.words[0]&&(this.negative=0),this},n.prototype.inspect=function(){return(this.red?"<BN-R: ":"<BN: ")+this.toString(16)+">"};var a,u=["","0","00","000","0000","00000","000000","0000000","00000000","000000000","0000000000","00000000000","000000000000","0000000000000","00000000000000","000000000000000","0000000000000000","00000000000000000","000000000000000000","0000000000000000000","00000000000000000000","000000000000000000000","0000000000000000000000","00000000000000000000000","000000000000000000000000","0000000000000000000000000"],h=[0,0,25,16,12,11,10,9,8,8,7,7,7,7,6,6,6,6,6,6,6,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5],l=[0,0,0x2000000,0x290d741,0x1000000,0x2e90edd,0x39aa400,0x267bf47,0x1000000,0x290d741,1e7,0x12959c3,0x222c000,0x3bd7765,7529536,0xadcea1,0x1000000,0x1704f61,0x206fc40,0x2cddcf9,64e6,4084101,5153632,6436343,7962624,9765625,0xb54ba0,0xdaf26b,0x1069c00,0x138f9ad,243e5,0x1b4d89f,0x2000000,0x25528a1,0x2b54a20,0x3216b93,0x39aa400];function f(t,e,r){r.negative=e.negative^t.negative;var i=t.length+e.length|0;r.length=i,i=i-1|0;var n=0|t.words[0],o=0|e.words[0],s=n*o,a=0x3ffffff&s,u=s/0x4000000|0;r.words[0]=a;for(var h=1;h<i;h++){for(var l=u>>>26,f=0x3ffffff&u,c=Math.min(h,e.length-1),d=Math.max(0,h-t.length+1);d<=c;d++){var p=h-d|0;l+=(s=(n=0|t.words[p])*(o=0|e.words[d])+f)/0x4000000|0,f=0x3ffffff&s}r.words[h]=0|f,u=0|l}return 0!==u?r.words[h]=0|u:r.length--,r.strip()}n.prototype.toString=function(t,e){if(e=0|e||1,16===(t=t||10)||"hex"===t){for(var i="",n=0,o=0,s=0;s<this.length;s++){var a=this.words[s],f=((a<<n|o)&0xffffff).toString(16);i=0!=(o=a>>>24-n&0xffffff)||s!==this.length-1?u[6-f.length]+f+i:f+i,(n+=2)>=26&&(n-=26,s--)}for(0!==o&&(i=o.toString(16)+i);i.length%e!=0;)i="0"+i;return 0!==this.negative&&(i="-"+i),i}if(t===(0|t)&&t>=2&&t<=36){var c=h[t],d=l[t];i="";var p=this.clone();for(p.negative=0;!p.isZero();){var g=p.modn(d).toString(t);i=(p=p.idivn(d)).isZero()?g+i:u[c-g.length]+g+i}for(this.isZero()&&(i="0"+i);i.length%e!=0;)i="0"+i;return 0!==this.negative&&(i="-"+i),i}r(!1,"Base should be between 2 and 36")},n.prototype.toNumber=function(){var t=this.words[0];return 2===this.length?t+=0x4000000*this.words[1]:3===this.length&&1===this.words[2]?t+=0x10000000000000+0x4000000*this.words[1]:this.length>2&&r(!1,"Number can only safely store up to 53 bits"),0!==this.negative?-t:t},n.prototype.toJSON=function(){return this.toString(16)},n.prototype.toBuffer=function(t,e){return r(void 0!==a),this.toArrayLike(a,t,e)},n.prototype.toArray=function(t,e){return this.toArrayLike(Array,t,e)},n.prototype.toArrayLike=function(t,e,i){var n,o,s=this.byteLength(),a=i||Math.max(1,s);r(s<=a,"byte array longer than desired length"),r(a>0,"Requested array length <= 0"),this.strip();var u=new t(a),h=this.clone();if("le"===e){for(o=0;!h.isZero();o++)n=h.andln(255),h.iushrn(8),u[o]=n;for(;o<a;o++)u[o]=0}else{for(o=0;o<a-s;o++)u[o]=0;for(o=0;!h.isZero();o++)n=h.andln(255),h.iushrn(8),u[a-o-1]=n}return u},Math.clz32?n.prototype._countBits=function(t){return 32-Math.clz32(t)}:n.prototype._countBits=function(t){var e=t,r=0;return e>=4096&&(r+=13,e>>>=13),e>=64&&(r+=7,e>>>=7),e>=8&&(r+=4,e>>>=4),e>=2&&(r+=2,e>>>=2),r+e},n.prototype._zeroBits=function(t){if(0===t)return 26;var e=t,r=0;return(8191&e)==0&&(r+=13,e>>>=13),(127&e)==0&&(r+=7,e>>>=7),(15&e)==0&&(r+=4,e>>>=4),(3&e)==0&&(r+=2,e>>>=2),(1&e)==0&&r++,r},n.prototype.bitLength=function(){var t=this.words[this.length-1],e=this._countBits(t);return(this.length-1)*26+e},n.prototype.zeroBits=function(){if(this.isZero())return 0;for(var t=0,e=0;e<this.length;e++){var r=this._zeroBits(this.words[e]);if(t+=r,26!==r)break}return t},n.prototype.byteLength=function(){return Math.ceil(this.bitLength()/8)},n.prototype.toTwos=function(t){return 0!==this.negative?this.abs().inotn(t).iaddn(1):this.clone()},n.prototype.fromTwos=function(t){return this.testn(t-1)?this.notn(t).iaddn(1).ineg():this.clone()},n.prototype.isNeg=function(){return 0!==this.negative},n.prototype.neg=function(){return this.clone().ineg()},n.prototype.ineg=function(){return this.isZero()||(this.negative^=1),this},n.prototype.iuor=function(t){for(;this.length<t.length;)this.words[this.length++]=0;for(var e=0;e<t.length;e++)this.words[e]=this.words[e]|t.words[e];return this.strip()},n.prototype.ior=function(t){return r((this.negative|t.negative)==0),this.iuor(t)},n.prototype.or=function(t){return this.length>t.length?this.clone().ior(t):t.clone().ior(this)},n.prototype.uor=function(t){return this.length>t.length?this.clone().iuor(t):t.clone().iuor(this)},n.prototype.iuand=function(t){var e;e=this.length>t.length?t:this;for(var r=0;r<e.length;r++)this.words[r]=this.words[r]&t.words[r];return this.length=e.length,this.strip()},n.prototype.iand=function(t){return r((this.negative|t.negative)==0),this.iuand(t)},n.prototype.and=function(t){return this.length>t.length?this.clone().iand(t):t.clone().iand(this)},n.prototype.uand=function(t){return this.length>t.length?this.clone().iuand(t):t.clone().iuand(this)},n.prototype.iuxor=function(t){this.length>t.length?(e=this,r=t):(e=t,r=this);for(var e,r,i=0;i<r.length;i++)this.words[i]=e.words[i]^r.words[i];if(this!==e)for(;i<e.length;i++)this.words[i]=e.words[i];return this.length=e.length,this.strip()},n.prototype.ixor=function(t){return r((this.negative|t.negative)==0),this.iuxor(t)},n.prototype.xor=function(t){return this.length>t.length?this.clone().ixor(t):t.clone().ixor(this)},n.prototype.uxor=function(t){return this.length>t.length?this.clone().iuxor(t):t.clone().iuxor(this)},n.prototype.inotn=function(t){r("number"==typeof t&&t>=0);var e=0|Math.ceil(t/26),i=t%26;this._expand(e),i>0&&e--;for(var n=0;n<e;n++)this.words[n]=0x3ffffff&~this.words[n];return i>0&&(this.words[n]=~this.words[n]&0x3ffffff>>26-i),this.strip()},n.prototype.notn=function(t){return this.clone().inotn(t)},n.prototype.setn=function(t,e){r("number"==typeof t&&t>=0);var i=t/26|0,n=t%26;return this._expand(i+1),e?this.words[i]=this.words[i]|1<<n:this.words[i]=this.words[i]&~(1<<n),this.strip()},n.prototype.iadd=function(t){if(0!==this.negative&&0===t.negative)return this.negative=0,e=this.isub(t),this.negative^=1,this._normSign();if(0===this.negative&&0!==t.negative)return t.negative=0,e=this.isub(t),t.negative=1,e._normSign();this.length>t.length?(r=this,i=t):(r=t,i=this);for(var e,r,i,n=0,o=0;o<i.length;o++)e=(0|r.words[o])+(0|i.words[o])+n,this.words[o]=0x3ffffff&e,n=e>>>26;for(;0!==n&&o<r.length;o++)e=(0|r.words[o])+n,this.words[o]=0x3ffffff&e,n=e>>>26;if(this.length=r.length,0!==n)this.words[this.length]=n,this.length++;else if(r!==this)for(;o<r.length;o++)this.words[o]=r.words[o];return this},n.prototype.add=function(t){var e;return 0!==t.negative&&0===this.negative?(t.negative=0,e=this.sub(t),t.negative^=1,e):0===t.negative&&0!==this.negative?(this.negative=0,e=t.sub(this),this.negative=1,e):this.length>t.length?this.clone().iadd(t):t.clone().iadd(this)},n.prototype.isub=function(t){if(0!==t.negative){t.negative=0;var e,r,i=this.iadd(t);return t.negative=1,i._normSign()}if(0!==this.negative)return this.negative=0,this.iadd(t),this.negative=1,this._normSign();var n=this.cmp(t);if(0===n)return this.negative=0,this.length=1,this.words[0]=0,this;n>0?(e=this,r=t):(e=t,r=this);for(var o=0,s=0;s<r.length;s++)o=(i=(0|e.words[s])-(0|r.words[s])+o)>>26,this.words[s]=0x3ffffff&i;for(;0!==o&&s<e.length;s++)o=(i=(0|e.words[s])+o)>>26,this.words[s]=0x3ffffff&i;if(0===o&&s<e.length&&e!==this)for(;s<e.length;s++)this.words[s]=e.words[s];return this.length=Math.max(this.length,s),e!==this&&(this.negative=1),this.strip()},n.prototype.sub=function(t){return this.clone().isub(t)};var c=function(t,e,r){var i,n,o,s=t.words,a=e.words,u=r.words,h=0,l=0|s[0],f=8191&l,c=l>>>13,d=0|s[1],p=8191&d,g=d>>>13,m=0|s[2],v=8191&m,y=m>>>13,w=0|s[3],b=8191&w,M=w>>>13,_=0|s[4],S=8191&_,A=_>>>13,x=0|s[5],O=8191&x,k=x>>>13,E=0|s[6],R=8191&E,I=E>>>13,T=0|s[7],P=8191&T,N=T>>>13,B=0|s[8],C=8191&B,L=B>>>13,F=0|s[9],j=8191&F,W=F>>>13,U=0|a[0],q=8191&U,D=U>>>13,z=0|a[1],$=8191&z,Y=z>>>13,G=0|a[2],V=8191&G,J=G>>>13,K=0|a[3],Z=8191&K,H=K>>>13,Q=0|a[4],X=8191&Q,tt=Q>>>13,te=0|a[5],tr=8191&te,ti=te>>>13,tn=0|a[6],to=8191&tn,ts=tn>>>13,ta=0|a[7],tu=8191&ta,th=ta>>>13,tl=0|a[8],tf=8191&tl,tc=tl>>>13,td=0|a[9],tp=8191&td,tg=td>>>13;r.negative=t.negative^e.negative,r.length=19,i=Math.imul(f,q);var tm=(h+i|0)+((8191&(n=(n=Math.imul(f,D))+Math.imul(c,q)|0))<<13)|0;h=((o=Math.imul(c,D))+(n>>>13)|0)+(tm>>>26)|0,tm&=0x3ffffff,i=Math.imul(p,q),n=(n=Math.imul(p,D))+Math.imul(g,q)|0,o=Math.imul(g,D),i=i+Math.imul(f,$)|0;var tv=(h+i|0)+((8191&(n=(n=n+Math.imul(f,Y)|0)+Math.imul(c,$)|0))<<13)|0;h=((o=o+Math.imul(c,Y)|0)+(n>>>13)|0)+(tv>>>26)|0,tv&=0x3ffffff,i=Math.imul(v,q),n=(n=Math.imul(v,D))+Math.imul(y,q)|0,o=Math.imul(y,D),i=i+Math.imul(p,$)|0,n=(n=n+Math.imul(p,Y)|0)+Math.imul(g,$)|0,o=o+Math.imul(g,Y)|0,i=i+Math.imul(f,V)|0;var ty=(h+i|0)+((8191&(n=(n=n+Math.imul(f,J)|0)+Math.imul(c,V)|0))<<13)|0;h=((o=o+Math.imul(c,J)|0)+(n>>>13)|0)+(ty>>>26)|0,ty&=0x3ffffff,i=Math.imul(b,q),n=(n=Math.imul(b,D))+Math.imul(M,q)|0,o=Math.imul(M,D),i=i+Math.imul(v,$)|0,n=(n=n+Math.imul(v,Y)|0)+Math.imul(y,$)|0,o=o+Math.imul(y,Y)|0,i=i+Math.imul(p,V)|0,n=(n=n+Math.imul(p,J)|0)+Math.imul(g,V)|0,o=o+Math.imul(g,J)|0,i=i+Math.imul(f,Z)|0;var tw=(h+i|0)+((8191&(n=(n=n+Math.imul(f,H)|0)+Math.imul(c,Z)|0))<<13)|0;h=((o=o+Math.imul(c,H)|0)+(n>>>13)|0)+(tw>>>26)|0,tw&=0x3ffffff,i=Math.imul(S,q),n=(n=Math.imul(S,D))+Math.imul(A,q)|0,o=Math.imul(A,D),i=i+Math.imul(b,$)|0,n=(n=n+Math.imul(b,Y)|0)+Math.imul(M,$)|0,o=o+Math.imul(M,Y)|0,i=i+Math.imul(v,V)|0,n=(n=n+Math.imul(v,J)|0)+Math.imul(y,V)|0,o=o+Math.imul(y,J)|0,i=i+Math.imul(p,Z)|0,n=(n=n+Math.imul(p,H)|0)+Math.imul(g,Z)|0,o=o+Math.imul(g,H)|0,i=i+Math.imul(f,X)|0;var tb=(h+i|0)+((8191&(n=(n=n+Math.imul(f,tt)|0)+Math.imul(c,X)|0))<<13)|0;h=((o=o+Math.imul(c,tt)|0)+(n>>>13)|0)+(tb>>>26)|0,tb&=0x3ffffff,i=Math.imul(O,q),n=(n=Math.imul(O,D))+Math.imul(k,q)|0,o=Math.imul(k,D),i=i+Math.imul(S,$)|0,n=(n=n+Math.imul(S,Y)|0)+Math.imul(A,$)|0,o=o+Math.imul(A,Y)|0,i=i+Math.imul(b,V)|0,n=(n=n+Math.imul(b,J)|0)+Math.imul(M,V)|0,o=o+Math.imul(M,J)|0,i=i+Math.imul(v,Z)|0,n=(n=n+Math.imul(v,H)|0)+Math.imul(y,Z)|0,o=o+Math.imul(y,H)|0,i=i+Math.imul(p,X)|0,n=(n=n+Math.imul(p,tt)|0)+Math.imul(g,X)|0,o=o+Math.imul(g,tt)|0,i=i+Math.imul(f,tr)|0;var tM=(h+i|0)+((8191&(n=(n=n+Math.imul(f,ti)|0)+Math.imul(c,tr)|0))<<13)|0;h=((o=o+Math.imul(c,ti)|0)+(n>>>13)|0)+(tM>>>26)|0,tM&=0x3ffffff,i=Math.imul(R,q),n=(n=Math.imul(R,D))+Math.imul(I,q)|0,o=Math.imul(I,D),i=i+Math.imul(O,$)|0,n=(n=n+Math.imul(O,Y)|0)+Math.imul(k,$)|0,o=o+Math.imul(k,Y)|0,i=i+Math.imul(S,V)|0,n=(n=n+Math.imul(S,J)|0)+Math.imul(A,V)|0,o=o+Math.imul(A,J)|0,i=i+Math.imul(b,Z)|0,n=(n=n+Math.imul(b,H)|0)+Math.imul(M,Z)|0,o=o+Math.imul(M,H)|0,i=i+Math.imul(v,X)|0,n=(n=n+Math.imul(v,tt)|0)+Math.imul(y,X)|0,o=o+Math.imul(y,tt)|0,i=i+Math.imul(p,tr)|0,n=(n=n+Math.imul(p,ti)|0)+Math.imul(g,tr)|0,o=o+Math.imul(g,ti)|0,i=i+Math.imul(f,to)|0;var t_=(h+i|0)+((8191&(n=(n=n+Math.imul(f,ts)|0)+Math.imul(c,to)|0))<<13)|0;h=((o=o+Math.imul(c,ts)|0)+(n>>>13)|0)+(t_>>>26)|0,t_&=0x3ffffff,i=Math.imul(P,q),n=(n=Math.imul(P,D))+Math.imul(N,q)|0,o=Math.imul(N,D),i=i+Math.imul(R,$)|0,n=(n=n+Math.imul(R,Y)|0)+Math.imul(I,$)|0,o=o+Math.imul(I,Y)|0,i=i+Math.imul(O,V)|0,n=(n=n+Math.imul(O,J)|0)+Math.imul(k,V)|0,o=o+Math.imul(k,J)|0,i=i+Math.imul(S,Z)|0,n=(n=n+Math.imul(S,H)|0)+Math.imul(A,Z)|0,o=o+Math.imul(A,H)|0,i=i+Math.imul(b,X)|0,n=(n=n+Math.imul(b,tt)|0)+Math.imul(M,X)|0,o=o+Math.imul(M,tt)|0,i=i+Math.imul(v,tr)|0,n=(n=n+Math.imul(v,ti)|0)+Math.imul(y,tr)|0,o=o+Math.imul(y,ti)|0,i=i+Math.imul(p,to)|0,n=(n=n+Math.imul(p,ts)|0)+Math.imul(g,to)|0,o=o+Math.imul(g,ts)|0,i=i+Math.imul(f,tu)|0;var tS=(h+i|0)+((8191&(n=(n=n+Math.imul(f,th)|0)+Math.imul(c,tu)|0))<<13)|0;h=((o=o+Math.imul(c,th)|0)+(n>>>13)|0)+(tS>>>26)|0,tS&=0x3ffffff,i=Math.imul(C,q),n=(n=Math.imul(C,D))+Math.imul(L,q)|0,o=Math.imul(L,D),i=i+Math.imul(P,$)|0,n=(n=n+Math.imul(P,Y)|0)+Math.imul(N,$)|0,o=o+Math.imul(N,Y)|0,i=i+Math.imul(R,V)|0,n=(n=n+Math.imul(R,J)|0)+Math.imul(I,V)|0,o=o+Math.imul(I,J)|0,i=i+Math.imul(O,Z)|0,n=(n=n+Math.imul(O,H)|0)+Math.imul(k,Z)|0,o=o+Math.imul(k,H)|0,i=i+Math.imul(S,X)|0,n=(n=n+Math.imul(S,tt)|0)+Math.imul(A,X)|0,o=o+Math.imul(A,tt)|0,i=i+Math.imul(b,tr)|0,n=(n=n+Math.imul(b,ti)|0)+Math.imul(M,tr)|0,o=o+Math.imul(M,ti)|0,i=i+Math.imul(v,to)|0,n=(n=n+Math.imul(v,ts)|0)+Math.imul(y,to)|0,o=o+Math.imul(y,ts)|0,i=i+Math.imul(p,tu)|0,n=(n=n+Math.imul(p,th)|0)+Math.imul(g,tu)|0,o=o+Math.imul(g,th)|0,i=i+Math.imul(f,tf)|0;var tA=(h+i|0)+((8191&(n=(n=n+Math.imul(f,tc)|0)+Math.imul(c,tf)|0))<<13)|0;h=((o=o+Math.imul(c,tc)|0)+(n>>>13)|0)+(tA>>>26)|0,tA&=0x3ffffff,i=Math.imul(j,q),n=(n=Math.imul(j,D))+Math.imul(W,q)|0,o=Math.imul(W,D),i=i+Math.imul(C,$)|0,n=(n=n+Math.imul(C,Y)|0)+Math.imul(L,$)|0,o=o+Math.imul(L,Y)|0,i=i+Math.imul(P,V)|0,n=(n=n+Math.imul(P,J)|0)+Math.imul(N,V)|0,o=o+Math.imul(N,J)|0,i=i+Math.imul(R,Z)|0,n=(n=n+Math.imul(R,H)|0)+Math.imul(I,Z)|0,o=o+Math.imul(I,H)|0,i=i+Math.imul(O,X)|0,n=(n=n+Math.imul(O,tt)|0)+Math.imul(k,X)|0,o=o+Math.imul(k,tt)|0,i=i+Math.imul(S,tr)|0,n=(n=n+Math.imul(S,ti)|0)+Math.imul(A,tr)|0,o=o+Math.imul(A,ti)|0,i=i+Math.imul(b,to)|0,n=(n=n+Math.imul(b,ts)|0)+Math.imul(M,to)|0,o=o+Math.imul(M,ts)|0,i=i+Math.imul(v,tu)|0,n=(n=n+Math.imul(v,th)|0)+Math.imul(y,tu)|0,o=o+Math.imul(y,th)|0,i=i+Math.imul(p,tf)|0,n=(n=n+Math.imul(p,tc)|0)+Math.imul(g,tf)|0,o=o+Math.imul(g,tc)|0,i=i+Math.imul(f,tp)|0;var tx=(h+i|0)+((8191&(n=(n=n+Math.imul(f,tg)|0)+Math.imul(c,tp)|0))<<13)|0;h=((o=o+Math.imul(c,tg)|0)+(n>>>13)|0)+(tx>>>26)|0,tx&=0x3ffffff,i=Math.imul(j,$),n=(n=Math.imul(j,Y))+Math.imul(W,$)|0,o=Math.imul(W,Y),i=i+Math.imul(C,V)|0,n=(n=n+Math.imul(C,J)|0)+Math.imul(L,V)|0,o=o+Math.imul(L,J)|0,i=i+Math.imul(P,Z)|0,n=(n=n+Math.imul(P,H)|0)+Math.imul(N,Z)|0,o=o+Math.imul(N,H)|0,i=i+Math.imul(R,X)|0,n=(n=n+Math.imul(R,tt)|0)+Math.imul(I,X)|0,o=o+Math.imul(I,tt)|0,i=i+Math.imul(O,tr)|0,n=(n=n+Math.imul(O,ti)|0)+Math.imul(k,tr)|0,o=o+Math.imul(k,ti)|0,i=i+Math.imul(S,to)|0,n=(n=n+Math.imul(S,ts)|0)+Math.imul(A,to)|0,o=o+Math.imul(A,ts)|0,i=i+Math.imul(b,tu)|0,n=(n=n+Math.imul(b,th)|0)+Math.imul(M,tu)|0,o=o+Math.imul(M,th)|0,i=i+Math.imul(v,tf)|0,n=(n=n+Math.imul(v,tc)|0)+Math.imul(y,tf)|0,o=o+Math.imul(y,tc)|0,i=i+Math.imul(p,tp)|0;var tO=(h+i|0)+((8191&(n=(n=n+Math.imul(p,tg)|0)+Math.imul(g,tp)|0))<<13)|0;h=((o=o+Math.imul(g,tg)|0)+(n>>>13)|0)+(tO>>>26)|0,tO&=0x3ffffff,i=Math.imul(j,V),n=(n=Math.imul(j,J))+Math.imul(W,V)|0,o=Math.imul(W,J),i=i+Math.imul(C,Z)|0,n=(n=n+Math.imul(C,H)|0)+Math.imul(L,Z)|0,o=o+Math.imul(L,H)|0,i=i+Math.imul(P,X)|0,n=(n=n+Math.imul(P,tt)|0)+Math.imul(N,X)|0,o=o+Math.imul(N,tt)|0,i=i+Math.imul(R,tr)|0,n=(n=n+Math.imul(R,ti)|0)+Math.imul(I,tr)|0,o=o+Math.imul(I,ti)|0,i=i+Math.imul(O,to)|0,n=(n=n+Math.imul(O,ts)|0)+Math.imul(k,to)|0,o=o+Math.imul(k,ts)|0,i=i+Math.imul(S,tu)|0,n=(n=n+Math.imul(S,th)|0)+Math.imul(A,tu)|0,o=o+Math.imul(A,th)|0,i=i+Math.imul(b,tf)|0,n=(n=n+Math.imul(b,tc)|0)+Math.imul(M,tf)|0,o=o+Math.imul(M,tc)|0,i=i+Math.imul(v,tp)|0;var tk=(h+i|0)+((8191&(n=(n=n+Math.imul(v,tg)|0)+Math.imul(y,tp)|0))<<13)|0;h=((o=o+Math.imul(y,tg)|0)+(n>>>13)|0)+(tk>>>26)|0,tk&=0x3ffffff,i=Math.imul(j,Z),n=(n=Math.imul(j,H))+Math.imul(W,Z)|0,o=Math.imul(W,H),i=i+Math.imul(C,X)|0,n=(n=n+Math.imul(C,tt)|0)+Math.imul(L,X)|0,o=o+Math.imul(L,tt)|0,i=i+Math.imul(P,tr)|0,n=(n=n+Math.imul(P,ti)|0)+Math.imul(N,tr)|0,o=o+Math.imul(N,ti)|0,i=i+Math.imul(R,to)|0,n=(n=n+Math.imul(R,ts)|0)+Math.imul(I,to)|0,o=o+Math.imul(I,ts)|0,i=i+Math.imul(O,tu)|0,n=(n=n+Math.imul(O,th)|0)+Math.imul(k,tu)|0,o=o+Math.imul(k,th)|0,i=i+Math.imul(S,tf)|0,n=(n=n+Math.imul(S,tc)|0)+Math.imul(A,tf)|0,o=o+Math.imul(A,tc)|0,i=i+Math.imul(b,tp)|0;var tE=(h+i|0)+((8191&(n=(n=n+Math.imul(b,tg)|0)+Math.imul(M,tp)|0))<<13)|0;h=((o=o+Math.imul(M,tg)|0)+(n>>>13)|0)+(tE>>>26)|0,tE&=0x3ffffff,i=Math.imul(j,X),n=(n=Math.imul(j,tt))+Math.imul(W,X)|0,o=Math.imul(W,tt),i=i+Math.imul(C,tr)|0,n=(n=n+Math.imul(C,ti)|0)+Math.imul(L,tr)|0,o=o+Math.imul(L,ti)|0,i=i+Math.imul(P,to)|0,n=(n=n+Math.imul(P,ts)|0)+Math.imul(N,to)|0,o=o+Math.imul(N,ts)|0,i=i+Math.imul(R,tu)|0,n=(n=n+Math.imul(R,th)|0)+Math.imul(I,tu)|0,o=o+Math.imul(I,th)|0,i=i+Math.imul(O,tf)|0,n=(n=n+Math.imul(O,tc)|0)+Math.imul(k,tf)|0,o=o+Math.imul(k,tc)|0,i=i+Math.imul(S,tp)|0;var tR=(h+i|0)+((8191&(n=(n=n+Math.imul(S,tg)|0)+Math.imul(A,tp)|0))<<13)|0;h=((o=o+Math.imul(A,tg)|0)+(n>>>13)|0)+(tR>>>26)|0,tR&=0x3ffffff,i=Math.imul(j,tr),n=(n=Math.imul(j,ti))+Math.imul(W,tr)|0,o=Math.imul(W,ti),i=i+Math.imul(C,to)|0,n=(n=n+Math.imul(C,ts)|0)+Math.imul(L,to)|0,o=o+Math.imul(L,ts)|0,i=i+Math.imul(P,tu)|0,n=(n=n+Math.imul(P,th)|0)+Math.imul(N,tu)|0,o=o+Math.imul(N,th)|0,i=i+Math.imul(R,tf)|0,n=(n=n+Math.imul(R,tc)|0)+Math.imul(I,tf)|0,o=o+Math.imul(I,tc)|0,i=i+Math.imul(O,tp)|0;var tI=(h+i|0)+((8191&(n=(n=n+Math.imul(O,tg)|0)+Math.imul(k,tp)|0))<<13)|0;h=((o=o+Math.imul(k,tg)|0)+(n>>>13)|0)+(tI>>>26)|0,tI&=0x3ffffff,i=Math.imul(j,to),n=(n=Math.imul(j,ts))+Math.imul(W,to)|0,o=Math.imul(W,ts),i=i+Math.imul(C,tu)|0,n=(n=n+Math.imul(C,th)|0)+Math.imul(L,tu)|0,o=o+Math.imul(L,th)|0,i=i+Math.imul(P,tf)|0,n=(n=n+Math.imul(P,tc)|0)+Math.imul(N,tf)|0,o=o+Math.imul(N,tc)|0,i=i+Math.imul(R,tp)|0;var tT=(h+i|0)+((8191&(n=(n=n+Math.imul(R,tg)|0)+Math.imul(I,tp)|0))<<13)|0;h=((o=o+Math.imul(I,tg)|0)+(n>>>13)|0)+(tT>>>26)|0,tT&=0x3ffffff,i=Math.imul(j,tu),n=(n=Math.imul(j,th))+Math.imul(W,tu)|0,o=Math.imul(W,th),i=i+Math.imul(C,tf)|0,n=(n=n+Math.imul(C,tc)|0)+Math.imul(L,tf)|0,o=o+Math.imul(L,tc)|0,i=i+Math.imul(P,tp)|0;var tP=(h+i|0)+((8191&(n=(n=n+Math.imul(P,tg)|0)+Math.imul(N,tp)|0))<<13)|0;h=((o=o+Math.imul(N,tg)|0)+(n>>>13)|0)+(tP>>>26)|0,tP&=0x3ffffff,i=Math.imul(j,tf),n=(n=Math.imul(j,tc))+Math.imul(W,tf)|0,o=Math.imul(W,tc),i=i+Math.imul(C,tp)|0;var tN=(h+i|0)+((8191&(n=(n=n+Math.imul(C,tg)|0)+Math.imul(L,tp)|0))<<13)|0;h=((o=o+Math.imul(L,tg)|0)+(n>>>13)|0)+(tN>>>26)|0,tN&=0x3ffffff,i=Math.imul(j,tp);var tB=(h+i|0)+((8191&(n=(n=Math.imul(j,tg))+Math.imul(W,tp)|0))<<13)|0;return h=((o=Math.imul(W,tg))+(n>>>13)|0)+(tB>>>26)|0,tB&=0x3ffffff,u[0]=tm,u[1]=tv,u[2]=ty,u[3]=tw,u[4]=tb,u[5]=tM,u[6]=t_,u[7]=tS,u[8]=tA,u[9]=tx,u[10]=tO,u[11]=tk,u[12]=tE,u[13]=tR,u[14]=tI,u[15]=tT,u[16]=tP,u[17]=tN,u[18]=tB,0!==h&&(u[19]=h,r.length++),r};function d(t,e,r){return new p().mulp(t,e,r)}function p(t,e){this.x=t,this.y=e}Math.imul||(c=f),n.prototype.mulTo=function(t,e){var r=this.length+t.length;return 10===this.length&&10===t.length?c(this,t,e):r<63?f(this,t,e):r<1024?function(t,e,r){r.negative=e.negative^t.negative,r.length=t.length+e.length;for(var i=0,n=0,o=0;o<r.length-1;o++){var s=n;n=0;for(var a=0x3ffffff&i,u=Math.min(o,e.length-1),h=Math.max(0,o-t.length+1);h<=u;h++){var l=o-h,f=(0|t.words[l])*(0|e.words[h]),c=0x3ffffff&f;s=s+(f/0x4000000|0)|0,a=0x3ffffff&(c=c+a|0),n+=(s=s+(c>>>26)|0)>>>26,s&=0x3ffffff}r.words[o]=a,i=s,s=n}return 0!==i?r.words[o]=i:r.length--,r.strip()}(this,t,e):d(this,t,e)},p.prototype.makeRBT=function(t){for(var e=Array(t),r=n.prototype._countBits(t)-1,i=0;i<t;i++)e[i]=this.revBin(i,r,t);return e},p.prototype.revBin=function(t,e,r){if(0===t||t===r-1)return t;for(var i=0,n=0;n<e;n++)i|=(1&t)<<e-n-1,t>>=1;return i},p.prototype.permute=function(t,e,r,i,n,o){for(var s=0;s<o;s++)i[s]=e[t[s]],n[s]=r[t[s]]},p.prototype.transform=function(t,e,r,i,n,o){this.permute(o,t,e,r,i,n);for(var s=1;s<n;s<<=1)for(var a=s<<1,u=Math.cos(2*Math.PI/a),h=Math.sin(2*Math.PI/a),l=0;l<n;l+=a)for(var f=u,c=h,d=0;d<s;d++){var p=r[l+d],g=i[l+d],m=r[l+d+s],v=i[l+d+s],y=f*m-c*v;v=f*v+c*m,m=y,r[l+d]=p+m,i[l+d]=g+v,r[l+d+s]=p-m,i[l+d+s]=g-v,d!==a&&(y=u*f-h*c,c=u*c+h*f,f=y)}},p.prototype.guessLen13b=function(t,e){var r=1|Math.max(e,t),i=1&r,n=0;for(r=r/2|0;r;r>>>=1)n++;return 1<<n+1+i},p.prototype.conjugate=function(t,e,r){if(!(r<=1))for(var i=0;i<r/2;i++){var n=t[i];t[i]=t[r-i-1],t[r-i-1]=n,n=e[i],e[i]=-e[r-i-1],e[r-i-1]=-n}},p.prototype.normalize13b=function(t,e){for(var r=0,i=0;i<e/2;i++){var n=8192*Math.round(t[2*i+1]/e)+Math.round(t[2*i]/e)+r;t[i]=0x3ffffff&n,r=n<0x4000000?0:n/0x4000000|0}return t},p.prototype.convert13b=function(t,e,i,n){for(var o=0,s=0;s<e;s++)o+=0|t[s],i[2*s]=8191&o,o>>>=13,i[2*s+1]=8191&o,o>>>=13;for(s=2*e;s<n;++s)i[s]=0;r(0===o),r((-8192&o)==0)},p.prototype.stub=function(t){for(var e=Array(t),r=0;r<t;r++)e[r]=0;return e},p.prototype.mulp=function(t,e,r){var i=2*this.guessLen13b(t.length,e.length),n=this.makeRBT(i),o=this.stub(i),s=Array(i),a=Array(i),u=Array(i),h=Array(i),l=Array(i),f=Array(i),c=r.words;c.length=i,this.convert13b(t.words,t.length,s,i),this.convert13b(e.words,e.length,h,i),this.transform(s,o,a,u,i,n),this.transform(h,o,l,f,i,n);for(var d=0;d<i;d++){var p=a[d]*l[d]-u[d]*f[d];u[d]=a[d]*f[d]+u[d]*l[d],a[d]=p}return this.conjugate(a,u,i),this.transform(a,u,c,o,i,n),this.conjugate(c,o,i),this.normalize13b(c,i),r.negative=t.negative^e.negative,r.length=t.length+e.length,r.strip()},n.prototype.mul=function(t){var e=new n(null);return e.words=Array(this.length+t.length),this.mulTo(t,e)},n.prototype.mulf=function(t){var e=new n(null);return e.words=Array(this.length+t.length),d(this,t,e)},n.prototype.imul=function(t){return this.clone().mulTo(t,this)},n.prototype.imuln=function(t){r("number"==typeof t),r(t<0x4000000);for(var e=0,i=0;i<this.length;i++){var n=(0|this.words[i])*t,o=(0x3ffffff&n)+(0x3ffffff&e);e>>=26,e+=(n/0x4000000|0)+(o>>>26),this.words[i]=0x3ffffff&o}return 0!==e&&(this.words[i]=e,this.length++),this},n.prototype.muln=function(t){return this.clone().imuln(t)},n.prototype.sqr=function(){return this.mul(this)},n.prototype.isqr=function(){return this.imul(this.clone())},n.prototype.pow=function(t){var e=function(t){for(var e=Array(t.bitLength()),r=0;r<e.length;r++){var i=r/26|0,n=r%26;e[r]=(t.words[i]&1<<n)>>>n}return e}(t);if(0===e.length)return new n(1);for(var r=this,i=0;i<e.length&&0===e[i];i++,r=r.sqr());if(++i<e.length)for(var o=r.sqr();i<e.length;i++,o=o.sqr())0!==e[i]&&(r=r.mul(o));return r},n.prototype.iushln=function(t){r("number"==typeof t&&t>=0);var e,i=t%26,n=(t-i)/26,o=0x3ffffff>>>26-i<<26-i;if(0!==i){var s=0;for(e=0;e<this.length;e++){var a=this.words[e]&o,u=(0|this.words[e])-a<<i;this.words[e]=u|s,s=a>>>26-i}s&&(this.words[e]=s,this.length++)}if(0!==n){for(e=this.length-1;e>=0;e--)this.words[e+n]=this.words[e];for(e=0;e<n;e++)this.words[e]=0;this.length+=n}return this.strip()},n.prototype.ishln=function(t){return r(0===this.negative),this.iushln(t)},n.prototype.iushrn=function(t,e,i){r("number"==typeof t&&t>=0);var n=e?(e-e%26)/26:0,o=t%26,s=Math.min((t-o)/26,this.length),a=0x3ffffff^0x3ffffff>>>o<<o;if(n-=s,n=Math.max(0,n),i){for(var u=0;u<s;u++)i.words[u]=this.words[u];i.length=s}if(0===s);else if(this.length>s)for(this.length-=s,u=0;u<this.length;u++)this.words[u]=this.words[u+s];else this.words[0]=0,this.length=1;var h=0;for(u=this.length-1;u>=0&&(0!==h||u>=n);u--){var l=0|this.words[u];this.words[u]=h<<26-o|l>>>o,h=l&a}return i&&0!==h&&(i.words[i.length++]=h),0===this.length&&(this.words[0]=0,this.length=1),this.strip()},n.prototype.ishrn=function(t,e,i){return r(0===this.negative),this.iushrn(t,e,i)},n.prototype.shln=function(t){return this.clone().ishln(t)},n.prototype.ushln=function(t){return this.clone().iushln(t)},n.prototype.shrn=function(t){return this.clone().ishrn(t)},n.prototype.ushrn=function(t){return this.clone().iushrn(t)},n.prototype.testn=function(t){r("number"==typeof t&&t>=0);var e=t%26,i=(t-e)/26;return!(this.length<=i)&&!!(this.words[i]&1<<e)},n.prototype.imaskn=function(t){r("number"==typeof t&&t>=0);var e=t%26,i=(t-e)/26;return(r(0===this.negative,"imaskn works only with positive numbers"),this.length<=i)?this:(0!==e&&i++,this.length=Math.min(i,this.length),0!==e&&(this.words[this.length-1]&=0x3ffffff^0x3ffffff>>>e<<e),this.strip())},n.prototype.maskn=function(t){return this.clone().imaskn(t)},n.prototype.iaddn=function(t){return(r("number"==typeof t),r(t<0x4000000),t<0)?this.isubn(-t):0!==this.negative?(1===this.length&&(0|this.words[0])<t?(this.words[0]=t-(0|this.words[0]),this.negative=0):(this.negative=0,this.isubn(t),this.negative=1),this):this._iaddn(t)},n.prototype._iaddn=function(t){this.words[0]+=t;for(var e=0;e<this.length&&this.words[e]>=0x4000000;e++)this.words[e]-=0x4000000,e===this.length-1?this.words[e+1]=1:this.words[e+1]++;return this.length=Math.max(this.length,e+1),this},n.prototype.isubn=function(t){if(r("number"==typeof t),r(t<0x4000000),t<0)return this.iaddn(-t);if(0!==this.negative)return this.negative=0,this.iaddn(t),this.negative=1,this;if(this.words[0]-=t,1===this.length&&this.words[0]<0)this.words[0]=-this.words[0],this.negative=1;else for(var e=0;e<this.length&&this.words[e]<0;e++)this.words[e]+=0x4000000,this.words[e+1]-=1;return this.strip()},n.prototype.addn=function(t){return this.clone().iaddn(t)},n.prototype.subn=function(t){return this.clone().isubn(t)},n.prototype.iabs=function(){return this.negative=0,this},n.prototype.abs=function(){return this.clone().iabs()},n.prototype._ishlnsubmul=function(t,e,i){var n,o,s=t.length+i;this._expand(s);var a=0;for(n=0;n<t.length;n++){o=(0|this.words[n+i])+a;var u=(0|t.words[n])*e;o-=0x3ffffff&u,a=(o>>26)-(u/0x4000000|0),this.words[n+i]=0x3ffffff&o}for(;n<this.length-i;n++)a=(o=(0|this.words[n+i])+a)>>26,this.words[n+i]=0x3ffffff&o;if(0===a)return this.strip();for(r(-1===a),a=0,n=0;n<this.length;n++)a=(o=-(0|this.words[n])+a)>>26,this.words[n]=0x3ffffff&o;return this.negative=1,this.strip()},n.prototype._wordDiv=function(t,e){var r,i=this.length-t.length,o=this.clone(),s=t,a=0|s.words[s.length-1];0!=(i=26-this._countBits(a))&&(s=s.ushln(i),o.iushln(i),a=0|s.words[s.length-1]);var u=o.length-s.length;if("mod"!==e){(r=new n(null)).length=u+1,r.words=Array(r.length);for(var h=0;h<r.length;h++)r.words[h]=0}var l=o.clone()._ishlnsubmul(s,1,u);0===l.negative&&(o=l,r&&(r.words[u]=1));for(var f=u-1;f>=0;f--){var c=(0|o.words[s.length+f])*0x4000000+(0|o.words[s.length+f-1]);for(c=Math.min(c/a|0,0x3ffffff),o._ishlnsubmul(s,c,f);0!==o.negative;)c--,o.negative=0,o._ishlnsubmul(s,1,f),o.isZero()||(o.negative^=1);r&&(r.words[f]=c)}return r&&r.strip(),o.strip(),"div"!==e&&0!==i&&o.iushrn(i),{div:r||null,mod:o}},n.prototype.divmod=function(t,e,i){var o,s,a;return(r(!t.isZero()),this.isZero())?{div:new n(0),mod:new n(0)}:0!==this.negative&&0===t.negative?(a=this.neg().divmod(t,e),"mod"!==e&&(o=a.div.neg()),"div"!==e&&(s=a.mod.neg(),i&&0!==s.negative&&s.iadd(t)),{div:o,mod:s}):0===this.negative&&0!==t.negative?(a=this.divmod(t.neg(),e),"mod"!==e&&(o=a.div.neg()),{div:o,mod:a.mod}):(this.negative&t.negative)!=0?(a=this.neg().divmod(t.neg(),e),"div"!==e&&(s=a.mod.neg(),i&&0!==s.negative&&s.isub(t)),{div:a.div,mod:s}):t.length>this.length||0>this.cmp(t)?{div:new n(0),mod:this}:1===t.length?"div"===e?{div:this.divn(t.words[0]),mod:null}:"mod"===e?{div:null,mod:new n(this.modn(t.words[0]))}:{div:this.divn(t.words[0]),mod:new n(this.modn(t.words[0]))}:this._wordDiv(t,e)},n.prototype.div=function(t){return this.divmod(t,"div",!1).div},n.prototype.mod=function(t){return this.divmod(t,"mod",!1).mod},n.prototype.umod=function(t){return this.divmod(t,"mod",!0).mod},n.prototype.divRound=function(t){var e=this.divmod(t);if(e.mod.isZero())return e.div;var r=0!==e.div.negative?e.mod.isub(t):e.mod,i=t.ushrn(1),n=t.andln(1),o=r.cmp(i);return o<0||1===n&&0===o?e.div:0!==e.div.negative?e.div.isubn(1):e.div.iaddn(1)},n.prototype.modn=function(t){r(t<=0x3ffffff);for(var e=0x4000000%t,i=0,n=this.length-1;n>=0;n--)i=(e*i+(0|this.words[n]))%t;return i},n.prototype.idivn=function(t){r(t<=0x3ffffff);for(var e=0,i=this.length-1;i>=0;i--){var n=(0|this.words[i])+0x4000000*e;this.words[i]=n/t|0,e=n%t}return this.strip()},n.prototype.divn=function(t){return this.clone().idivn(t)},n.prototype.egcd=function(t){r(0===t.negative),r(!t.isZero());var e=this,i=t.clone();e=0!==e.negative?e.umod(t):e.clone();for(var o=new n(1),s=new n(0),a=new n(0),u=new n(1),h=0;e.isEven()&&i.isEven();)e.iushrn(1),i.iushrn(1),++h;for(var l=i.clone(),f=e.clone();!e.isZero();){for(var c=0,d=1;(e.words[0]&d)==0&&c<26;++c,d<<=1);if(c>0)for(e.iushrn(c);c-- >0;)(o.isOdd()||s.isOdd())&&(o.iadd(l),s.isub(f)),o.iushrn(1),s.iushrn(1);for(var p=0,g=1;(i.words[0]&g)==0&&p<26;++p,g<<=1);if(p>0)for(i.iushrn(p);p-- >0;)(a.isOdd()||u.isOdd())&&(a.iadd(l),u.isub(f)),a.iushrn(1),u.iushrn(1);e.cmp(i)>=0?(e.isub(i),o.isub(a),s.isub(u)):(i.isub(e),a.isub(o),u.isub(s))}return{a:a,b:u,gcd:i.iushln(h)}},n.prototype._invmp=function(t){r(0===t.negative),r(!t.isZero());var e,i=this,o=t.clone();i=0!==i.negative?i.umod(t):i.clone();for(var s=new n(1),a=new n(0),u=o.clone();i.cmpn(1)>0&&o.cmpn(1)>0;){for(var h=0,l=1;(i.words[0]&l)==0&&h<26;++h,l<<=1);if(h>0)for(i.iushrn(h);h-- >0;)s.isOdd()&&s.iadd(u),s.iushrn(1);for(var f=0,c=1;(o.words[0]&c)==0&&f<26;++f,c<<=1);if(f>0)for(o.iushrn(f);f-- >0;)a.isOdd()&&a.iadd(u),a.iushrn(1);i.cmp(o)>=0?(i.isub(o),s.isub(a)):(o.isub(i),a.isub(s))}return 0>(e=0===i.cmpn(1)?s:a).cmpn(0)&&e.iadd(t),e},n.prototype.gcd=function(t){if(this.isZero())return t.abs();if(t.isZero())return this.abs();var e=this.clone(),r=t.clone();e.negative=0,r.negative=0;for(var i=0;e.isEven()&&r.isEven();i++)e.iushrn(1),r.iushrn(1);for(;;){for(;e.isEven();)e.iushrn(1);for(;r.isEven();)r.iushrn(1);var n=e.cmp(r);if(n<0){var o=e;e=r,r=o}else if(0===n||0===r.cmpn(1))break;e.isub(r)}return r.iushln(i)},n.prototype.invm=function(t){return this.egcd(t).a.umod(t)},n.prototype.isEven=function(){return(1&this.words[0])==0},n.prototype.isOdd=function(){return(1&this.words[0])==1},n.prototype.andln=function(t){return this.words[0]&t},n.prototype.bincn=function(t){r("number"==typeof t);var e=t%26,i=(t-e)/26,n=1<<e;if(this.length<=i)return this._expand(i+1),this.words[i]|=n,this;for(var o=n,s=i;0!==o&&s<this.length;s++){var a=0|this.words[s];a+=o,o=a>>>26,a&=0x3ffffff,this.words[s]=a}return 0!==o&&(this.words[s]=o,this.length++),this},n.prototype.isZero=function(){return 1===this.length&&0===this.words[0]},n.prototype.cmpn=function(t){var e,i=t<0;if(0!==this.negative&&!i)return -1;if(0===this.negative&&i)return 1;if(this.strip(),this.length>1)e=1;else{i&&(t=-t),r(t<=0x3ffffff,"Number is too big");var n=0|this.words[0];e=n===t?0:n<t?-1:1}return 0!==this.negative?0|-e:e},n.prototype.cmp=function(t){if(0!==this.negative&&0===t.negative)return -1;if(0===this.negative&&0!==t.negative)return 1;var e=this.ucmp(t);return 0!==this.negative?0|-e:e},n.prototype.ucmp=function(t){if(this.length>t.length)return 1;if(this.length<t.length)return -1;for(var e=0,r=this.length-1;r>=0;r--){var i=0|this.words[r],n=0|t.words[r];if(i!==n){i<n?e=-1:i>n&&(e=1);break}}return e},n.prototype.gtn=function(t){return 1===this.cmpn(t)},n.prototype.gt=function(t){return 1===this.cmp(t)},n.prototype.gten=function(t){return this.cmpn(t)>=0},n.prototype.gte=function(t){return this.cmp(t)>=0},n.prototype.ltn=function(t){return -1===this.cmpn(t)},n.prototype.lt=function(t){return -1===this.cmp(t)},n.prototype.lten=function(t){return 0>=this.cmpn(t)},n.prototype.lte=function(t){return 0>=this.cmp(t)},n.prototype.eqn=function(t){return 0===this.cmpn(t)},n.prototype.eq=function(t){return 0===this.cmp(t)},n.red=function(t){return new M(t)},n.prototype.toRed=function(t){return r(!this.red,"Already a number in reduction context"),r(0===this.negative,"red works only with positives"),t.convertTo(this)._forceRed(t)},n.prototype.fromRed=function(){return r(this.red,"fromRed works only with numbers in reduction context"),this.red.convertFrom(this)},n.prototype._forceRed=function(t){return this.red=t,this},n.prototype.forceRed=function(t){return r(!this.red,"Already a number in reduction context"),this._forceRed(t)},n.prototype.redAdd=function(t){return r(this.red,"redAdd works only with red numbers"),this.red.add(this,t)},n.prototype.redIAdd=function(t){return r(this.red,"redIAdd works only with red numbers"),this.red.iadd(this,t)},n.prototype.redSub=function(t){return r(this.red,"redSub works only with red numbers"),this.red.sub(this,t)},n.prototype.redISub=function(t){return r(this.red,"redISub works only with red numbers"),this.red.isub(this,t)},n.prototype.redShl=function(t){return r(this.red,"redShl works only with red numbers"),this.red.shl(this,t)},n.prototype.redMul=function(t){return r(this.red,"redMul works only with red numbers"),this.red._verify2(this,t),this.red.mul(this,t)},n.prototype.redIMul=function(t){return r(this.red,"redMul works only with red numbers"),this.red._verify2(this,t),this.red.imul(this,t)},n.prototype.redSqr=function(){return r(this.red,"redSqr works only with red numbers"),this.red._verify1(this),this.red.sqr(this)},n.prototype.redISqr=function(){return r(this.red,"redISqr works only with red numbers"),this.red._verify1(this),this.red.isqr(this)},n.prototype.redSqrt=function(){return r(this.red,"redSqrt works only with red numbers"),this.red._verify1(this),this.red.sqrt(this)},n.prototype.redInvm=function(){return r(this.red,"redInvm works only with red numbers"),this.red._verify1(this),this.red.invm(this)},n.prototype.redNeg=function(){return r(this.red,"redNeg works only with red numbers"),this.red._verify1(this),this.red.neg(this)},n.prototype.redPow=function(t){return r(this.red&&!t.red,"redPow(normalNum)"),this.red._verify1(this),this.red.pow(this,t)};var g={k256:null,p224:null,p192:null,p25519:null};function m(t,e){this.name=t,this.p=new n(e,16),this.n=this.p.bitLength(),this.k=new n(1).iushln(this.n).isub(this.p),this.tmp=this._tmp()}function v(){m.call(this,"k256","ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffe fffffc2f")}function y(){m.call(this,"p224","ffffffff ffffffff ffffffff ffffffff 00000000 00000000 00000001")}function w(){m.call(this,"p192","ffffffff ffffffff ffffffff fffffffe ffffffff ffffffff")}function b(){m.call(this,"25519","7fffffffffffffff ffffffffffffffff ffffffffffffffff ffffffffffffffed")}function M(t){if("string"==typeof t){var e=n._prime(t);this.m=e.p,this.prime=e}else r(t.gtn(1),"modulus must be greater than 1"),this.m=t,this.prime=null}function _(t){M.call(this,t),this.shift=this.m.bitLength(),this.shift%26!=0&&(this.shift+=26-this.shift%26),this.r=new n(1).iushln(this.shift),this.r2=this.imod(this.r.sqr()),this.rinv=this.r._invmp(this.m),this.minv=this.rinv.mul(this.r).isubn(1).div(this.m),this.minv=this.minv.umod(this.r),this.minv=this.r.sub(this.minv)}m.prototype._tmp=function(){var t=new n(null);return t.words=Array(Math.ceil(this.n/13)),t},m.prototype.ireduce=function(t){var e,r=t;do this.split(r,this.tmp),e=(r=(r=this.imulK(r)).iadd(this.tmp)).bitLength();while(e>this.n)var i=e<this.n?-1:r.ucmp(this.p);return 0===i?(r.words[0]=0,r.length=1):i>0?r.isub(this.p):r.strip(),r},m.prototype.split=function(t,e){t.iushrn(this.n,0,e)},m.prototype.imulK=function(t){return t.imul(this.k)},i(v,m),v.prototype.split=function(t,e){for(var r=Math.min(t.length,9),i=0;i<r;i++)e.words[i]=t.words[i];if(e.length=r,t.length<=9){t.words[0]=0,t.length=1;return}var n=t.words[9];for(i=10,e.words[e.length++]=4194303&n;i<t.length;i++){var o=0|t.words[i];t.words[i-10]=(4194303&o)<<4|n>>>22,n=o}n>>>=22,t.words[i-10]=n,0===n&&t.length>10?t.length-=10:t.length-=9},v.prototype.imulK=function(t){t.words[t.length]=0,t.words[t.length+1]=0,t.length+=2;for(var e=0,r=0;r<t.length;r++){var i=0|t.words[r];e+=977*i,t.words[r]=0x3ffffff&e,e=64*i+(e/0x4000000|0)}return 0===t.words[t.length-1]&&(t.length--,0===t.words[t.length-1]&&t.length--),t},i(y,m),i(w,m),i(b,m),b.prototype.imulK=function(t){for(var e=0,r=0;r<t.length;r++){var i=(0|t.words[r])*19+e,n=0x3ffffff&i;i>>>=26,t.words[r]=n,e=i}return 0!==e&&(t.words[t.length++]=e),t},n._prime=function(t){var e;if(g[t])return g[t];if("k256"===t)e=new v;else if("p224"===t)e=new y;else if("p192"===t)e=new w;else if("p25519"===t)e=new b;else throw Error("Unknown prime "+t);return g[t]=e,e},M.prototype._verify1=function(t){r(0===t.negative,"red works only with positives"),r(t.red,"red works only with red numbers")},M.prototype._verify2=function(t,e){r((t.negative|e.negative)==0,"red works only with positives"),r(t.red&&t.red===e.red,"red works only with red numbers")},M.prototype.imod=function(t){return this.prime?this.prime.ireduce(t)._forceRed(this):t.umod(this.m)._forceRed(this)},M.prototype.neg=function(t){return t.isZero()?t.clone():this.m.sub(t)._forceRed(this)},M.prototype.add=function(t,e){this._verify2(t,e);var r=t.add(e);return r.cmp(this.m)>=0&&r.isub(this.m),r._forceRed(this)},M.prototype.iadd=function(t,e){this._verify2(t,e);var r=t.iadd(e);return r.cmp(this.m)>=0&&r.isub(this.m),r},M.prototype.sub=function(t,e){this._verify2(t,e);var r=t.sub(e);return 0>r.cmpn(0)&&r.iadd(this.m),r._forceRed(this)},M.prototype.isub=function(t,e){this._verify2(t,e);var r=t.isub(e);return 0>r.cmpn(0)&&r.iadd(this.m),r},M.prototype.shl=function(t,e){return this._verify1(t),this.imod(t.ushln(e))},M.prototype.imul=function(t,e){return this._verify2(t,e),this.imod(t.imul(e))},M.prototype.mul=function(t,e){return this._verify2(t,e),this.imod(t.mul(e))},M.prototype.isqr=function(t){return this.imul(t,t.clone())},M.prototype.sqr=function(t){return this.mul(t,t)},M.prototype.sqrt=function(t){if(t.isZero())return t.clone();var e=this.m.andln(3);if(r(e%2==1),3===e){var i=this.m.add(new n(1)).iushrn(2);return this.pow(t,i)}for(var o=this.m.subn(1),s=0;!o.isZero()&&0===o.andln(1);)s++,o.iushrn(1);r(!o.isZero());var a=new n(1).toRed(this),u=a.redNeg(),h=this.m.subn(1).iushrn(1),l=this.m.bitLength();for(l=new n(2*l*l).toRed(this);0!==this.pow(l,h).cmp(u);)l.redIAdd(u);for(var f=this.pow(l,o),c=this.pow(t,o.addn(1).iushrn(1)),d=this.pow(t,o),p=s;0!==d.cmp(a);){for(var g=d,m=0;0!==g.cmp(a);m++)g=g.redSqr();r(m<p);var v=this.pow(f,new n(1).iushln(p-m-1));c=c.redMul(v),f=v.redSqr(),d=d.redMul(f),p=m}return c},M.prototype.invm=function(t){var e=t._invmp(this.m);return 0!==e.negative?(e.negative=0,this.imod(e).redNeg()):this.imod(e)},M.prototype.pow=function(t,e){if(e.isZero())return new n(1).toRed(this);if(0===e.cmpn(1))return t.clone();var r=Array(16);r[0]=new n(1).toRed(this),r[1]=t;for(var i=2;i<r.length;i++)r[i]=this.mul(r[i-1],t);var o=r[0],s=0,a=0,u=e.bitLength()%26;for(0===u&&(u=26),i=e.length-1;i>=0;i--){for(var h=e.words[i],l=u-1;l>=0;l--){var f=h>>l&1;if(o!==r[0]&&(o=this.sqr(o)),0===f&&0===s){a=0;continue}s<<=1,s|=f,(4==++a||0===i&&0===l)&&(o=this.mul(o,r[s]),a=0,s=0)}u=26}return o},M.prototype.convertTo=function(t){var e=t.umod(this.m);return e===t?e.clone():e},M.prototype.convertFrom=function(t){var e=t.clone();return e.red=null,e},n.mont=function(t){return new _(t)},i(_,M),_.prototype.convertTo=function(t){return this.imod(t.ushln(this.shift))},_.prototype.convertFrom=function(t){var e=this.imod(t.mul(this.rinv));return e.red=null,e},_.prototype.imul=function(t,e){if(t.isZero()||e.isZero())return t.words[0]=0,t.length=1,t;var r=t.imul(e),i=r.maskn(this.shift).mul(this.minv).imaskn(this.shift).mul(this.m),n=r.isub(i).iushrn(this.shift),o=n;return n.cmp(this.m)>=0?o=n.isub(this.m):0>n.cmpn(0)&&(o=n.iadd(this.m)),o._forceRed(this)},_.prototype.mul=function(t,e){if(t.isZero()||e.isZero())return new n(0)._forceRed(this);var r=t.mul(e),i=r.maskn(this.shift).mul(this.minv).imaskn(this.shift).mul(this.m),o=r.isub(i).iushrn(this.shift),s=o;return o.cmp(this.m)>=0?s=o.isub(this.m):0>o.cmpn(0)&&(s=o.iadd(this.m)),s._forceRed(this)},_.prototype.invm=function(t){return this.imod(t._invmp(this.m).mul(this.r2))._forceRed(this)}}(e,t.e)},41930,(t,e,r)=>{e.exports=o,o.strict=s,o.loose=a;var i=Object.prototype.toString,n={"[object Int8Array]":!0,"[object Int16Array]":!0,"[object Int32Array]":!0,"[object Uint8Array]":!0,"[object Uint8ClampedArray]":!0,"[object Uint16Array]":!0,"[object Uint32Array]":!0,"[object Float32Array]":!0,"[object Float64Array]":!0};function o(t){return s(t)||a(t)}function s(t){return t instanceof Int8Array||t instanceof Int16Array||t instanceof Int32Array||t instanceof Uint8Array||t instanceof Uint8ClampedArray||t instanceof Uint16Array||t instanceof Uint32Array||t instanceof Float32Array||t instanceof Float64Array}function a(t){return n[i.call(t)]}},76651,(t,e,r)=>{var i=t.i(54371),n=t.r(41930).strict;e.exports=function(t){if(!n(t))return i.Buffer.from(t);var e=i.Buffer.from(t.buffer);return t.byteLength!==t.buffer.byteLength&&(e=e.slice(t.byteOffset,t.byteOffset+t.byteLength)),e}},60741,(t,e,r)=>{var i=t.i(85182);!function(){"use strict";var r="input is invalid type",n="object"==typeof window,o=n?window:{};o.JS_SHA3_NO_WINDOW&&(n=!1);var s=!n&&"object"==typeof self;!o.JS_SHA3_NO_NODE_JS&&"object"==typeof i.default&&i.default.versions&&i.default.versions.node?o=t.g:s&&(o=self);var a=!o.JS_SHA3_NO_COMMON_JS&&e.exports,u="function"==typeof define&&define.amd,h=!o.JS_SHA3_NO_ARRAY_BUFFER&&"undefined"!=typeof ArrayBuffer,l="0123456789abcdef".split(""),f=[4,1024,262144,0x4000000],c=[0,8,16,24],d=[1,0,32898,0,32906,0x80000000,0x80008000,0x80000000,32907,0,0x80000001,0,0x80008081,0x80000000,32777,0x80000000,138,0,136,0,0x80008009,0,0x8000000a,0,0x8000808b,0,139,0x80000000,32905,0x80000000,32771,0x80000000,32770,0x80000000,128,0x80000000,32778,0,0x8000000a,0x80000000,0x80008081,0x80000000,32896,0x80000000,0x80000001,0,0x80008008,0x80000000],p=[224,256,384,512],g=[128,256],m=["hex","buffer","arrayBuffer","array","digest"],v={128:168,256:136};(o.JS_SHA3_NO_NODE_JS||!Array.isArray)&&(Array.isArray=function(t){return"[object Array]"===Object.prototype.toString.call(t)}),h&&(o.JS_SHA3_NO_ARRAY_BUFFER_IS_VIEW||!ArrayBuffer.isView)&&(ArrayBuffer.isView=function(t){return"object"==typeof t&&t.buffer&&t.buffer.constructor===ArrayBuffer});for(var y=function(t,e,r){return function(i){return new N(t,e,t).update(i)[r]()}},w=function(t,e,r){return function(i,n){return new N(t,e,n).update(i)[r]()}},b=function(t,e,r){return function(e,i,n,o){return x["cshake"+t].update(e,i,n,o)[r]()}},M=function(t,e,r){return function(e,i,n,o){return x["kmac"+t].update(e,i,n,o)[r]()}},_=function(t,e,r,i){for(var n=0;n<m.length;++n){var o=m[n];t[o]=e(r,i,o)}return t},S=function(t,e){var r=y(t,e,"hex");return r.create=function(){return new N(t,e,t)},r.update=function(t){return r.create().update(t)},_(r,y,t,e)},A=[{name:"keccak",padding:[1,256,65536,0x1000000],bits:p,createMethod:S},{name:"sha3",padding:[6,1536,393216,0x6000000],bits:p,createMethod:S},{name:"shake",padding:[31,7936,2031616,0x1f000000],bits:g,createMethod:function(t,e){var r=w(t,e,"hex");return r.create=function(r){return new N(t,e,r)},r.update=function(t,e){return r.create(e).update(t)},_(r,w,t,e)}},{name:"cshake",padding:f,bits:g,createMethod:function(t,e){var r=v[t],i=b(t,e,"hex");return i.create=function(i,n,o){return n||o?new N(t,e,i).bytepad([n,o],r):x["shake"+t].create(i)},i.update=function(t,e,r,n){return i.create(e,r,n).update(t)},_(i,b,t,e)}},{name:"kmac",padding:f,bits:g,createMethod:function(t,e){var r=v[t],i=M(t,e,"hex");return i.create=function(i,n,o){return new B(t,e,n).bytepad(["KMAC",o],r).bytepad([i],r)},i.update=function(t,e,r,n){return i.create(t,r,n).update(e)},_(i,M,t,e)}}],x={},O=[],k=0;k<A.length;++k)for(var E=A[k],R=E.bits,I=0;I<R.length;++I){var T=E.name+"_"+R[I];if(O.push(T),x[T]=E.createMethod(R[I],E.padding),"sha3"!==E.name){var P=E.name+R[I];O.push(P),x[P]=x[T]}}function N(t,e,r){this.blocks=[],this.s=[],this.padding=e,this.outputBits=r,this.reset=!0,this.finalized=!1,this.block=0,this.start=0,this.blockCount=1600-(t<<1)>>5,this.byteCount=this.blockCount<<2,this.outputBlocks=r>>5,this.extraBytes=(31&r)>>3;for(var i=0;i<50;++i)this.s[i]=0}function B(t,e,r){N.call(this,t,e,r)}N.prototype.update=function(t){if(this.finalized)throw Error("finalize already called");var e,i=typeof t;if("string"!==i){if("object"===i){if(null===t)throw Error(r);else if(h&&t.constructor===ArrayBuffer)t=new Uint8Array(t);else if(!Array.isArray(t)&&(!h||!ArrayBuffer.isView(t)))throw Error(r)}else throw Error(r);e=!0}for(var n,o,s=this.blocks,a=this.byteCount,u=t.length,l=this.blockCount,f=0,d=this.s;f<u;){if(this.reset)for(n=1,this.reset=!1,s[0]=this.block;n<l+1;++n)s[n]=0;if(e)for(n=this.start;f<u&&n<a;++f)s[n>>2]|=t[f]<<c[3&n++];else for(n=this.start;f<u&&n<a;++f)(o=t.charCodeAt(f))<128?s[n>>2]|=o<<c[3&n++]:(o<2048?s[n>>2]|=(192|o>>6)<<c[3&n++]:(o<55296||o>=57344?s[n>>2]|=(224|o>>12)<<c[3&n++]:(o=65536+((1023&o)<<10|1023&t.charCodeAt(++f)),s[n>>2]|=(240|o>>18)<<c[3&n++],s[n>>2]|=(128|o>>12&63)<<c[3&n++]),s[n>>2]|=(128|o>>6&63)<<c[3&n++]),s[n>>2]|=(128|63&o)<<c[3&n++]);if(this.lastByteIndex=n,n>=a){for(this.start=n-a,this.block=s[l],n=0;n<l;++n)d[n]^=s[n];C(d),this.reset=!0}else this.start=n}return this},N.prototype.encode=function(t,e){var r=255&t,i=1,n=[r];for(t>>=8,r=255&t;r>0;)n.unshift(r),t>>=8,r=255&t,++i;return e?n.push(i):n.unshift(i),this.update(n),n.length},N.prototype.encodeString=function(t){var e,i=typeof t;if("string"!==i){if("object"===i){if(null===t)throw Error(r);else if(h&&t.constructor===ArrayBuffer)t=new Uint8Array(t);else if(!Array.isArray(t)&&(!h||!ArrayBuffer.isView(t)))throw Error(r)}else throw Error(r);e=!0}var n=0,o=t.length;if(e)n=o;else for(var s=0;s<t.length;++s){var a=t.charCodeAt(s);a<128?n+=1:a<2048?n+=2:a<55296||a>=57344?n+=3:(a=65536+((1023&a)<<10|1023&t.charCodeAt(++s)),n+=4)}return n+=this.encode(8*n),this.update(t),n},N.prototype.bytepad=function(t,e){for(var r=this.encode(e),i=0;i<t.length;++i)r+=this.encodeString(t[i]);var n=[];return n.length=e-r%e,this.update(n),this},N.prototype.finalize=function(){if(!this.finalized){this.finalized=!0;var t=this.blocks,e=this.lastByteIndex,r=this.blockCount,i=this.s;if(t[e>>2]|=this.padding[3&e],this.lastByteIndex===this.byteCount)for(e=1,t[0]=t[r];e<r+1;++e)t[e]=0;for(t[r-1]|=0x80000000,e=0;e<r;++e)i[e]^=t[e];C(i)}},N.prototype.toString=N.prototype.hex=function(){this.finalize();for(var t,e=this.blockCount,r=this.s,i=this.outputBlocks,n=this.extraBytes,o=0,s=0,a="";s<i;){for(o=0;o<e&&s<i;++o,++s)a+=l[(t=r[o])>>4&15]+l[15&t]+l[t>>12&15]+l[t>>8&15]+l[t>>20&15]+l[t>>16&15]+l[t>>28&15]+l[t>>24&15];s%e==0&&(C(r),o=0)}return n&&(a+=l[(t=r[o])>>4&15]+l[15&t],n>1&&(a+=l[t>>12&15]+l[t>>8&15]),n>2&&(a+=l[t>>20&15]+l[t>>16&15])),a},N.prototype.arrayBuffer=function(){this.finalize();for(var t,e=this.blockCount,r=this.s,i=this.outputBlocks,n=this.extraBytes,o=0,s=0,a=this.outputBits>>3,u=new Uint32Array(t=new ArrayBuffer(n?i+1<<2:a));s<i;){for(o=0;o<e&&s<i;++o,++s)u[s]=r[o];s%e==0&&C(r)}return n&&(u[o]=r[o],t=t.slice(0,a)),t},N.prototype.buffer=N.prototype.arrayBuffer,N.prototype.digest=N.prototype.array=function(){this.finalize();for(var t,e,r=this.blockCount,i=this.s,n=this.outputBlocks,o=this.extraBytes,s=0,a=0,u=[];a<n;){for(s=0;s<r&&a<n;++s,++a)t=a<<2,e=i[s],u[t]=255&e,u[t+1]=e>>8&255,u[t+2]=e>>16&255,u[t+3]=e>>24&255;a%r==0&&C(i)}return o&&(t=a<<2,e=i[s],u[t]=255&e,o>1&&(u[t+1]=e>>8&255),o>2&&(u[t+2]=e>>16&255)),u},B.prototype=new N,B.prototype.finalize=function(){return this.encode(this.outputBits,!0),N.prototype.finalize.call(this)};var C=function(t){var e,r,i,n,o,s,a,u,h,l,f,c,p,g,m,v,y,w,b,M,_,S,A,x,O,k,E,R,I,T,P,N,B,C,L,F,j,W,U,q,D,z,$,Y,G,V,J,K,Z,H,Q,X,tt,te,tr,ti,tn,to,ts,ta,tu,th,tl;for(i=0;i<48;i+=2)n=t[0]^t[10]^t[20]^t[30]^t[40],o=t[1]^t[11]^t[21]^t[31]^t[41],s=t[2]^t[12]^t[22]^t[32]^t[42],a=t[3]^t[13]^t[23]^t[33]^t[43],u=t[4]^t[14]^t[24]^t[34]^t[44],h=t[5]^t[15]^t[25]^t[35]^t[45],l=t[6]^t[16]^t[26]^t[36]^t[46],f=t[7]^t[17]^t[27]^t[37]^t[47],c=t[8]^t[18]^t[28]^t[38]^t[48],p=t[9]^t[19]^t[29]^t[39]^t[49],e=c^(s<<1|a>>>31),r=p^(a<<1|s>>>31),t[0]^=e,t[1]^=r,t[10]^=e,t[11]^=r,t[20]^=e,t[21]^=r,t[30]^=e,t[31]^=r,t[40]^=e,t[41]^=r,e=n^(u<<1|h>>>31),r=o^(h<<1|u>>>31),t[2]^=e,t[3]^=r,t[12]^=e,t[13]^=r,t[22]^=e,t[23]^=r,t[32]^=e,t[33]^=r,t[42]^=e,t[43]^=r,e=s^(l<<1|f>>>31),r=a^(f<<1|l>>>31),t[4]^=e,t[5]^=r,t[14]^=e,t[15]^=r,t[24]^=e,t[25]^=r,t[34]^=e,t[35]^=r,t[44]^=e,t[45]^=r,e=u^(c<<1|p>>>31),r=h^(p<<1|c>>>31),t[6]^=e,t[7]^=r,t[16]^=e,t[17]^=r,t[26]^=e,t[27]^=r,t[36]^=e,t[37]^=r,t[46]^=e,t[47]^=r,e=l^(n<<1|o>>>31),r=f^(o<<1|n>>>31),t[8]^=e,t[9]^=r,t[18]^=e,t[19]^=r,t[28]^=e,t[29]^=r,t[38]^=e,t[39]^=r,t[48]^=e,t[49]^=r,g=t[0],m=t[1],V=t[11]<<4|t[10]>>>28,J=t[10]<<4|t[11]>>>28,R=t[20]<<3|t[21]>>>29,I=t[21]<<3|t[20]>>>29,ta=t[31]<<9|t[30]>>>23,tu=t[30]<<9|t[31]>>>23,z=t[40]<<18|t[41]>>>14,$=t[41]<<18|t[40]>>>14,C=t[2]<<1|t[3]>>>31,L=t[3]<<1|t[2]>>>31,v=t[13]<<12|t[12]>>>20,y=t[12]<<12|t[13]>>>20,K=t[22]<<10|t[23]>>>22,Z=t[23]<<10|t[22]>>>22,T=t[33]<<13|t[32]>>>19,P=t[32]<<13|t[33]>>>19,th=t[42]<<2|t[43]>>>30,tl=t[43]<<2|t[42]>>>30,te=t[5]<<30|t[4]>>>2,tr=t[4]<<30|t[5]>>>2,F=t[14]<<6|t[15]>>>26,j=t[15]<<6|t[14]>>>26,w=t[25]<<11|t[24]>>>21,b=t[24]<<11|t[25]>>>21,H=t[34]<<15|t[35]>>>17,Q=t[35]<<15|t[34]>>>17,N=t[45]<<29|t[44]>>>3,B=t[44]<<29|t[45]>>>3,x=t[6]<<28|t[7]>>>4,O=t[7]<<28|t[6]>>>4,ti=t[17]<<23|t[16]>>>9,tn=t[16]<<23|t[17]>>>9,W=t[26]<<25|t[27]>>>7,U=t[27]<<25|t[26]>>>7,M=t[36]<<21|t[37]>>>11,_=t[37]<<21|t[36]>>>11,X=t[47]<<24|t[46]>>>8,tt=t[46]<<24|t[47]>>>8,Y=t[8]<<27|t[9]>>>5,G=t[9]<<27|t[8]>>>5,k=t[18]<<20|t[19]>>>12,E=t[19]<<20|t[18]>>>12,to=t[29]<<7|t[28]>>>25,ts=t[28]<<7|t[29]>>>25,q=t[38]<<8|t[39]>>>24,D=t[39]<<8|t[38]>>>24,S=t[48]<<14|t[49]>>>18,A=t[49]<<14|t[48]>>>18,t[0]=g^~v&w,t[1]=m^~y&b,t[10]=x^~k&R,t[11]=O^~E&I,t[20]=C^~F&W,t[21]=L^~j&U,t[30]=Y^~V&K,t[31]=G^~J&Z,t[40]=te^~ti&to,t[41]=tr^~tn&ts,t[2]=v^~w&M,t[3]=y^~b&_,t[12]=k^~R&T,t[13]=E^~I&P,t[22]=F^~W&q,t[23]=j^~U&D,t[32]=V^~K&H,t[33]=J^~Z&Q,t[42]=ti^~to&ta,t[43]=tn^~ts&tu,t[4]=w^~M&S,t[5]=b^~_&A,t[14]=R^~T&N,t[15]=I^~P&B,t[24]=W^~q&z,t[25]=U^~D&$,t[34]=K^~H&X,t[35]=Z^~Q&tt,t[44]=to^~ta&th,t[45]=ts^~tu&tl,t[6]=M^~S&g,t[7]=_^~A&m,t[16]=T^~N&x,t[17]=P^~B&O,t[26]=q^~z&C,t[27]=D^~$&L,t[36]=H^~X&Y,t[37]=Q^~tt&G,t[46]=ta^~th&te,t[47]=tu^~tl&tr,t[8]=S^~g&v,t[9]=A^~m&y,t[18]=N^~x&k,t[19]=B^~O&E,t[28]=z^~C&F,t[29]=$^~L&j,t[38]=X^~Y&V,t[39]=tt^~G&J,t[48]=th^~te&ti,t[49]=tl^~tr&tn,t[0]^=d[i],t[1]^=d[i+1]};if(a)e.exports=x;else{for(k=0;k<O.length;++k)o[O[k]]=x[O[k]];u&&(t.r,void 0!==x&&t.v(x))}}()},29200,t=>{"use strict";var e=function(t,r){return(e=Object.setPrototypeOf||({__proto__:[]})instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var r in e)e.hasOwnProperty(r)&&(t[r]=e[r])})(t,r)};function r(t,r){function i(){this.constructor=t}e(t,r),t.prototype=null===r?Object.create(r):(i.prototype=r.prototype,new i)}var i=function(){return(i=Object.assign||function(t){for(var e,r=1,i=arguments.length;r<i;r++)for(var n in e=arguments[r])Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t}).apply(this,arguments)};function n(t,e){var r={};for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&0>e.indexOf(i)&&(r[i]=t[i]);if(null!=t&&"function"==typeof Object.getOwnPropertySymbols)for(var n=0,i=Object.getOwnPropertySymbols(t);n<i.length;n++)0>e.indexOf(i[n])&&Object.prototype.propertyIsEnumerable.call(t,i[n])&&(r[i[n]]=t[i[n]]);return r}function o(t,e,r,i){var n,o=arguments.length,s=o<3?e:null===i?i=Object.getOwnPropertyDescriptor(e,r):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,r,i);else for(var a=t.length-1;a>=0;a--)(n=t[a])&&(s=(o<3?n(s):o>3?n(e,r,s):n(e,r))||s);return o>3&&s&&Object.defineProperty(e,r,s),s}function s(t,e){return function(r,i){e(r,i,t)}}function a(t,e){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(t,e)}function u(t,e,r,i){return new(r||(r=Promise))(function(n,o){function s(t){try{u(i.next(t))}catch(t){o(t)}}function a(t){try{u(i.throw(t))}catch(t){o(t)}}function u(t){var e;t.done?n(t.value):((e=t.value)instanceof r?e:new r(function(t){t(e)})).then(s,a)}u((i=i.apply(t,e||[])).next())})}function h(t,e){var r,i,n,o,s={label:0,sent:function(){if(1&n[0])throw n[1];return n[1]},trys:[],ops:[]};return o={next:a(0),throw:a(1),return:a(2)},"function"==typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function a(o){return function(a){var u=[o,a];if(r)throw TypeError("Generator is already executing.");for(;s;)try{if(r=1,i&&(n=2&u[0]?i.return:u[0]?i.throw||((n=i.return)&&n.call(i),0):i.next)&&!(n=n.call(i,u[1])).done)return n;switch(i=0,n&&(u=[2&u[0],n.value]),u[0]){case 0:case 1:n=u;break;case 4:return s.label++,{value:u[1],done:!1};case 5:s.label++,i=u[1],u=[0];continue;case 7:u=s.ops.pop(),s.trys.pop();continue;default:if(!(n=(n=s.trys).length>0&&n[n.length-1])&&(6===u[0]||2===u[0])){s=0;continue}if(3===u[0]&&(!n||u[1]>n[0]&&u[1]<n[3])){s.label=u[1];break}if(6===u[0]&&s.label<n[1]){s.label=n[1],n=u;break}if(n&&s.label<n[2]){s.label=n[2],s.ops.push(u);break}n[2]&&s.ops.pop(),s.trys.pop();continue}u=e.call(t,s)}catch(t){u=[6,t],i=0}finally{r=n=0}if(5&u[0])throw u[1];return{value:u[0]?u[1]:void 0,done:!0}}}}function l(t,e,r,i){void 0===i&&(i=r),t[i]=e[r]}function f(t,e){for(var r in t)"default"===r||e.hasOwnProperty(r)||(e[r]=t[r])}function c(t){var e="function"==typeof Symbol&&Symbol.iterator,r=e&&t[e],i=0;if(r)return r.call(t);if(t&&"number"==typeof t.length)return{next:function(){return t&&i>=t.length&&(t=void 0),{value:t&&t[i++],done:!t}}};throw TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")}function d(t,e){var r="function"==typeof Symbol&&t[Symbol.iterator];if(!r)return t;var i,n,o=r.call(t),s=[];try{for(;(void 0===e||e-- >0)&&!(i=o.next()).done;)s.push(i.value)}catch(t){n={error:t}}finally{try{i&&!i.done&&(r=o.return)&&r.call(o)}finally{if(n)throw n.error}}return s}function p(){for(var t=[],e=0;e<arguments.length;e++)t=t.concat(d(arguments[e]));return t}function g(){for(var t=0,e=0,r=arguments.length;e<r;e++)t+=arguments[e].length;for(var i=Array(t),n=0,e=0;e<r;e++)for(var o=arguments[e],s=0,a=o.length;s<a;s++,n++)i[n]=o[s];return i}function m(t){return this instanceof m?(this.v=t,this):new m(t)}function v(t,e,r){if(!Symbol.asyncIterator)throw TypeError("Symbol.asyncIterator is not defined.");var i,n=r.apply(t,e||[]),o=[];return i={},s("next"),s("throw"),s("return"),i[Symbol.asyncIterator]=function(){return this},i;function s(t){n[t]&&(i[t]=function(e){return new Promise(function(r,i){o.push([t,e,r,i])>1||a(t,e)})})}function a(t,e){try{var r;(r=n[t](e)).value instanceof m?Promise.resolve(r.value.v).then(u,h):l(o[0][2],r)}catch(t){l(o[0][3],t)}}function u(t){a("next",t)}function h(t){a("throw",t)}function l(t,e){t(e),o.shift(),o.length&&a(o[0][0],o[0][1])}}function y(t){var e,r;return e={},i("next"),i("throw",function(t){throw t}),i("return"),e[Symbol.iterator]=function(){return this},e;function i(i,n){e[i]=t[i]?function(e){return(r=!r)?{value:m(t[i](e)),done:"return"===i}:n?n(e):e}:n}}function w(t){if(!Symbol.asyncIterator)throw TypeError("Symbol.asyncIterator is not defined.");var e,r=t[Symbol.asyncIterator];return r?r.call(t):(t=c(t),e={},i("next"),i("throw"),i("return"),e[Symbol.asyncIterator]=function(){return this},e);function i(r){e[r]=t[r]&&function(e){return new Promise(function(i,n){var o,s,a;o=i,s=n,a=(e=t[r](e)).done,Promise.resolve(e.value).then(function(t){o({value:t,done:a})},s)})}}}function b(t,e){return Object.defineProperty?Object.defineProperty(t,"raw",{value:e}):t.raw=e,t}function M(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var r in t)Object.hasOwnProperty.call(t,r)&&(e[r]=t[r]);return e.default=t,e}function _(t){return t&&t.__esModule?t:{default:t}}function S(t,e){if(!e.has(t))throw TypeError("attempted to get private field on non-instance");return e.get(t)}function A(t,e,r){if(!e.has(t))throw TypeError("attempted to set private field on non-instance");return e.set(t,r),r}t.s(["__assign",()=>i,"__asyncDelegator",()=>y,"__asyncGenerator",()=>v,"__asyncValues",()=>w,"__await",()=>m,"__awaiter",()=>u,"__classPrivateFieldGet",()=>S,"__classPrivateFieldSet",()=>A,"__createBinding",()=>l,"__decorate",()=>o,"__exportStar",()=>f,"__extends",()=>r,"__generator",()=>h,"__importDefault",()=>_,"__importStar",()=>M,"__makeTemplateObject",()=>b,"__metadata",()=>a,"__param",()=>s,"__read",()=>d,"__rest",()=>n,"__spread",()=>p,"__spreadArrays",()=>g,"__values",()=>c])},37843,(t,e,r)=>{"use strict";function i(){return(null===t.g||void 0===t.g?void 0:t.g.crypto)||(null===t.g||void 0===t.g?void 0:t.g.msCrypto)||{}}function n(){let t=i();return t.subtle||t.webkitSubtle}Object.defineProperty(r,"__esModule",{value:!0}),r.isBrowserCryptoAvailable=r.getSubtleCrypto=r.getBrowerCrypto=void 0,r.getBrowerCrypto=i,r.getSubtleCrypto=n,r.isBrowserCryptoAvailable=function(){return!!i()&&!!n()}},52112,(t,e,r)=>{"use strict";var i=t.i(85182);function n(){return"undefined"==typeof document&&"undefined"!=typeof navigator&&"ReactNative"===navigator.product}function o(){return void 0!==i.default&&void 0!==i.default.versions&&void 0!==i.default.versions.node}Object.defineProperty(r,"__esModule",{value:!0}),r.isBrowser=r.isNode=r.isReactNative=void 0,r.isReactNative=n,r.isNode=o,r.isBrowser=function(){return!n()&&!o()}},44298,(t,e,r)=>{"use strict";Object.defineProperty(r,"__esModule",{value:!0});let i=t.r(29200);i.__exportStar(t.r(37843),r),i.__exportStar(t.r(52112),r)},95065,(t,e,r)=>{"use strict";e.exports=t=>encodeURIComponent(t).replace(/[!'()*]/g,t=>`%${t.charCodeAt(0).toString(16).toUpperCase()}`)},8555,(t,e,r)=>{"use strict";var i="%[a-f0-9]{2}",n=RegExp("("+i+")|([^%]+?)","gi"),o=RegExp("("+i+")+","gi");e.exports=function(t){if("string"!=typeof t)throw TypeError("Expected `encodedURI` to be of type `string`, got `"+typeof t+"`");try{return t=t.replace(/\+/g," "),decodeURIComponent(t)}catch(e){return function(t){for(var e={"%FE%FF":"","%FF%FE":""},r=o.exec(t);r;){try{e[r[0]]=decodeURIComponent(r[0])}catch(t){var i=function(t){try{return decodeURIComponent(t)}catch(i){for(var e=t.match(n)||[],r=1;r<e.length;r++)e=(t=(function t(e,r){try{return[decodeURIComponent(e.join(""))]}catch(t){}if(1===e.length)return e;r=r||1;var i=e.slice(0,r),n=e.slice(r);return Array.prototype.concat.call([],t(i),t(n))})(e,r).join("")).match(n)||[];return t}}(r[0]);i!==r[0]&&(e[r[0]]=i)}r=o.exec(t)}e["%C2"]="";for(var s=Object.keys(e),a=0;a<s.length;a++){var u=s[a];t=t.replace(RegExp(u,"g"),e[u])}return t}(t)}}},75794,(t,e,r)=>{"use strict";e.exports=(t,e)=>{if("string"!=typeof t||"string"!=typeof e)throw TypeError("Expected the arguments to be of type `string`");if(""===e)return[t];let r=t.indexOf(e);return -1===r?[t]:[t.slice(0,r),t.slice(r+e.length)]}},57089,(t,e,r)=>{"use strict";let i=t.r(95065),n=t.r(8555),o=t.r(75794);function s(t){if("string"!=typeof t||1!==t.length)throw TypeError("arrayFormatSeparator must be single character string")}function a(t,e){return e.encode?e.strict?i(t):encodeURIComponent(t):t}function u(t,e){return e.decode?n(t):t}function h(t){let e=t.indexOf("#");return -1!==e&&(t=t.slice(0,e)),t}function l(t){let e=(t=h(t)).indexOf("?");return -1===e?"":t.slice(e+1)}function f(t,e){return e.parseNumbers&&!Number.isNaN(Number(t))&&"string"==typeof t&&""!==t.trim()?t=Number(t):e.parseBooleans&&null!==t&&("true"===t.toLowerCase()||"false"===t.toLowerCase())&&(t="true"===t.toLowerCase()),t}function c(t,e){s((e=Object.assign({decode:!0,sort:!0,arrayFormat:"none",arrayFormatSeparator:",",parseNumbers:!1,parseBooleans:!1},e)).arrayFormatSeparator);let r=function(t){let e;switch(t.arrayFormat){case"index":return(t,r,i)=>{if(e=/\[(\d*)\]$/.exec(t),t=t.replace(/\[\d*\]$/,""),!e){i[t]=r;return}void 0===i[t]&&(i[t]={}),i[t][e[1]]=r};case"bracket":return(t,r,i)=>{if(e=/(\[\])$/.exec(t),t=t.replace(/\[\]$/,""),!e){i[t]=r;return}if(void 0===i[t]){i[t]=[r];return}i[t]=[].concat(i[t],r)};case"comma":case"separator":return(e,r,i)=>{let n="string"==typeof r&&r.split("").indexOf(t.arrayFormatSeparator)>-1?r.split(t.arrayFormatSeparator).map(e=>u(e,t)):null===r?r:u(r,t);i[e]=n};default:return(t,e,r)=>{if(void 0===r[t]){r[t]=e;return}r[t]=[].concat(r[t],e)}}}(e),i=Object.create(null);if("string"!=typeof t||!(t=t.trim().replace(/^[?#&]/,"")))return i;for(let n of t.split("&")){let[t,s]=o(e.decode?n.replace(/\+/g," "):n,"=");s=void 0===s?null:["comma","separator"].includes(e.arrayFormat)?s:u(s,e),r(u(t,e),s,i)}for(let t of Object.keys(i)){let r=i[t];if("object"==typeof r&&null!==r)for(let t of Object.keys(r))r[t]=f(r[t],e);else i[t]=f(r,e)}return!1===e.sort?i:(!0===e.sort?Object.keys(i).sort():Object.keys(i).sort(e.sort)).reduce((t,e)=>{let r=i[e];return r&&"object"==typeof r&&!Array.isArray(r)?t[e]=function t(e){return Array.isArray(e)?e.sort():"object"==typeof e?t(Object.keys(e)).sort((t,e)=>Number(t)-Number(e)).map(t=>e[t]):e}(r):t[e]=r,t},Object.create(null))}r.extract=l,r.parse=c,r.stringify=(t,e)=>{if(!t)return"";s((e=Object.assign({encode:!0,strict:!0,arrayFormat:"none",arrayFormatSeparator:","},e)).arrayFormatSeparator);let r=r=>e.skipNull&&null==t[r]||e.skipEmptyString&&""===t[r],i=function(t){switch(t.arrayFormat){case"index":return e=>(r,i)=>{let n=r.length;return void 0===i||t.skipNull&&null===i||t.skipEmptyString&&""===i?r:null===i?[...r,a(e,t)+"["+n+"]"]:[...r,a(e,t)+"["+a(n,t)+"]="+a(i,t)]};case"bracket":return e=>(r,i)=>void 0===i||t.skipNull&&null===i||t.skipEmptyString&&""===i?r:null===i?[...r,a(e,t)+"[]"]:[...r,a(e,t)+"[]="+a(i,t)];case"comma":case"separator":return e=>(r,i)=>null==i||0===i.length?r:0===r.length?[a(e,t)+"="+a(i,t)]:[[r,a(i,t)].join(t.arrayFormatSeparator)];default:return e=>(r,i)=>void 0===i||t.skipNull&&null===i||t.skipEmptyString&&""===i?r:null===i?[...r,a(e,t)]:[...r,a(e,t)+"="+a(i,t)]}}(e),n={};for(let e of Object.keys(t))r(e)||(n[e]=t[e]);let o=Object.keys(n);return!1!==e.sort&&o.sort(e.sort),o.map(r=>{let n=t[r];return void 0===n?"":null===n?a(r,e):Array.isArray(n)?n.reduce(i(r),[]).join("&"):a(r,e)+"="+a(n,e)}).filter(t=>t.length>0).join("&")},r.parseUrl=(t,e)=>{e=Object.assign({decode:!0},e);let[r,i]=o(t,"#");return Object.assign({url:r.split("?")[0]||"",query:c(l(t),e)},e&&e.parseFragmentIdentifier&&i?{fragmentIdentifier:u(i,e)}:{})},r.stringifyUrl=(t,e)=>{var i;let n,o;e=Object.assign({encode:!0,strict:!0},e);let s=h(t.url).split("?")[0]||"",u=r.extract(t.url),l=Object.assign(r.parse(u,{sort:!1}),t.query),f=r.stringify(l,e);f&&(f=`?${f}`);let c=(i=t.url,n="",-1!==(o=i.indexOf("#"))&&(n=i.slice(o)),n);return t.fragmentIdentifier&&(c=`#${a(t.fragmentIdentifier,e)}`),`${s}${f}${c}`}},29238,(t,e,r)=>{"use strict";e.exports=function(){throw Error("ws does not work in the browser. Browser clients must use the native WebSocket object")}},38352,(t,e,r)=>{t.e,e.exports=function(){var t={17:function(t,e,r){"use strict";e.__esModule=!0,e.default=void 0;var i=r(18);e.default=function(){function t(){}return t.getFirstMatch=function(t,e){var r=e.match(t);return r&&r.length>0&&r[1]||""},t.getSecondMatch=function(t,e){var r=e.match(t);return r&&r.length>1&&r[2]||""},t.matchAndReturnConst=function(t,e,r){if(t.test(e))return r},t.getWindowsVersionName=function(t){switch(t){case"NT":return"NT";case"XP":case"NT 5.1":return"XP";case"NT 5.0":return"2000";case"NT 5.2":return"2003";case"NT 6.0":return"Vista";case"NT 6.1":return"7";case"NT 6.2":return"8";case"NT 6.3":return"8.1";case"NT 10.0":return"10";default:return}},t.getMacOSVersionName=function(t){var e=t.split(".").splice(0,2).map(function(t){return parseInt(t,10)||0});if(e.push(0),10===e[0])switch(e[1]){case 5:return"Leopard";case 6:return"Snow Leopard";case 7:return"Lion";case 8:return"Mountain Lion";case 9:return"Mavericks";case 10:return"Yosemite";case 11:return"El Capitan";case 12:return"Sierra";case 13:return"High Sierra";case 14:return"Mojave";case 15:return"Catalina";default:return}},t.getAndroidVersionName=function(t){var e=t.split(".").splice(0,2).map(function(t){return parseInt(t,10)||0});if(e.push(0),!(1===e[0]&&e[1]<5))return 1===e[0]&&e[1]<6?"Cupcake":1===e[0]&&e[1]>=6?"Donut":2===e[0]&&e[1]<2?"Eclair":2===e[0]&&2===e[1]?"Froyo":2===e[0]&&e[1]>2?"Gingerbread":3===e[0]?"Honeycomb":4===e[0]&&e[1]<1?"Ice Cream Sandwich":4===e[0]&&e[1]<4?"Jelly Bean":4===e[0]&&e[1]>=4?"KitKat":5===e[0]?"Lollipop":6===e[0]?"Marshmallow":7===e[0]?"Nougat":8===e[0]?"Oreo":9===e[0]?"Pie":void 0},t.getVersionPrecision=function(t){return t.split(".").length},t.compareVersions=function(e,r,i){void 0===i&&(i=!1);var n=t.getVersionPrecision(e),o=t.getVersionPrecision(r),s=Math.max(n,o),a=0,u=t.map([e,r],function(e){var r=s-t.getVersionPrecision(e),i=e+Array(r+1).join(".0");return t.map(i.split("."),function(t){return Array(20-t.length).join("0")+t}).reverse()});for(i&&(a=s-Math.min(n,o)),s-=1;s>=a;){if(u[0][s]>u[1][s])return 1;if(u[0][s]===u[1][s]){if(s===a)return 0;s-=1}else if(u[0][s]<u[1][s])return -1}},t.map=function(t,e){var r,i=[];if(Array.prototype.map)return Array.prototype.map.call(t,e);for(r=0;r<t.length;r+=1)i.push(e(t[r]));return i},t.find=function(t,e){var r,i;if(Array.prototype.find)return Array.prototype.find.call(t,e);for(r=0,i=t.length;r<i;r+=1){var n=t[r];if(e(n,r))return n}},t.assign=function(t){for(var e=arguments.length,r=Array(e>1?e-1:0),i=1;i<e;i++)r[i-1]=arguments[i];return Object.assign.apply(Object,[t].concat(r))},t.getBrowserAlias=function(t){return i.BROWSER_ALIASES_MAP[t]},t.getBrowserTypeByAlias=function(t){return i.BROWSER_MAP[t]||""},t}(),t.exports=e.default},18:function(t,e,r){"use strict";e.__esModule=!0,e.ENGINE_MAP=e.OS_MAP=e.PLATFORMS_MAP=e.BROWSER_MAP=e.BROWSER_ALIASES_MAP=void 0,e.BROWSER_ALIASES_MAP={"Amazon Silk":"amazon_silk","Android Browser":"android",Bada:"bada",BlackBerry:"blackberry",Chrome:"chrome",Chromium:"chromium",Electron:"electron",Epiphany:"epiphany",Firefox:"firefox",Focus:"focus",Generic:"generic","Google Search":"google_search",Googlebot:"googlebot","Internet Explorer":"ie","K-Meleon":"k_meleon",Maxthon:"maxthon","Microsoft Edge":"edge","MZ Browser":"mz","NAVER Whale Browser":"naver",Opera:"opera","Opera Coast":"opera_coast",PhantomJS:"phantomjs",Puffin:"puffin",QupZilla:"qupzilla",QQ:"qq",QQLite:"qqlite",Safari:"safari",Sailfish:"sailfish","Samsung Internet for Android":"samsung_internet",SeaMonkey:"seamonkey",Sleipnir:"sleipnir",Swing:"swing",Tizen:"tizen","UC Browser":"uc",Vivaldi:"vivaldi","WebOS Browser":"webos",WeChat:"wechat","Yandex Browser":"yandex",Roku:"roku"},e.BROWSER_MAP={amazon_silk:"Amazon Silk",android:"Android Browser",bada:"Bada",blackberry:"BlackBerry",chrome:"Chrome",chromium:"Chromium",electron:"Electron",epiphany:"Epiphany",firefox:"Firefox",focus:"Focus",generic:"Generic",googlebot:"Googlebot",google_search:"Google Search",ie:"Internet Explorer",k_meleon:"K-Meleon",maxthon:"Maxthon",edge:"Microsoft Edge",mz:"MZ Browser",naver:"NAVER Whale Browser",opera:"Opera",opera_coast:"Opera Coast",phantomjs:"PhantomJS",puffin:"Puffin",qupzilla:"QupZilla",qq:"QQ Browser",qqlite:"QQ Browser Lite",safari:"Safari",sailfish:"Sailfish",samsung_internet:"Samsung Internet for Android",seamonkey:"SeaMonkey",sleipnir:"Sleipnir",swing:"Swing",tizen:"Tizen",uc:"UC Browser",vivaldi:"Vivaldi",webos:"WebOS Browser",wechat:"WeChat",yandex:"Yandex Browser"},e.PLATFORMS_MAP={tablet:"tablet",mobile:"mobile",desktop:"desktop",tv:"tv"},e.OS_MAP={WindowsPhone:"Windows Phone",Windows:"Windows",MacOS:"macOS",iOS:"iOS",Android:"Android",WebOS:"WebOS",BlackBerry:"BlackBerry",Bada:"Bada",Tizen:"Tizen",Linux:"Linux",ChromeOS:"Chrome OS",PlayStation4:"PlayStation 4",Roku:"Roku"},e.ENGINE_MAP={EdgeHTML:"EdgeHTML",Blink:"Blink",Trident:"Trident",Presto:"Presto",Gecko:"Gecko",WebKit:"WebKit"}},90:function(t,e,r){"use strict";e.__esModule=!0,e.default=void 0;var i,n=(i=r(91))&&i.__esModule?i:{default:i},o=r(18);e.default=function(){function t(){}return t.getParser=function(t,e){if(void 0===e&&(e=!1),"string"!=typeof t)throw Error("UserAgent should be a string");return new n.default(t,e)},t.parse=function(t){return new n.default(t).getResult()},function(t,e){for(var r=0;r<e.length;r++){var i=e[r];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}(t,[{key:"BROWSER_MAP",get:function(){return o.BROWSER_MAP}},{key:"ENGINE_MAP",get:function(){return o.ENGINE_MAP}},{key:"OS_MAP",get:function(){return o.OS_MAP}},{key:"PLATFORMS_MAP",get:function(){return o.PLATFORMS_MAP}}]),t}(),t.exports=e.default},91:function(t,e,r){"use strict";e.__esModule=!0,e.default=void 0;var i=u(r(92)),n=u(r(93)),o=u(r(94)),s=u(r(95)),a=u(r(17));function u(t){return t&&t.__esModule?t:{default:t}}e.default=function(){function t(t,e){if(void 0===e&&(e=!1),null==t||""===t)throw Error("UserAgent parameter can't be empty");this._ua=t,this.parsedResult={},!0!==e&&this.parse()}var e=t.prototype;return e.getUA=function(){return this._ua},e.test=function(t){return t.test(this._ua)},e.parseBrowser=function(){var t=this;this.parsedResult.browser={};var e=a.default.find(i.default,function(e){if("function"==typeof e.test)return e.test(t);if(e.test instanceof Array)return e.test.some(function(e){return t.test(e)});throw Error("Browser's test function is not valid")});return e&&(this.parsedResult.browser=e.describe(this.getUA())),this.parsedResult.browser},e.getBrowser=function(){return this.parsedResult.browser?this.parsedResult.browser:this.parseBrowser()},e.getBrowserName=function(t){return t?String(this.getBrowser().name).toLowerCase()||"":this.getBrowser().name||""},e.getBrowserVersion=function(){return this.getBrowser().version},e.getOS=function(){return this.parsedResult.os?this.parsedResult.os:this.parseOS()},e.parseOS=function(){var t=this;this.parsedResult.os={};var e=a.default.find(n.default,function(e){if("function"==typeof e.test)return e.test(t);if(e.test instanceof Array)return e.test.some(function(e){return t.test(e)});throw Error("Browser's test function is not valid")});return e&&(this.parsedResult.os=e.describe(this.getUA())),this.parsedResult.os},e.getOSName=function(t){var e=this.getOS().name;return t?String(e).toLowerCase()||"":e||""},e.getOSVersion=function(){return this.getOS().version},e.getPlatform=function(){return this.parsedResult.platform?this.parsedResult.platform:this.parsePlatform()},e.getPlatformType=function(t){void 0===t&&(t=!1);var e=this.getPlatform().type;return t?String(e).toLowerCase()||"":e||""},e.parsePlatform=function(){var t=this;this.parsedResult.platform={};var e=a.default.find(o.default,function(e){if("function"==typeof e.test)return e.test(t);if(e.test instanceof Array)return e.test.some(function(e){return t.test(e)});throw Error("Browser's test function is not valid")});return e&&(this.parsedResult.platform=e.describe(this.getUA())),this.parsedResult.platform},e.getEngine=function(){return this.parsedResult.engine?this.parsedResult.engine:this.parseEngine()},e.getEngineName=function(t){return t?String(this.getEngine().name).toLowerCase()||"":this.getEngine().name||""},e.parseEngine=function(){var t=this;this.parsedResult.engine={};var e=a.default.find(s.default,function(e){if("function"==typeof e.test)return e.test(t);if(e.test instanceof Array)return e.test.some(function(e){return t.test(e)});throw Error("Browser's test function is not valid")});return e&&(this.parsedResult.engine=e.describe(this.getUA())),this.parsedResult.engine},e.parse=function(){return this.parseBrowser(),this.parseOS(),this.parsePlatform(),this.parseEngine(),this},e.getResult=function(){return a.default.assign({},this.parsedResult)},e.satisfies=function(t){var e=this,r={},i=0,n={},o=0;if(Object.keys(t).forEach(function(e){var s=t[e];"string"==typeof s?(n[e]=s,o+=1):"object"==typeof s&&(r[e]=s,i+=1)}),i>0){var s=Object.keys(r),u=a.default.find(s,function(t){return e.isOS(t)});if(u){var h=this.satisfies(r[u]);if(void 0!==h)return h}var l=a.default.find(s,function(t){return e.isPlatform(t)});if(l){var f=this.satisfies(r[l]);if(void 0!==f)return f}}if(o>0){var c=Object.keys(n),d=a.default.find(c,function(t){return e.isBrowser(t,!0)});if(void 0!==d)return this.compareVersion(n[d])}},e.isBrowser=function(t,e){void 0===e&&(e=!1);var r=this.getBrowserName().toLowerCase(),i=t.toLowerCase(),n=a.default.getBrowserTypeByAlias(i);return e&&n&&(i=n.toLowerCase()),i===r},e.compareVersion=function(t){var e=[0],r=t,i=!1,n=this.getBrowserVersion();if("string"==typeof n)return">"===t[0]||"<"===t[0]?(r=t.substr(1),"="===t[1]?(i=!0,r=t.substr(2)):e=[],">"===t[0]?e.push(1):e.push(-1)):"="===t[0]?r=t.substr(1):"~"===t[0]&&(i=!0,r=t.substr(1)),e.indexOf(a.default.compareVersions(n,r,i))>-1},e.isOS=function(t){return this.getOSName(!0)===String(t).toLowerCase()},e.isPlatform=function(t){return this.getPlatformType(!0)===String(t).toLowerCase()},e.isEngine=function(t){return this.getEngineName(!0)===String(t).toLowerCase()},e.is=function(t,e){return void 0===e&&(e=!1),this.isBrowser(t,e)||this.isOS(t)||this.isPlatform(t)},e.some=function(t){var e=this;return void 0===t&&(t=[]),t.some(function(t){return e.is(t)})},t}(),t.exports=e.default},92:function(t,e,r){"use strict";e.__esModule=!0,e.default=void 0;var i,n=(i=r(17))&&i.__esModule?i:{default:i},o=/version\/(\d+(\.?_?\d+)+)/i;e.default=[{test:[/googlebot/i],describe:function(t){var e={name:"Googlebot"},r=n.default.getFirstMatch(/googlebot\/(\d+(\.\d+))/i,t)||n.default.getFirstMatch(o,t);return r&&(e.version=r),e}},{test:[/opera/i],describe:function(t){var e={name:"Opera"},r=n.default.getFirstMatch(o,t)||n.default.getFirstMatch(/(?:opera)[\s/](\d+(\.?_?\d+)+)/i,t);return r&&(e.version=r),e}},{test:[/opr\/|opios/i],describe:function(t){var e={name:"Opera"},r=n.default.getFirstMatch(/(?:opr|opios)[\s/](\S+)/i,t)||n.default.getFirstMatch(o,t);return r&&(e.version=r),e}},{test:[/SamsungBrowser/i],describe:function(t){var e={name:"Samsung Internet for Android"},r=n.default.getFirstMatch(o,t)||n.default.getFirstMatch(/(?:SamsungBrowser)[\s/](\d+(\.?_?\d+)+)/i,t);return r&&(e.version=r),e}},{test:[/Whale/i],describe:function(t){var e={name:"NAVER Whale Browser"},r=n.default.getFirstMatch(o,t)||n.default.getFirstMatch(/(?:whale)[\s/](\d+(?:\.\d+)+)/i,t);return r&&(e.version=r),e}},{test:[/MZBrowser/i],describe:function(t){var e={name:"MZ Browser"},r=n.default.getFirstMatch(/(?:MZBrowser)[\s/](\d+(?:\.\d+)+)/i,t)||n.default.getFirstMatch(o,t);return r&&(e.version=r),e}},{test:[/focus/i],describe:function(t){var e={name:"Focus"},r=n.default.getFirstMatch(/(?:focus)[\s/](\d+(?:\.\d+)+)/i,t)||n.default.getFirstMatch(o,t);return r&&(e.version=r),e}},{test:[/swing/i],describe:function(t){var e={name:"Swing"},r=n.default.getFirstMatch(/(?:swing)[\s/](\d+(?:\.\d+)+)/i,t)||n.default.getFirstMatch(o,t);return r&&(e.version=r),e}},{test:[/coast/i],describe:function(t){var e={name:"Opera Coast"},r=n.default.getFirstMatch(o,t)||n.default.getFirstMatch(/(?:coast)[\s/](\d+(\.?_?\d+)+)/i,t);return r&&(e.version=r),e}},{test:[/opt\/\d+(?:.?_?\d+)+/i],describe:function(t){var e={name:"Opera Touch"},r=n.default.getFirstMatch(/(?:opt)[\s/](\d+(\.?_?\d+)+)/i,t)||n.default.getFirstMatch(o,t);return r&&(e.version=r),e}},{test:[/yabrowser/i],describe:function(t){var e={name:"Yandex Browser"},r=n.default.getFirstMatch(/(?:yabrowser)[\s/](\d+(\.?_?\d+)+)/i,t)||n.default.getFirstMatch(o,t);return r&&(e.version=r),e}},{test:[/ucbrowser/i],describe:function(t){var e={name:"UC Browser"},r=n.default.getFirstMatch(o,t)||n.default.getFirstMatch(/(?:ucbrowser)[\s/](\d+(\.?_?\d+)+)/i,t);return r&&(e.version=r),e}},{test:[/Maxthon|mxios/i],describe:function(t){var e={name:"Maxthon"},r=n.default.getFirstMatch(o,t)||n.default.getFirstMatch(/(?:Maxthon|mxios)[\s/](\d+(\.?_?\d+)+)/i,t);return r&&(e.version=r),e}},{test:[/epiphany/i],describe:function(t){var e={name:"Epiphany"},r=n.default.getFirstMatch(o,t)||n.default.getFirstMatch(/(?:epiphany)[\s/](\d+(\.?_?\d+)+)/i,t);return r&&(e.version=r),e}},{test:[/puffin/i],describe:function(t){var e={name:"Puffin"},r=n.default.getFirstMatch(o,t)||n.default.getFirstMatch(/(?:puffin)[\s/](\d+(\.?_?\d+)+)/i,t);return r&&(e.version=r),e}},{test:[/sleipnir/i],describe:function(t){var e={name:"Sleipnir"},r=n.default.getFirstMatch(o,t)||n.default.getFirstMatch(/(?:sleipnir)[\s/](\d+(\.?_?\d+)+)/i,t);return r&&(e.version=r),e}},{test:[/k-meleon/i],describe:function(t){var e={name:"K-Meleon"},r=n.default.getFirstMatch(o,t)||n.default.getFirstMatch(/(?:k-meleon)[\s/](\d+(\.?_?\d+)+)/i,t);return r&&(e.version=r),e}},{test:[/micromessenger/i],describe:function(t){var e={name:"WeChat"},r=n.default.getFirstMatch(/(?:micromessenger)[\s/](\d+(\.?_?\d+)+)/i,t)||n.default.getFirstMatch(o,t);return r&&(e.version=r),e}},{test:[/qqbrowser/i],describe:function(t){var e={name:/qqbrowserlite/i.test(t)?"QQ Browser Lite":"QQ Browser"},r=n.default.getFirstMatch(/(?:qqbrowserlite|qqbrowser)[/](\d+(\.?_?\d+)+)/i,t)||n.default.getFirstMatch(o,t);return r&&(e.version=r),e}},{test:[/msie|trident/i],describe:function(t){var e={name:"Internet Explorer"},r=n.default.getFirstMatch(/(?:msie |rv:)(\d+(\.?_?\d+)+)/i,t);return r&&(e.version=r),e}},{test:[/\sedg\//i],describe:function(t){var e={name:"Microsoft Edge"},r=n.default.getFirstMatch(/\sedg\/(\d+(\.?_?\d+)+)/i,t);return r&&(e.version=r),e}},{test:[/edg([ea]|ios)/i],describe:function(t){var e={name:"Microsoft Edge"},r=n.default.getSecondMatch(/edg([ea]|ios)\/(\d+(\.?_?\d+)+)/i,t);return r&&(e.version=r),e}},{test:[/vivaldi/i],describe:function(t){var e={name:"Vivaldi"},r=n.default.getFirstMatch(/vivaldi\/(\d+(\.?_?\d+)+)/i,t);return r&&(e.version=r),e}},{test:[/seamonkey/i],describe:function(t){var e={name:"SeaMonkey"},r=n.default.getFirstMatch(/seamonkey\/(\d+(\.?_?\d+)+)/i,t);return r&&(e.version=r),e}},{test:[/sailfish/i],describe:function(t){var e={name:"Sailfish"},r=n.default.getFirstMatch(/sailfish\s?browser\/(\d+(\.\d+)?)/i,t);return r&&(e.version=r),e}},{test:[/silk/i],describe:function(t){var e={name:"Amazon Silk"},r=n.default.getFirstMatch(/silk\/(\d+(\.?_?\d+)+)/i,t);return r&&(e.version=r),e}},{test:[/phantom/i],describe:function(t){var e={name:"PhantomJS"},r=n.default.getFirstMatch(/phantomjs\/(\d+(\.?_?\d+)+)/i,t);return r&&(e.version=r),e}},{test:[/slimerjs/i],describe:function(t){var e={name:"SlimerJS"},r=n.default.getFirstMatch(/slimerjs\/(\d+(\.?_?\d+)+)/i,t);return r&&(e.version=r),e}},{test:[/blackberry|\bbb\d+/i,/rim\stablet/i],describe:function(t){var e={name:"BlackBerry"},r=n.default.getFirstMatch(o,t)||n.default.getFirstMatch(/blackberry[\d]+\/(\d+(\.?_?\d+)+)/i,t);return r&&(e.version=r),e}},{test:[/(web|hpw)[o0]s/i],describe:function(t){var e={name:"WebOS Browser"},r=n.default.getFirstMatch(o,t)||n.default.getFirstMatch(/w(?:eb)?[o0]sbrowser\/(\d+(\.?_?\d+)+)/i,t);return r&&(e.version=r),e}},{test:[/bada/i],describe:function(t){var e={name:"Bada"},r=n.default.getFirstMatch(/dolfin\/(\d+(\.?_?\d+)+)/i,t);return r&&(e.version=r),e}},{test:[/tizen/i],describe:function(t){var e={name:"Tizen"},r=n.default.getFirstMatch(/(?:tizen\s?)?browser\/(\d+(\.?_?\d+)+)/i,t)||n.default.getFirstMatch(o,t);return r&&(e.version=r),e}},{test:[/qupzilla/i],describe:function(t){var e={name:"QupZilla"},r=n.default.getFirstMatch(/(?:qupzilla)[\s/](\d+(\.?_?\d+)+)/i,t)||n.default.getFirstMatch(o,t);return r&&(e.version=r),e}},{test:[/firefox|iceweasel|fxios/i],describe:function(t){var e={name:"Firefox"},r=n.default.getFirstMatch(/(?:firefox|iceweasel|fxios)[\s/](\d+(\.?_?\d+)+)/i,t);return r&&(e.version=r),e}},{test:[/electron/i],describe:function(t){var e={name:"Electron"},r=n.default.getFirstMatch(/(?:electron)\/(\d+(\.?_?\d+)+)/i,t);return r&&(e.version=r),e}},{test:[/MiuiBrowser/i],describe:function(t){var e={name:"Miui"},r=n.default.getFirstMatch(/(?:MiuiBrowser)[\s/](\d+(\.?_?\d+)+)/i,t);return r&&(e.version=r),e}},{test:[/chromium/i],describe:function(t){var e={name:"Chromium"},r=n.default.getFirstMatch(/(?:chromium)[\s/](\d+(\.?_?\d+)+)/i,t)||n.default.getFirstMatch(o,t);return r&&(e.version=r),e}},{test:[/chrome|crios|crmo/i],describe:function(t){var e={name:"Chrome"},r=n.default.getFirstMatch(/(?:chrome|crios|crmo)\/(\d+(\.?_?\d+)+)/i,t);return r&&(e.version=r),e}},{test:[/GSA/i],describe:function(t){var e={name:"Google Search"},r=n.default.getFirstMatch(/(?:GSA)\/(\d+(\.?_?\d+)+)/i,t);return r&&(e.version=r),e}},{test:function(t){var e=!t.test(/like android/i),r=t.test(/android/i);return e&&r},describe:function(t){var e={name:"Android Browser"},r=n.default.getFirstMatch(o,t);return r&&(e.version=r),e}},{test:[/playstation 4/i],describe:function(t){var e={name:"PlayStation 4"},r=n.default.getFirstMatch(o,t);return r&&(e.version=r),e}},{test:[/safari|applewebkit/i],describe:function(t){var e={name:"Safari"},r=n.default.getFirstMatch(o,t);return r&&(e.version=r),e}},{test:[/.*/i],describe:function(t){var e=-1!==t.search("\\(")?/^(.*)\/(.*)[ \t]\((.*)/:/^(.*)\/(.*) /;return{name:n.default.getFirstMatch(e,t),version:n.default.getSecondMatch(e,t)}}}],t.exports=e.default},93:function(t,e,r){"use strict";e.__esModule=!0,e.default=void 0;var i,n=(i=r(17))&&i.__esModule?i:{default:i},o=r(18);e.default=[{test:[/Roku\/DVP/],describe:function(t){var e=n.default.getFirstMatch(/Roku\/DVP-(\d+\.\d+)/i,t);return{name:o.OS_MAP.Roku,version:e}}},{test:[/windows phone/i],describe:function(t){var e=n.default.getFirstMatch(/windows phone (?:os)?\s?(\d+(\.\d+)*)/i,t);return{name:o.OS_MAP.WindowsPhone,version:e}}},{test:[/windows /i],describe:function(t){var e=n.default.getFirstMatch(/Windows ((NT|XP)( \d\d?.\d)?)/i,t),r=n.default.getWindowsVersionName(e);return{name:o.OS_MAP.Windows,version:e,versionName:r}}},{test:[/Macintosh(.*?) FxiOS(.*?)\//],describe:function(t){var e={name:o.OS_MAP.iOS},r=n.default.getSecondMatch(/(Version\/)(\d[\d.]+)/,t);return r&&(e.version=r),e}},{test:[/macintosh/i],describe:function(t){var e=n.default.getFirstMatch(/mac os x (\d+(\.?_?\d+)+)/i,t).replace(/[_\s]/g,"."),r=n.default.getMacOSVersionName(e),i={name:o.OS_MAP.MacOS,version:e};return r&&(i.versionName=r),i}},{test:[/(ipod|iphone|ipad)/i],describe:function(t){var e=n.default.getFirstMatch(/os (\d+([_\s]\d+)*) like mac os x/i,t).replace(/[_\s]/g,".");return{name:o.OS_MAP.iOS,version:e}}},{test:function(t){var e=!t.test(/like android/i),r=t.test(/android/i);return e&&r},describe:function(t){var e=n.default.getFirstMatch(/android[\s/-](\d+(\.\d+)*)/i,t),r=n.default.getAndroidVersionName(e),i={name:o.OS_MAP.Android,version:e};return r&&(i.versionName=r),i}},{test:[/(web|hpw)[o0]s/i],describe:function(t){var e=n.default.getFirstMatch(/(?:web|hpw)[o0]s\/(\d+(\.\d+)*)/i,t),r={name:o.OS_MAP.WebOS};return e&&e.length&&(r.version=e),r}},{test:[/blackberry|\bbb\d+/i,/rim\stablet/i],describe:function(t){var e=n.default.getFirstMatch(/rim\stablet\sos\s(\d+(\.\d+)*)/i,t)||n.default.getFirstMatch(/blackberry\d+\/(\d+([_\s]\d+)*)/i,t)||n.default.getFirstMatch(/\bbb(\d+)/i,t);return{name:o.OS_MAP.BlackBerry,version:e}}},{test:[/bada/i],describe:function(t){var e=n.default.getFirstMatch(/bada\/(\d+(\.\d+)*)/i,t);return{name:o.OS_MAP.Bada,version:e}}},{test:[/tizen/i],describe:function(t){var e=n.default.getFirstMatch(/tizen[/\s](\d+(\.\d+)*)/i,t);return{name:o.OS_MAP.Tizen,version:e}}},{test:[/linux/i],describe:function(){return{name:o.OS_MAP.Linux}}},{test:[/CrOS/],describe:function(){return{name:o.OS_MAP.ChromeOS}}},{test:[/PlayStation 4/],describe:function(t){var e=n.default.getFirstMatch(/PlayStation 4[/\s](\d+(\.\d+)*)/i,t);return{name:o.OS_MAP.PlayStation4,version:e}}}],t.exports=e.default},94:function(t,e,r){"use strict";e.__esModule=!0,e.default=void 0;var i,n=(i=r(17))&&i.__esModule?i:{default:i},o=r(18);e.default=[{test:[/googlebot/i],describe:function(){return{type:"bot",vendor:"Google"}}},{test:[/huawei/i],describe:function(t){var e=n.default.getFirstMatch(/(can-l01)/i,t)&&"Nova",r={type:o.PLATFORMS_MAP.mobile,vendor:"Huawei"};return e&&(r.model=e),r}},{test:[/nexus\s*(?:7|8|9|10).*/i],describe:function(){return{type:o.PLATFORMS_MAP.tablet,vendor:"Nexus"}}},{test:[/ipad/i],describe:function(){return{type:o.PLATFORMS_MAP.tablet,vendor:"Apple",model:"iPad"}}},{test:[/Macintosh(.*?) FxiOS(.*?)\//],describe:function(){return{type:o.PLATFORMS_MAP.tablet,vendor:"Apple",model:"iPad"}}},{test:[/kftt build/i],describe:function(){return{type:o.PLATFORMS_MAP.tablet,vendor:"Amazon",model:"Kindle Fire HD 7"}}},{test:[/silk/i],describe:function(){return{type:o.PLATFORMS_MAP.tablet,vendor:"Amazon"}}},{test:[/tablet(?! pc)/i],describe:function(){return{type:o.PLATFORMS_MAP.tablet}}},{test:function(t){var e=t.test(/ipod|iphone/i),r=t.test(/like (ipod|iphone)/i);return e&&!r},describe:function(t){var e=n.default.getFirstMatch(/(ipod|iphone)/i,t);return{type:o.PLATFORMS_MAP.mobile,vendor:"Apple",model:e}}},{test:[/nexus\s*[0-6].*/i,/galaxy nexus/i],describe:function(){return{type:o.PLATFORMS_MAP.mobile,vendor:"Nexus"}}},{test:[/[^-]mobi/i],describe:function(){return{type:o.PLATFORMS_MAP.mobile}}},{test:function(t){return"blackberry"===t.getBrowserName(!0)},describe:function(){return{type:o.PLATFORMS_MAP.mobile,vendor:"BlackBerry"}}},{test:function(t){return"bada"===t.getBrowserName(!0)},describe:function(){return{type:o.PLATFORMS_MAP.mobile}}},{test:function(t){return"windows phone"===t.getBrowserName()},describe:function(){return{type:o.PLATFORMS_MAP.mobile,vendor:"Microsoft"}}},{test:function(t){var e=Number(String(t.getOSVersion()).split(".")[0]);return"android"===t.getOSName(!0)&&e>=3},describe:function(){return{type:o.PLATFORMS_MAP.tablet}}},{test:function(t){return"android"===t.getOSName(!0)},describe:function(){return{type:o.PLATFORMS_MAP.mobile}}},{test:function(t){return"macos"===t.getOSName(!0)},describe:function(){return{type:o.PLATFORMS_MAP.desktop,vendor:"Apple"}}},{test:function(t){return"windows"===t.getOSName(!0)},describe:function(){return{type:o.PLATFORMS_MAP.desktop}}},{test:function(t){return"linux"===t.getOSName(!0)},describe:function(){return{type:o.PLATFORMS_MAP.desktop}}},{test:function(t){return"playstation 4"===t.getOSName(!0)},describe:function(){return{type:o.PLATFORMS_MAP.tv}}},{test:function(t){return"roku"===t.getOSName(!0)},describe:function(){return{type:o.PLATFORMS_MAP.tv}}}],t.exports=e.default},95:function(t,e,r){"use strict";e.__esModule=!0,e.default=void 0;var i,n=(i=r(17))&&i.__esModule?i:{default:i},o=r(18);e.default=[{test:function(t){return"microsoft edge"===t.getBrowserName(!0)},describe:function(t){if(/\sedg\//i.test(t))return{name:o.ENGINE_MAP.Blink};var e=n.default.getFirstMatch(/edge\/(\d+(\.?_?\d+)+)/i,t);return{name:o.ENGINE_MAP.EdgeHTML,version:e}}},{test:[/trident/i],describe:function(t){var e={name:o.ENGINE_MAP.Trident},r=n.default.getFirstMatch(/trident\/(\d+(\.?_?\d+)+)/i,t);return r&&(e.version=r),e}},{test:function(t){return t.test(/presto/i)},describe:function(t){var e={name:o.ENGINE_MAP.Presto},r=n.default.getFirstMatch(/presto\/(\d+(\.?_?\d+)+)/i,t);return r&&(e.version=r),e}},{test:function(t){var e=t.test(/gecko/i),r=t.test(/like gecko/i);return e&&!r},describe:function(t){var e={name:o.ENGINE_MAP.Gecko},r=n.default.getFirstMatch(/gecko\/(\d+(\.?_?\d+)+)/i,t);return r&&(e.version=r),e}},{test:[/(apple)?webkit\/537\.36/i],describe:function(){return{name:o.ENGINE_MAP.Blink}}},{test:[/(apple)?webkit/i],describe:function(t){var e={name:o.ENGINE_MAP.WebKit},r=n.default.getFirstMatch(/webkit\/(\d+(\.?_?\d+)+)/i,t);return r&&(e.version=r),e}}],t.exports=e.default}},e={};function r(i){if(e[i])return e[i].exports;var n=e[i]={i:i,l:!1,exports:{}};return t[i].call(n.exports,n,n.exports,r),n.l=!0,n.exports}return r.m=t,r.c=e,r.d=function(t,e,i){r.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:i})},r.r=function(t){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},r.t=function(t,e){if(1&e&&(t=r(t)),8&e||4&e&&"object"==typeof t&&t&&t.__esModule)return t;var i=Object.create(null);if(r.r(i),Object.defineProperty(i,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var n in t)r.d(i,n,(function(e){return t[e]}).bind(null,n));return i},r.n=function(t){var e=t&&t.__esModule?function(){return t.default}:function(){return t};return r.d(e,"a",e),e},r.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},r.p="",r(r.s=90)}()},53810,82045,t=>{"use strict";var e=t.i(54371),r=t.i(21568),i=t.i(38840),n=t.i(85182),o=function(){for(var t=0,e=0,r=arguments.length;e<r;e++)t+=arguments[e].length;for(var i=Array(t),n=0,e=0;e<r;e++)for(var o=arguments[e],s=0,a=o.length;s<a;s++,n++)i[n]=o[s];return i},s=function(t,e,r){this.name=t,this.version=e,this.os=r,this.type="browser"},a=function(t){this.version=t,this.type="node",this.name="node",this.os=n.default.platform},u=function(t,e,r,i){this.name=t,this.version=e,this.os=r,this.bot=i,this.type="bot-device"},h=function(){this.type="bot",this.bot=!0,this.name="bot",this.version=null,this.os=null},l=function(){this.type="react-native",this.name="react-native",this.version=null,this.os=null},f=/(nuhk|Googlebot|Yammybot|Openbot|Slurp|MSNBot|Ask\ Jeeves\/Teoma|ia_archiver)/,c=[["aol",/AOLShield\/([0-9\._]+)/],["edge",/Edge\/([0-9\._]+)/],["edge-ios",/EdgiOS\/([0-9\._]+)/],["yandexbrowser",/YaBrowser\/([0-9\._]+)/],["kakaotalk",/KAKAOTALK\s([0-9\.]+)/],["samsung",/SamsungBrowser\/([0-9\.]+)/],["silk",/\bSilk\/([0-9._-]+)\b/],["miui",/MiuiBrowser\/([0-9\.]+)$/],["beaker",/BeakerBrowser\/([0-9\.]+)/],["edge-chromium",/EdgA?\/([0-9\.]+)/],["chromium-webview",/(?!Chrom.*OPR)wv\).*Chrom(?:e|ium)\/([0-9\.]+)(:?\s|$)/],["chrome",/(?!Chrom.*OPR)Chrom(?:e|ium)\/([0-9\.]+)(:?\s|$)/],["phantomjs",/PhantomJS\/([0-9\.]+)(:?\s|$)/],["crios",/CriOS\/([0-9\.]+)(:?\s|$)/],["firefox",/Firefox\/([0-9\.]+)(?:\s|$)/],["fxios",/FxiOS\/([0-9\.]+)/],["opera-mini",/Opera Mini.*Version\/([0-9\.]+)/],["opera",/Opera\/([0-9\.]+)(?:\s|$)/],["opera",/OPR\/([0-9\.]+)(:?\s|$)/],["ie",/Trident\/7\.0.*rv\:([0-9\.]+).*\).*Gecko$/],["ie",/MSIE\s([0-9\.]+);.*Trident\/[4-7].0/],["ie",/MSIE\s(7\.0)/],["bb10",/BB10;\sTouch.*Version\/([0-9\.]+)/],["android",/Android\s([0-9\.]+)/],["ios",/Version\/([0-9\._]+).*Mobile.*Safari.*/],["safari",/Version\/([0-9\._]+).*Safari/],["facebook",/FBAV\/([0-9\.]+)/],["instagram",/Instagram\s([0-9\.]+)/],["ios-webview",/AppleWebKit\/([0-9\.]+).*Mobile/],["ios-webview",/AppleWebKit\/([0-9\.]+).*Gecko\)$/],["searchbot",/alexa|bot|crawl(er|ing)|facebookexternalhit|feedburner|google web preview|nagios|postrank|pingdom|slurp|spider|yahoo!|yandex/]],d=[["iOS",/iP(hone|od|ad)/],["Android OS",/Android/],["BlackBerry OS",/BlackBerry|BB10/],["Windows Mobile",/IEMobile/],["Amazon OS",/Kindle/],["Windows 3.11",/Win16/],["Windows 95",/(Windows 95)|(Win95)|(Windows_95)/],["Windows 98",/(Windows 98)|(Win98)/],["Windows 2000",/(Windows NT 5.0)|(Windows 2000)/],["Windows XP",/(Windows NT 5.1)|(Windows XP)/],["Windows Server 2003",/(Windows NT 5.2)/],["Windows Vista",/(Windows NT 6.0)/],["Windows 7",/(Windows NT 6.1)/],["Windows 8",/(Windows NT 6.2)/],["Windows 8.1",/(Windows NT 6.3)/],["Windows 10",/(Windows NT 10.0)/],["Windows ME",/Windows ME/],["Open BSD",/OpenBSD/],["Sun OS",/SunOS/],["Chrome OS",/CrOS/],["Linux",/(Linux)|(X11)/],["Mac OS",/(Mac_PowerPC)|(Macintosh)/],["QNX",/QNX/],["BeOS",/BeOS/],["OS/2",/OS\/2/]];function p(t){var e=""!==t&&c.reduce(function(e,r){var i=r[0],n=r[1];if(e)return e;var o=n.exec(t);return!!o&&[i,o]},!1);if(!e)return null;var r=e[0],i=e[1];if("searchbot"===r)return new h;var n=i[1]&&i[1].split(/[._]/).slice(0,3);n?n.length<3&&(n=o(n,function(t){for(var e=[],r=0;r<t;r++)e.push("0");return e}(3-n.length))):n=[];var a=n.join("."),l=function(t){for(var e=0,r=d.length;e<r;e++){var i=d[e],n=i[0];if(i[1].exec(t))return n}return null}(t),p=f.exec(t);return p&&p[1]?new u(r,a,l,p[1]):new s(r,a,l)}function g(t){return t?p(t):"undefined"==typeof document&&"undefined"!=typeof navigator&&"ReactNative"===navigator.product?new l:"undefined"!=typeof navigator?p(navigator.userAgent):void 0!==n.default&&n.default.version?new a(n.default.version.slice(1)):null}function m(){let t=g();return t&&t.os?t.os:void 0}i.getFromWindow,i.getFromWindowOrThrow,i.getDocumentOrThrow,i.getDocument,i.getNavigatorOrThrow;let v=i.getNavigator;i.getLocationOrThrow;let y=i.getLocation;i.getCryptoOrThrow,i.getCrypto,i.getLocalStorageOrThrow;let w=i.getLocalStorage;function b(){return r.getWindowMetadata()}let M=function(t){if("string"!=typeof t)throw Error(`Cannot safe json parse value of type ${typeof t}`);try{return JSON.parse(t)}catch(e){return t}};function _(t){let e=null,r=w();return r&&(e=r.getItem(t)),e?M(e):e}function S(t){let e=w();e&&e.removeItem(t)}let A="WALLETCONNECT_DEEPLINK_CHOICE",x=["session_request","session_update","exchange_key","connect","disconnect","display_uri","modal_closed","transport_open","transport_close","transport_error"],O=["eth_sendTransaction","eth_signTransaction","eth_sign","eth_signTypedData","eth_signTypedData_v1","eth_signTypedData_v2","eth_signTypedData_v3","eth_signTypedData_v4","personal_sign","wallet_addEthereumChain","wallet_switchEthereumChain","wallet_getPermissions","wallet_requestPermissions","wallet_registerOnboarding","wallet_watchAsset","wallet_scanQRCode"];var k=t.i(28422);t.i(41930);var E=t.i(76651);let R="utf8";function I(t){return new Uint8Array(t)}function T(t,e=!1){let r=t.toString("hex");return e?j(r):r}function P(t){return(0,E.default)(t)}function N(t,e=!1){return T(P(t),e)}function B(t){return I(e.Buffer.from(F(t),"hex"))}function C(t){return e.Buffer.from(t,R)}function L(...t){let e=[];return t.forEach(t=>e=e.concat(Array.from(t))),new Uint8Array([...e])}function F(t){return t.replace(/^0x/,"")}function j(t){return t.startsWith("0x")?t:`0x${t}`}function W(t){return(t=function(t,e=8,r="0"){return function(t,e,r="0"){return function(t,e,r,i="0"){let n=e-t.length,o=t;if(n>0){let e=i.repeat(n);o=r?e+t:t+e}return o}(t,e,!0,r)}(t,function(t,e=8){let r=t%e;return r?(t-r)/e*e+e:t}(t.length,e),r)}(t=F(t),2))&&(t=j(t)),t}function U(t){return P(new Uint8Array(t))}function q(t,e){let r=F(W(new k.default(t).toString(16)));return e?r:j(r)}var D=t.i(60741),z=t.i(44298);z.isNode;function $(){var t,e;for(e=t="";t++<36;e+=51*t&52?(15^t?8^Math.random()*(20^t?16:4):4).toString(16):"-");return e}function Y(t,e){return"string"==typeof t&&!!t.match(/^0x[0-9A-Fa-f]*$/)&&(!e||t.length===2+2*e)}function G(t){return void 0!==t.result}function V(t){return void 0!==t.error}function J(t){return void 0!==t.event}function K(t){return t&&t.length&&!Y(t[0])&&(t[0]=function(t,e=!1){return T(C(t),e)}(t[0],!0)),t}function Z(t){var e;if(void 0!==t.type&&"0"!==t.type)return t;if(void 0===t.from||!((e=t.from)&&"0x"===e.toLowerCase().substring(0,2)&&/^(0x)?[0-9a-f]{40}$/i.test(e)&&(/^(0x)?[0-9a-f]{40}$/.test(e)||/^(0x)?[0-9A-F]{40}$/.test(e)||e===function(t){t=F(t.toLowerCase());let e=F((0,D.keccak_256)(C(t))),r="";for(let i=0;i<t.length;i++)parseInt(e[i],16)>7?r+=t[i].toUpperCase():r+=t[i];return j(r)}(e))))throw Error("Transaction object must include a valid 'from' value.");function r(t){var e;let r,i=t;return("number"==typeof t||"string"==typeof t&&""!==t&&("string"!=typeof t||""!==t.trim()))&&(Y(t)?"string"==typeof t&&(i=W(t)):i=q(t)),"string"==typeof i&&(r=(e=j(i)).startsWith("0x"),e=(e=F(e)).startsWith("0")?e.substring(1):e,i=r?j(e):e),i}let i={from:W(t.from),to:void 0===t.to?void 0:W(t.to),gasPrice:void 0===t.gasPrice?"":r(t.gasPrice),gas:void 0===t.gas?void 0===t.gasLimit?"":r(t.gasLimit):r(t.gas),value:void 0===t.value?"":r(t.value),nonce:void 0===t.nonce?"":r(t.nonce),data:void 0===t.data?"":W(t.data)||"0x"},n=["gasPrice","gas","value","nonce"];return Object.keys(i).forEach(t=>{(void 0===i[t]||"string"==typeof i[t]&&!i[t].trim().length)&&n.includes(t)&&delete i[t]}),i}var H=t.i(57089);let Q=class{constructor(){this._eventEmitters=[],"undefined"!=typeof window&&void 0!==window.addEventListener&&(window.addEventListener("online",()=>this.trigger("online")),window.addEventListener("offline",()=>this.trigger("offline")))}on(t,e){this._eventEmitters.push({event:t,callback:e})}trigger(t){let e=[];t&&(e=this._eventEmitters.filter(e=>e.event===t)),e.forEach(t=>{t.callback()})}},X=void 0!==t.g.WebSocket?t.g.WebSocket:t.r(29238),tt=class{constructor(t){if(this.opts=t,this._queue=[],this._events=[],this._subscriptions=[],this._protocol=t.protocol,this._version=t.version,this._url="",this._netMonitor=null,this._socket=null,this._nextSocket=null,this._subscriptions=t.subscriptions||[],this._netMonitor=t.netMonitor||new Q,!t.url||"string"!=typeof t.url)throw Error("Missing or invalid WebSocket url");this._url=t.url,this._netMonitor.on("online",()=>this._socketCreate())}set readyState(t){}get readyState(){return this._socket?this._socket.readyState:-1}set connecting(t){}get connecting(){return 0===this.readyState}set connected(t){}get connected(){return 1===this.readyState}set closing(t){}get closing(){return 2===this.readyState}set closed(t){}get closed(){return 3===this.readyState}open(){this._socketCreate()}close(){this._socketClose()}send(t,e,r){if(!e||"string"!=typeof e)throw Error("Missing or invalid topic field");this._socketSend({topic:e,type:"pub",payload:t,silent:!!r})}subscribe(t){this._socketSend({topic:t,type:"sub",payload:"",silent:!0})}on(t,e){this._events.push({event:t,callback:e})}_socketCreate(){if(this._nextSocket)return;let t=function(t,e,r){var i,n,o,s,a,u;let h,l,f,c=(t.startsWith("https")?t.replace("https","wss"):t.startsWith("http")?t.replace("http","ws"):t).split("?"),d=!((!(h=g())||!h.name||"node"!==h.name.toLowerCase())&&v())?{protocol:e,version:r,env:(null==(n=g())?void 0:n.name)||""}:{protocol:e,version:r,env:"browser",host:(null==(i=y())?void 0:i.host)||""},p=(s=void 0!==(l=-1!==(o=c[1]||"").indexOf("?")?o.indexOf("?"):void 0)?o.substr(l):"",u=Object.assign(Object.assign({},(a=s,f=H.parse(a))),d),s=H.stringify(u));return c[0]+"?"+p}(this._url,this._protocol,this._version);if(this._nextSocket=new X(t),!this._nextSocket)throw Error("Failed to create socket");this._nextSocket.onmessage=t=>this._socketReceive(t),this._nextSocket.onopen=()=>this._socketOpen(),this._nextSocket.onerror=t=>this._socketError(t),this._nextSocket.onclose=()=>{setTimeout(()=>{this._nextSocket=null,this._socketCreate()},1e3)}}_socketOpen(){this._socketClose(),this._socket=this._nextSocket,this._nextSocket=null,this._queueSubscriptions(),this._pushQueue()}_socketClose(){this._socket&&(this._socket.onclose=()=>{},this._socket.close())}_socketSend(t){let e=JSON.stringify(t);this._socket&&1===this._socket.readyState?this._socket.send(e):(this._setToQueue(t),this._socketCreate())}async _socketReceive(t){let e;try{e=JSON.parse(t.data)}catch(t){return}if(this._socketSend({topic:e.topic,type:"ack",payload:"",silent:!0}),this._socket&&1===this._socket.readyState){let t=this._events.filter(t=>"message"===t.event);t&&t.length&&t.forEach(t=>t.callback(e))}}_socketError(t){let e=this._events.filter(t=>"error"===t.event);e&&e.length&&e.forEach(e=>e.callback(t))}_queueSubscriptions(){this._subscriptions.forEach(t=>this._queue.push({topic:t,type:"sub",payload:"",silent:!0})),this._subscriptions=this.opts.subscriptions||[]}_setToQueue(t){this._queue.push(t)}_pushQueue(){this._queue.forEach(t=>this._socketSend(t)),this._queue=[]}},te="Session currently connected",tr="Session currently disconnected",ti="JSON RPC response format is invalid",tn="User close QRCode Modal",to=class{constructor(){this._eventEmitters=[]}subscribe(t){this._eventEmitters.push(t)}unsubscribe(t){this._eventEmitters=this._eventEmitters.filter(e=>e.event!==t)}trigger(t){var e;let r,i=[];(r=void 0!==t.method?t.method:G(t)||V(t)?`response:${t.id}`:J(t)?t.event:"")&&(i=this._eventEmitters.filter(t=>t.event===r)),i&&i.length||(e=r,x.includes(e)||e.startsWith("wc_"))||J(r)||(i=this._eventEmitters.filter(t=>"call_request"===t.event)),i.forEach(e=>{if(V(t)){let r=Error(t.error.message);e.callback(r,null)}else e.callback(null,t)})}},ts=class{constructor(t="walletconnect"){this.storageId=t}getSession(){let t=null,e=_(this.storageId);return e&&void 0!==e.bridge&&(t=e),t}setSession(t){var e;let r,i;return e=this.storageId,r="string"==typeof t?t:JSON.stringify(t),(i=w())&&i.setItem(e,r),t}removeSession(){S(this.storageId)}},ta="abcdefghijklmnopqrstuvwxyz0123456789".split("").map(t=>`https://${t}.bridge.walletconnect.org`),tu=class{constructor(t){if(this.protocol="wc",this.version=1,this._bridge="",this._key=null,this._clientId="",this._clientMeta=null,this._peerId="",this._peerMeta=null,this._handshakeId=0,this._handshakeTopic="",this._connected=!1,this._accounts=[],this._chainId=0,this._networkId=0,this._rpcUrl="",this._eventManager=new to,this._clientMeta=b()||t.connectorOpts.clientMeta||null,this._cryptoLib=t.cryptoLib,this._sessionStorage=t.sessionStorage||new ts(t.connectorOpts.storageId),this._qrcodeModal=t.connectorOpts.qrcodeModal,this._qrcodeModalOptions=t.connectorOpts.qrcodeModalOptions,this._signingMethods=[...O,...t.connectorOpts.signingMethods||[]],!t.connectorOpts.bridge&&!t.connectorOpts.uri&&!t.connectorOpts.session)throw Error("Missing one of the required parameters: bridge / uri / session");t.connectorOpts.bridge&&(this.bridge=function(t){return!function(t){return"walletconnect.org"===(t.indexOf("//")>-1?t.split("/")[2]:t.split("/")[0]).split(":")[0].split("?")[0].split(".").slice(-2).join(".")}(t)?t:ta[Math.floor(Math.random()*ta.length)]}(t.connectorOpts.bridge)),t.connectorOpts.uri&&(this.uri=t.connectorOpts.uri);const e=t.connectorOpts.session||this._getStorageSession();e&&(this.session=e),this.handshakeId&&this._subscribeToSessionResponse(this.handshakeId,"Session request rejected"),this._transport=t.transport||new tt({protocol:this.protocol,version:this.version,url:this.bridge,subscriptions:[this.clientId]}),this._subscribeToInternalEvents(),this._initTransport(),t.connectorOpts.uri&&this._subscribeToSessionRequest(),t.pushServerOpts&&this._registerPushServer(t.pushServerOpts)}set bridge(t){t&&(this._bridge=t)}get bridge(){return this._bridge}set key(t){if(!t)return;let e=B(t).buffer;this._key=e}get key(){if(this._key){var t;return t=this._key,N(new Uint8Array(t),!1)}return""}set clientId(t){t&&(this._clientId=t)}get clientId(){let t=this._clientId;return t||(t=this._clientId=$()),this._clientId}set peerId(t){t&&(this._peerId=t)}get peerId(){return this._peerId}set clientMeta(t){}get clientMeta(){let t=this._clientMeta;return t||(t=this._clientMeta=b()),t}set peerMeta(t){this._peerMeta=t}get peerMeta(){return this._peerMeta}set handshakeTopic(t){t&&(this._handshakeTopic=t)}get handshakeTopic(){return this._handshakeTopic}set handshakeId(t){t&&(this._handshakeId=t)}get handshakeId(){return this._handshakeId}get uri(){return this._formatUri()}set uri(t){if(!t)return;let{handshakeTopic:e,bridge:r,key:i}=this._parseUri(t);this.handshakeTopic=e,this.bridge=r,this.key=i}set chainId(t){this._chainId=t}get chainId(){return this._chainId}set networkId(t){this._networkId=t}get networkId(){return this._networkId}set accounts(t){this._accounts=t}get accounts(){return this._accounts}set rpcUrl(t){this._rpcUrl=t}get rpcUrl(){return this._rpcUrl}set connected(t){}get connected(){return this._connected}set pending(t){}get pending(){return!!this._handshakeTopic}get session(){return{connected:this.connected,accounts:this.accounts,chainId:this.chainId,bridge:this.bridge,key:this.key,clientId:this.clientId,clientMeta:this.clientMeta,peerId:this.peerId,peerMeta:this.peerMeta,handshakeId:this.handshakeId,handshakeTopic:this.handshakeTopic}}set session(t){t&&(this._connected=t.connected,this.accounts=t.accounts,this.chainId=t.chainId,this.bridge=t.bridge,this.key=t.key,this.clientId=t.clientId,this.clientMeta=t.clientMeta,this.peerId=t.peerId,this.peerMeta=t.peerMeta,this.handshakeId=t.handshakeId,this.handshakeTopic=t.handshakeTopic)}on(t,e){this._eventManager.subscribe({event:t,callback:e})}off(t){this._eventManager.unsubscribe(t)}async createInstantRequest(t){this._key=await this._generateKey();let e=this._formatRequest({method:"wc_instantRequest",params:[{peerId:this.clientId,peerMeta:this.clientMeta,request:this._formatRequest(t)}]});this.handshakeId=e.id,this.handshakeTopic=$(),this._eventManager.trigger({event:"display_uri",params:[this.uri]}),this.on("modal_closed",()=>{throw Error(tn)});let r=()=>{this.killSession()};try{let t=await this._sendCallRequest(e);return t&&r(),t}catch(t){throw r(),t}}async connect(t){if(!this._qrcodeModal)throw Error("QRCode Modal not provided");return this.connected?{chainId:this.chainId,accounts:this.accounts}:(await this.createSession(t),new Promise(async(t,e)=>{this.on("modal_closed",()=>e(Error(tn))),this.on("connect",(r,i)=>{if(r)return e(r);t(i.params[0])})}))}async createSession(t){if(this._connected)throw Error(te);if(this.pending)return;this._key=await this._generateKey();let e=this._formatRequest({method:"wc_sessionRequest",params:[{peerId:this.clientId,peerMeta:this.clientMeta,chainId:t&&t.chainId?t.chainId:null}]});this.handshakeId=e.id,this.handshakeTopic=$(),this._sendSessionRequest(e,"Session update rejected",{topic:this.handshakeTopic}),this._eventManager.trigger({event:"display_uri",params:[this.uri]})}approveSession(t){if(this._connected)throw Error(te);this.chainId=t.chainId,this.accounts=t.accounts,this.networkId=t.networkId||0,this.rpcUrl=t.rpcUrl||"";let e={approved:!0,chainId:this.chainId,networkId:this.networkId,accounts:this.accounts,rpcUrl:this.rpcUrl,peerId:this.clientId,peerMeta:this.clientMeta},r={id:this.handshakeId,jsonrpc:"2.0",result:e};this._sendResponse(r),this._connected=!0,this._setStorageSession(),this._eventManager.trigger({event:"connect",params:[{peerId:this.peerId,peerMeta:this.peerMeta,chainId:this.chainId,accounts:this.accounts}]})}rejectSession(t){if(this._connected)throw Error(te);let e=t&&t.message?t.message:"Session Rejected",r=this._formatResponse({id:this.handshakeId,error:{message:e}});this._sendResponse(r),this._connected=!1,this._eventManager.trigger({event:"disconnect",params:[{message:e}]}),this._removeStorageSession()}updateSession(t){if(!this._connected)throw Error(tr);this.chainId=t.chainId,this.accounts=t.accounts,this.networkId=t.networkId||0,this.rpcUrl=t.rpcUrl||"";let e={approved:!0,chainId:this.chainId,networkId:this.networkId,accounts:this.accounts,rpcUrl:this.rpcUrl},r=this._formatRequest({method:"wc_sessionUpdate",params:[e]});this._sendSessionRequest(r,"Session update rejected"),this._eventManager.trigger({event:"session_update",params:[{chainId:this.chainId,accounts:this.accounts}]}),this._manageStorageSession()}async killSession(t){let e=t?t.message:"Session Disconnected",r=this._formatRequest({method:"wc_sessionUpdate",params:[{approved:!1,chainId:null,networkId:null,accounts:null}]});await this._sendRequest(r),this._handleSessionDisconnect(e)}async sendTransaction(t){if(!this._connected)throw Error(tr);let e=Z(t),r=this._formatRequest({method:"eth_sendTransaction",params:[e]});return await this._sendCallRequest(r)}async signTransaction(t){if(!this._connected)throw Error(tr);let e=Z(t),r=this._formatRequest({method:"eth_signTransaction",params:[e]});return await this._sendCallRequest(r)}async signMessage(t){if(!this._connected)throw Error(tr);let e=this._formatRequest({method:"eth_sign",params:t});return await this._sendCallRequest(e)}async signPersonalMessage(t){if(!this._connected)throw Error(tr);t=K(t);let e=this._formatRequest({method:"personal_sign",params:t});return await this._sendCallRequest(e)}async signTypedData(t){if(!this._connected)throw Error(tr);let e=this._formatRequest({method:"eth_signTypedData",params:t});return await this._sendCallRequest(e)}async updateChain(t){if(!this._connected)throw Error("Session currently disconnected");let e=this._formatRequest({method:"wallet_updateChain",params:[t]});return await this._sendCallRequest(e)}unsafeSend(t,e){return this._sendRequest(t,e),this._eventManager.trigger({event:"call_request_sent",params:[{request:t,options:e}]}),new Promise((e,r)=>{this._subscribeToResponse(t.id,(t,i)=>{if(t)return void r(t);if(!i)throw Error("Missing JSON RPC response");e(i)})})}async sendCustomRequest(t,e){if(!this._connected)throw Error(tr);switch(t.method){case"eth_accounts":return this.accounts;case"eth_chainId":return q(this.chainId);case"eth_sendTransaction":case"eth_signTransaction":t.params&&(t.params[0]=Z(t.params[0]));break;case"personal_sign":t.params&&(t.params=K(t.params))}let r=this._formatRequest(t);return await this._sendCallRequest(r,e)}approveRequest(t){if(G(t)){let e=this._formatResponse(t);this._sendResponse(e)}else throw Error('JSON-RPC success response must include "result" field')}rejectRequest(t){if(V(t)){let e=this._formatResponse(t);this._sendResponse(e)}else throw Error('JSON-RPC error response must include "error" field')}transportClose(){this._transport.close()}async _sendRequest(t,e){let r=this._formatRequest(t),i=await this._encrypt(r),n=void 0!==(null==e?void 0:e.topic)?e.topic:this.peerId,o=JSON.stringify(i),s=void 0!==(null==e?void 0:e.forcePushNotification)?!e.forcePushNotification:!!r.method.startsWith("wc_")||!O.includes(r.method);this._transport.send(o,n,s)}async _sendResponse(t){let e=await this._encrypt(t),r=this.peerId,i=JSON.stringify(e);this._transport.send(i,r,!0)}async _sendSessionRequest(t,e,r){this._sendRequest(t,r),this._subscribeToSessionResponse(t.id,e)}_sendCallRequest(t,e){return this._sendRequest(t,e),this._eventManager.trigger({event:"call_request_sent",params:[{request:t,options:e}]}),this._subscribeToCallResponse(t.id)}_formatRequest(t){if(void 0===t.method)throw Error('JSON RPC request must have valid "method" value');return{id:void 0===t.id?function(t=3){return Date.now()*Math.pow(10,t)+Math.floor(Math.random()*Math.pow(10,t))}():t.id,jsonrpc:"2.0",method:t.method,params:void 0===t.params?[]:t.params}}_formatResponse(t){if(void 0===t.id)throw Error('JSON RPC request must have valid "id" value');let e={id:t.id,jsonrpc:"2.0"};if(V(t)){let r=function(t){let e=t.message||"Failed or Rejected Request",r=-32e3;if(t&&!t.code)switch(e){case"Parse error":r=-32700;break;case"Invalid request":r=-32600;break;case"Method not found":r=-32601;break;case"Invalid params":r=-32602;break;case"Internal error":r=-32603;break;default:r=-32e3}let i={code:r,message:e};return t.data&&(i.data=t.data),i}(t.error);return Object.assign(Object.assign(Object.assign({},e),t),{error:r})}if(G(t))return Object.assign(Object.assign({},e),t);throw Error(ti)}_handleSessionDisconnect(t){this._connected||(this._qrcodeModal&&this._qrcodeModal.close(),S(A)),this._connected&&(this._connected=!1),this._handshakeId&&(this._handshakeId=0),this._handshakeTopic&&(this._handshakeTopic=""),this._peerId&&(this._peerId=""),this._eventManager.trigger({event:"disconnect",params:[{message:t||"Session Disconnected"}]}),this._removeStorageSession(),this.transportClose()}_handleSessionResponse(t,e){e&&e.approved?(this._connected?(e.chainId&&(this.chainId=e.chainId),e.accounts&&(this.accounts=e.accounts),this._eventManager.trigger({event:"session_update",params:[{chainId:this.chainId,accounts:this.accounts}]})):(this._connected=!0,e.chainId&&(this.chainId=e.chainId),e.accounts&&(this.accounts=e.accounts),e.peerId&&!this.peerId&&(this.peerId=e.peerId),e.peerMeta&&!this.peerMeta&&(this.peerMeta=e.peerMeta),this._eventManager.trigger({event:"connect",params:[{peerId:this.peerId,peerMeta:this.peerMeta,chainId:this.chainId,accounts:this.accounts}]})),this._manageStorageSession()):this._handleSessionDisconnect(t)}async _handleIncomingMessages(t){let e;if(![this.clientId,this.handshakeTopic].includes(t.topic))return;try{e=JSON.parse(t.payload)}catch(t){return}let r=await this._decrypt(e);r&&this._eventManager.trigger(r)}_subscribeToSessionRequest(){this._transport.subscribe(this.handshakeTopic)}_subscribeToResponse(t,e){this.on(`response:${t}`,e)}_subscribeToSessionResponse(t,e){this._subscribeToResponse(t,(t,r)=>{t?this._handleSessionResponse(t.message):G(r)?this._handleSessionResponse(e,r.result):r.error&&r.error.message?this._handleSessionResponse(r.error.message):this._handleSessionResponse(e)})}_subscribeToCallResponse(t){return new Promise((e,r)=>{this._subscribeToResponse(t,(t,i)=>{t?r(t):G(i)?e(i.result):i.error&&i.error.message?r(i.error):r(Error(ti))})})}_subscribeToInternalEvents(){this.on("display_uri",()=>{this._qrcodeModal&&this._qrcodeModal.open(this.uri,()=>{this._eventManager.trigger({event:"modal_closed",params:[]})},this._qrcodeModalOptions)}),this.on("connect",()=>{this._qrcodeModal&&this._qrcodeModal.close()}),this.on("call_request_sent",(t,e)=>{let r,i,{request:n}=e.params[0];if(m()&&((r=m())&&r.toLowerCase().includes("android")||(i=m())&&(i.toLowerCase().includes("ios")||i.toLowerCase().includes("mac")&&navigator.maxTouchPoints>1))&&this._signingMethods.includes(n.method)){let t=_(A);t&&(window.location.href=t.href)}}),this.on("wc_sessionRequest",(t,e)=>{t&&this._eventManager.trigger({event:"error",params:[{code:"SESSION_REQUEST_ERROR",message:t.toString()}]}),this.handshakeId=e.id,this.peerId=e.params[0].peerId,this.peerMeta=e.params[0].peerMeta;let r=Object.assign(Object.assign({},e),{method:"session_request"});this._eventManager.trigger(r)}),this.on("wc_sessionUpdate",(t,e)=>{t&&this._handleSessionResponse(t.message),this._handleSessionResponse("Session disconnected",e.params[0])})}_initTransport(){this._transport.on("message",t=>this._handleIncomingMessages(t)),this._transport.on("open",()=>this._eventManager.trigger({event:"transport_open",params:[]})),this._transport.on("close",()=>this._eventManager.trigger({event:"transport_close",params:[]})),this._transport.on("error",()=>this._eventManager.trigger({event:"transport_error",params:["Websocket connection failed"]})),this._transport.open()}_formatUri(){let t=this.protocol,e=this.handshakeTopic,r=this.version,i=encodeURIComponent(this.bridge),n=this.key;return`${t}:${e}@${r}?bridge=${i}&key=${n}`}_parseUri(t){let e=function(t){let e,r,i=t.indexOf(":"),n=-1!==t.indexOf("?")?t.indexOf("?"):void 0,o=t.substring(0,i),s={handshakeTopic:(e=t.substring(i+1,n).split("@"))[0],version:parseInt(e[1],10)},a=void 0!==n?t.substr(n):"",u={key:(r=H.parse(a)).key||"",bridge:r.bridge||""};return Object.assign(Object.assign({protocol:o},s),u)}(t);if(e.protocol===this.protocol){if(!e.handshakeTopic)throw Error("Invalid or missing handshakeTopic parameter value");let t=e.handshakeTopic;if(!e.bridge)throw Error("Invalid or missing bridge url parameter value");let r=decodeURIComponent(e.bridge);if(!e.key)throw Error("Invalid or missing key parameter value");return{handshakeTopic:t,bridge:r,key:e.key}}throw Error("URI format is invalid")}async _generateKey(){return this._cryptoLib?await this._cryptoLib.generateKey():null}async _encrypt(t){let e=this._key;return this._cryptoLib&&e?await this._cryptoLib.encrypt(t,e):null}async _decrypt(t){let e=this._key;return this._cryptoLib&&e?await this._cryptoLib.decrypt(t,e):null}_getStorageSession(){let t=null;return this._sessionStorage&&(t=this._sessionStorage.getSession()),t}_setStorageSession(){this._sessionStorage&&this._sessionStorage.setSession(this.session)}_removeStorageSession(){this._sessionStorage&&this._sessionStorage.removeSession()}_manageStorageSession(){this._connected?this._setStorageSession():this._removeStorageSession()}_registerPushServer(t){if(!t.url||"string"!=typeof t.url)throw Error("Invalid or missing pushServerOpts.url parameter value");if(!t.type||"string"!=typeof t.type)throw Error("Invalid or missing pushServerOpts.type parameter value");if(!t.token||"string"!=typeof t.token)throw Error("Invalid or missing pushServerOpts.token parameter value");let e={bridge:this.bridge,topic:this.clientId,type:t.type,token:t.token,peerName:"",language:t.language||""};this.on("connect",async(r,i)=>{if(r)throw r;t.peerMeta&&(e.peerName=i.params[0].peerMeta.name);try{let r=await fetch(`${t.url}/new`,{method:"POST",headers:{Accept:"application/json","Content-Type":"application/json"},body:JSON.stringify(e)});if(!(await r.json()).success)throw Error("Failed to register in Push Server")}catch(t){throw Error("Failed to register in Push Server")}})}},th="AES-CBC",tl="HMAC";async function tf(t,e=th){return z.getSubtleCrypto().importKey("raw",t,e===th?{length:256,name:th}:{hash:{name:"SHA-256"},name:tl},!0,e===th?["encrypt","decrypt"]:["sign","verify"])}async function tc(t,e,r){let i=z.getSubtleCrypto(),n=await tf(e,th);return new Uint8Array(await i.encrypt({iv:t,name:th},n,r))}async function td(t,e,r){let i=z.getSubtleCrypto(),n=await tf(e,th);return new Uint8Array(await i.decrypt({iv:t,name:th},n,r))}async function tp(t,e){let r=z.getSubtleCrypto(),i=await tf(t,tl);return new Uint8Array(await r.sign({length:256,name:tl},i,e))}async function tg(t,e){return await tp(t,e)}async function tm(t){var e;return I(P((e=(t||256)/8,z.getBrowerCrypto().getRandomValues(new Uint8Array(e))))).buffer}async function tv(t,e){let r=B(t.data),i=B(t.iv),n=N(B(t.hmac),!1),o=L(r,i),s=N(await tg(e,o),!1);return F(n)===F(s)}async function ty(t,e,r){let i=I(U(e)),n=I(U(r||await tm(128))),o=N(n,!1),s=I(C(JSON.stringify(t))),a=await tc(n,i,s),u=N(a,!1),h=L(a,n);return{data:u,hmac:N(await tg(i,h),!1),iv:o}}async function tw(t,e){let r,i=I(U(e));if(!i)throw Error("Missing key: required for decryption");if(!await tv(t,i))return null;let n=B(t.data),o=B(t.iv),s=P(await td(o,i,n)).toString(R);try{r=JSON.parse(s)}catch(t){return null}return r}t.s(["decrypt",()=>tw,"encrypt",()=>ty,"generateKey",()=>tm,"verifyHmac",()=>tv],49288);var tb=t.i(49288);let tM=class extends tu{constructor(t,e){super({cryptoLib:tb,connectorOpts:t,pushServerOpts:e})}};t.s(["default",0,tM],82045);var t_=t.i(56126),tS=t.i(38352),tA=t.g,tx=[],tO=[],tk="undefined"!=typeof Uint8Array?Uint8Array:Array,tE=!1;function tR(){tE=!0;for(var t="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",e=0;e<64;++e)tx[e]=t[e],tO[t.charCodeAt(e)]=e;tO[45]=62,tO[95]=63}function tI(t){var e;tE||tR();for(var r=t.length,i=r%3,n="",o=[],s=0,a=r-i;s<a;s+=16383)o.push(function(t,e,r){for(var i,n=[],o=e;o<r;o+=3)n.push(tx[(i=(t[o]<<16)+(t[o+1]<<8)+t[o+2])>>18&63]+tx[i>>12&63]+tx[i>>6&63]+tx[63&i]);return n.join("")}(t,s,s+16383>a?a:s+16383));return 1===i?(n+=tx[(e=t[r-1])>>2],n+=tx[e<<4&63],n+="=="):2===i&&(n+=tx[(e=(t[r-2]<<8)+t[r-1])>>10],n+=tx[e>>4&63],n+=tx[e<<2&63],n+="="),o.push(n),o.join("")}function tT(t,e,r,i,n){var o,s,a=8*n-i-1,u=(1<<a)-1,h=u>>1,l=-7,f=r?n-1:0,c=r?-1:1,d=t[e+f];for(f+=c,o=d&(1<<-l)-1,d>>=-l,l+=a;l>0;o=256*o+t[e+f],f+=c,l-=8);for(s=o&(1<<-l)-1,o>>=-l,l+=i;l>0;s=256*s+t[e+f],f+=c,l-=8);if(0===o)o=1-h;else{if(o===u)return s?NaN:1/0*(d?-1:1);s+=Math.pow(2,i),o-=h}return(d?-1:1)*s*Math.pow(2,o-i)}function tP(t,e,r,i,n,o){var s,a,u,h=8*o-n-1,l=(1<<h)-1,f=l>>1,c=5960464477539062e-23*(23===n),d=i?0:o-1,p=i?1:-1,g=+(e<0||0===e&&1/e<0);for(isNaN(e=Math.abs(e))||e===1/0?(a=+!!isNaN(e),s=l):(s=Math.floor(Math.log(e)/Math.LN2),e*(u=Math.pow(2,-s))<1&&(s--,u*=2),(e+=s+f>=1?c/u:c*Math.pow(2,1-f))*u>=2&&(s++,u/=2),s+f>=l?(a=0,s=l):s+f>=1?(a=(e*u-1)*Math.pow(2,n),s+=f):(a=e*Math.pow(2,f-1)*Math.pow(2,n),s=0));n>=8;t[r+d]=255&a,d+=p,a/=256,n-=8);for(s=s<<n|a,h+=n;h>0;t[r+d]=255&s,d+=p,s/=256,h-=8);t[r+d-p]|=128*g}var tN={}.toString,tB=Array.isArray||function(t){return"[object Array]"==tN.call(t)};function tC(){return tF.TYPED_ARRAY_SUPPORT?0x7fffffff:0x3fffffff}function tL(t,e){if(tC()<e)throw RangeError("Invalid typed array length");return tF.TYPED_ARRAY_SUPPORT?(t=new Uint8Array(e)).__proto__=tF.prototype:(null===t&&(t=new tF(e)),t.length=e),t}function tF(t,e,r){if(!(tF.TYPED_ARRAY_SUPPORT||this instanceof tF))return new tF(t,e,r);if("number"==typeof t){if("string"==typeof e)throw Error("If encoding is specified then the first argument must be a string");return tU(this,t)}return tj(this,t,e,r)}function tj(t,e,r,i){if("number"==typeof e)throw TypeError('"value" argument must not be a number');return"undefined"!=typeof ArrayBuffer&&e instanceof ArrayBuffer?function(t,e,r,i){if(e.byteLength,r<0||e.byteLength<r)throw RangeError("'offset' is out of bounds");if(e.byteLength<r+(i||0))throw RangeError("'length' is out of bounds");return e=void 0===r&&void 0===i?new Uint8Array(e):void 0===i?new Uint8Array(e,r):new Uint8Array(e,r,i),tF.TYPED_ARRAY_SUPPORT?(t=e).__proto__=tF.prototype:t=tq(t,e),t}(t,e,r,i):"string"==typeof e?function(t,e,r){if("string"==typeof r&&""!==r||(r="utf8"),!tF.isEncoding(r))throw TypeError('"encoding" must be a valid string encoding');var i=0|t$(e,r),n=(t=tL(t,i)).write(e,r);return n!==i&&(t=t.slice(0,n)),t}(t,e,r):function(t,e){if(tz(e)){var r,i=0|tD(e.length);return 0===(t=tL(t,i)).length||e.copy(t,0,0,i),t}if(e){if("undefined"!=typeof ArrayBuffer&&e.buffer instanceof ArrayBuffer||"length"in e)return"number"!=typeof e.length||(r=e.length)!=r?tL(t,0):tq(t,e);if("Buffer"===e.type&&tB(e.data))return tq(t,e.data)}throw TypeError("First argument must be a string, Buffer, ArrayBuffer, Array, or array-like object.")}(t,e)}function tW(t){if("number"!=typeof t)throw TypeError('"size" argument must be a number');if(t<0)throw RangeError('"size" argument must not be negative')}function tU(t,e){if(tW(e),t=tL(t,e<0?0:0|tD(e)),!tF.TYPED_ARRAY_SUPPORT)for(var r=0;r<e;++r)t[r]=0;return t}function tq(t,e){var r=e.length<0?0:0|tD(e.length);t=tL(t,r);for(var i=0;i<r;i+=1)t[i]=255&e[i];return t}function tD(t){if(t>=tC())throw RangeError("Attempt to allocate Buffer larger than maximum size: 0x"+tC().toString(16)+" bytes");return 0|t}function tz(t){return!(null==t||!t._isBuffer)}function t$(t,e){if(tz(t))return t.length;if("undefined"!=typeof ArrayBuffer&&"function"==typeof ArrayBuffer.isView&&(ArrayBuffer.isView(t)||t instanceof ArrayBuffer))return t.byteLength;"string"!=typeof t&&(t=""+t);var r=t.length;if(0===r)return 0;for(var i=!1;;)switch(e){case"ascii":case"latin1":case"binary":return r;case"utf8":case"utf-8":case void 0:return t5(t).length;case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return 2*r;case"hex":return r>>>1;case"base64":return t4(t).length;default:if(i)return t5(t).length;e=(""+e).toLowerCase(),i=!0}}function tY(t,e,r){var i,n,o,s=!1;if((void 0===e||e<0)&&(e=0),e>this.length||((void 0===r||r>this.length)&&(r=this.length),r<=0)||(r>>>=0)<=(e>>>=0))return"";for(t||(t="utf8");;)switch(t){case"hex":return function(t,e,r){var i,n=t.length;(!e||e<0)&&(e=0),(!r||r<0||r>n)&&(r=n);for(var o="",s=e;s<r;++s){o+=(i=t[s])<16?"0"+i.toString(16):i.toString(16)}return o}(this,e,r);case"utf8":case"utf-8":return tZ(this,e,r);case"ascii":return function(t,e,r){var i="";r=Math.min(t.length,r);for(var n=e;n<r;++n)i+=String.fromCharCode(127&t[n]);return i}(this,e,r);case"latin1":case"binary":return function(t,e,r){var i="";r=Math.min(t.length,r);for(var n=e;n<r;++n)i+=String.fromCharCode(t[n]);return i}(this,e,r);case"base64":return i=this,n=e,o=r,0===n&&o===i.length?tI(i):tI(i.slice(n,o));case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return function(t,e,r){for(var i=t.slice(e,r),n="",o=0;o<i.length;o+=2)n+=String.fromCharCode(i[o]+256*i[o+1]);return n}(this,e,r);default:if(s)throw TypeError("Unknown encoding: "+t);t=(t+"").toLowerCase(),s=!0}}function tG(t,e,r){var i=t[e];t[e]=t[r],t[r]=i}function tV(t,e,r,i,n){if(0===t.length)return -1;if("string"==typeof r?(i=r,r=0):r>0x7fffffff?r=0x7fffffff:r<-0x80000000&&(r=-0x80000000),isNaN(r*=1)&&(r=n?0:t.length-1),r<0&&(r=t.length+r),r>=t.length){if(n)return -1;r=t.length-1}else if(r<0){if(!n)return -1;r=0}if("string"==typeof e&&(e=tF.from(e,i)),tz(e))return 0===e.length?-1:tJ(t,e,r,i,n);if("number"==typeof e)return e&=255,tF.TYPED_ARRAY_SUPPORT&&"function"==typeof Uint8Array.prototype.indexOf?n?Uint8Array.prototype.indexOf.call(t,e,r):Uint8Array.prototype.lastIndexOf.call(t,e,r):tJ(t,[e],r,i,n);throw TypeError("val must be string, number or Buffer")}function tJ(t,e,r,i,n){var o,s=1,a=t.length,u=e.length;if(void 0!==i&&("ucs2"===(i=String(i).toLowerCase())||"ucs-2"===i||"utf16le"===i||"utf-16le"===i)){if(t.length<2||e.length<2)return -1;s=2,a/=2,u/=2,r/=2}function h(t,e){return 1===s?t[e]:t.readUInt16BE(e*s)}if(n){var l=-1;for(o=r;o<a;o++)if(h(t,o)===h(e,-1===l?0:o-l)){if(-1===l&&(l=o),o-l+1===u)return l*s}else -1!==l&&(o-=o-l),l=-1}else for(r+u>a&&(r=a-u),o=r;o>=0;o--){for(var f=!0,c=0;c<u;c++)if(h(t,o+c)!==h(e,c)){f=!1;break}if(f)return o}return -1}function tK(t,e,r,i){return t9(function(t){for(var e=[],r=0;r<t.length;++r)e.push(255&t.charCodeAt(r));return e}(e),t,r,i)}function tZ(t,e,r){r=Math.min(t.length,r);for(var i=[],n=e;n<r;){var o,s,a,u,h=t[n],l=null,f=h>239?4:h>223?3:h>191?2:1;if(n+f<=r)switch(f){case 1:h<128&&(l=h);break;case 2:128==(192&(o=t[n+1]))&&(u=(31&h)<<6|63&o)>127&&(l=u);break;case 3:o=t[n+1],s=t[n+2],128==(192&o)&&128==(192&s)&&(u=(15&h)<<12|(63&o)<<6|63&s)>2047&&(u<55296||u>57343)&&(l=u);break;case 4:o=t[n+1],s=t[n+2],a=t[n+3],128==(192&o)&&128==(192&s)&&128==(192&a)&&(u=(15&h)<<18|(63&o)<<12|(63&s)<<6|63&a)>65535&&u<1114112&&(l=u)}null===l?(l=65533,f=1):l>65535&&(l-=65536,i.push(l>>>10&1023|55296),l=56320|1023&l),i.push(l),n+=f}var c=i.length;if(c<=tH)return String.fromCharCode.apply(String,i);for(var d="",p=0;p<c;)d+=String.fromCharCode.apply(String,i.slice(p,p+=tH));return d}tF.TYPED_ARRAY_SUPPORT=void 0===tA.TYPED_ARRAY_SUPPORT||tA.TYPED_ARRAY_SUPPORT,tC(),tF.poolSize=8192,tF._augment=function(t){return t.__proto__=tF.prototype,t},tF.from=function(t,e,r){return tj(null,t,e,r)},tF.TYPED_ARRAY_SUPPORT&&(tF.prototype.__proto__=Uint8Array.prototype,tF.__proto__=Uint8Array),tF.alloc=function(t,e,r){return tW(t),t<=0?tL(null,t):void 0!==e?"string"==typeof r?tL(null,t).fill(e,r):tL(null,t).fill(e):tL(null,t)},tF.allocUnsafe=function(t){return tU(null,t)},tF.allocUnsafeSlow=function(t){return tU(null,t)},tF.isBuffer=function(t){return null!=t&&(!!t._isBuffer||t7(t)||"function"==typeof t.readFloatLE&&"function"==typeof t.slice&&t7(t.slice(0,0)))},tF.compare=function(t,e){if(!tz(t)||!tz(e))throw TypeError("Arguments must be Buffers");if(t===e)return 0;for(var r=t.length,i=e.length,n=0,o=Math.min(r,i);n<o;++n)if(t[n]!==e[n]){r=t[n],i=e[n];break}return r<i?-1:+(i<r)},tF.isEncoding=function(t){switch(String(t).toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"latin1":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return!0;default:return!1}},tF.concat=function(t,e){if(!tB(t))throw TypeError('"list" argument must be an Array of Buffers');if(0===t.length)return tF.alloc(0);if(void 0===e)for(e=0,r=0;r<t.length;++r)e+=t[r].length;var r,i=tF.allocUnsafe(e),n=0;for(r=0;r<t.length;++r){var o=t[r];if(!tz(o))throw TypeError('"list" argument must be an Array of Buffers');o.copy(i,n),n+=o.length}return i},tF.byteLength=t$,tF.prototype._isBuffer=!0,tF.prototype.swap16=function(){var t=this.length;if(t%2!=0)throw RangeError("Buffer size must be a multiple of 16-bits");for(var e=0;e<t;e+=2)tG(this,e,e+1);return this},tF.prototype.swap32=function(){var t=this.length;if(t%4!=0)throw RangeError("Buffer size must be a multiple of 32-bits");for(var e=0;e<t;e+=4)tG(this,e,e+3),tG(this,e+1,e+2);return this},tF.prototype.swap64=function(){var t=this.length;if(t%8!=0)throw RangeError("Buffer size must be a multiple of 64-bits");for(var e=0;e<t;e+=8)tG(this,e,e+7),tG(this,e+1,e+6),tG(this,e+2,e+5),tG(this,e+3,e+4);return this},tF.prototype.toString=function(){var t=0|this.length;return 0===t?"":0==arguments.length?tZ(this,0,t):tY.apply(this,arguments)},tF.prototype.equals=function(t){if(!tz(t))throw TypeError("Argument must be a Buffer");return this===t||0===tF.compare(this,t)},tF.prototype.inspect=function(){var t="";return this.length>0&&(t=this.toString("hex",0,50).match(/.{2}/g).join(" "),this.length>50&&(t+=" ... ")),"<Buffer "+t+">"},tF.prototype.compare=function(t,e,r,i,n){if(!tz(t))throw TypeError("Argument must be a Buffer");if(void 0===e&&(e=0),void 0===r&&(r=t?t.length:0),void 0===i&&(i=0),void 0===n&&(n=this.length),e<0||r>t.length||i<0||n>this.length)throw RangeError("out of range index");if(i>=n&&e>=r)return 0;if(i>=n)return -1;if(e>=r)return 1;if(this===t)return 0;for(var o=(n>>>=0)-(i>>>=0),s=(r>>>=0)-(e>>>=0),a=Math.min(o,s),u=this.slice(i,n),h=t.slice(e,r),l=0;l<a;++l)if(u[l]!==h[l]){o=u[l],s=h[l];break}return o<s?-1:+(s<o)},tF.prototype.includes=function(t,e,r){return -1!==this.indexOf(t,e,r)},tF.prototype.indexOf=function(t,e,r){return tV(this,t,e,r,!0)},tF.prototype.lastIndexOf=function(t,e,r){return tV(this,t,e,r,!1)},tF.prototype.write=function(t,e,r,i){if(void 0===e)i="utf8",r=this.length,e=0;else if(void 0===r&&"string"==typeof e)i=e,r=this.length,e=0;else{if(!isFinite(e))throw Error("Buffer.write(string, encoding, offset[, length]) is no longer supported");e|=0,isFinite(r)?(r|=0,void 0===i&&(i="utf8")):(i=r,r=void 0)}var n,o,s,a,u,h,l=this.length-e;if((void 0===r||r>l)&&(r=l),t.length>0&&(r<0||e<0)||e>this.length)throw RangeError("Attempt to write outside buffer bounds");i||(i="utf8");for(var f=!1;;)switch(i){case"hex":return function(t,e,r,i){r=Number(r)||0;var n=t.length-r;i?(i=Number(i))>n&&(i=n):i=n;var o=e.length;if(o%2!=0)throw TypeError("Invalid hex string");i>o/2&&(i=o/2);for(var s=0;s<i;++s){var a=parseInt(e.substr(2*s,2),16);if(isNaN(a))break;t[r+s]=a}return s}(this,t,e,r);case"utf8":case"utf-8":return n=e,o=r,t9(t5(t,this.length-n),this,n,o);case"ascii":case"latin1":case"binary":return tK(this,t,e,r);case"base64":return s=e,a=r,t9(t4(t),this,s,a);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return u=e,h=r,t9(function(t,e){for(var r,i,n=[],o=0;o<t.length&&!((e-=2)<0);++o)i=(r=t.charCodeAt(o))>>8,n.push(r%256),n.push(i);return n}(t,this.length-u),this,u,h);default:if(f)throw TypeError("Unknown encoding: "+i);i=(""+i).toLowerCase(),f=!0}},tF.prototype.toJSON=function(){return{type:"Buffer",data:Array.prototype.slice.call(this._arr||this,0)}};var tH=4096;function tQ(t,e,r){if(t%1!=0||t<0)throw RangeError("offset is not uint");if(t+e>r)throw RangeError("Trying to access beyond buffer length")}function tX(t,e,r,i,n,o){if(!tz(t))throw TypeError('"buffer" argument must be a Buffer instance');if(e>n||e<o)throw RangeError('"value" argument is out of bounds');if(r+i>t.length)throw RangeError("Index out of range")}function t0(t,e,r,i){e<0&&(e=65535+e+1);for(var n=0,o=Math.min(t.length-r,2);n<o;++n)t[r+n]=(e&255<<8*(i?n:1-n))>>>8*(i?n:1-n)}function t1(t,e,r,i){e<0&&(e=0xffffffff+e+1);for(var n=0,o=Math.min(t.length-r,4);n<o;++n)t[r+n]=e>>>8*(i?n:3-n)&255}function t2(t,e,r,i,n,o){if(r+i>t.length||r<0)throw RangeError("Index out of range")}function t3(t,e,r,i,n){return n||t2(t,0,r,4),tP(t,e,r,i,23,4),r+4}function t6(t,e,r,i,n){return n||t2(t,0,r,8),tP(t,e,r,i,52,8),r+8}tF.prototype.slice=function(t,e){var r,i=this.length;if((t=~~t)<0?(t+=i)<0&&(t=0):t>i&&(t=i),(e=void 0===e?i:~~e)<0?(e+=i)<0&&(e=0):e>i&&(e=i),e<t&&(e=t),tF.TYPED_ARRAY_SUPPORT)(r=this.subarray(t,e)).__proto__=tF.prototype;else{var n=e-t;r=new tF(n,void 0);for(var o=0;o<n;++o)r[o]=this[o+t]}return r},tF.prototype.readUIntLE=function(t,e,r){t|=0,e|=0,r||tQ(t,e,this.length);for(var i=this[t],n=1,o=0;++o<e&&(n*=256);)i+=this[t+o]*n;return i},tF.prototype.readUIntBE=function(t,e,r){t|=0,e|=0,r||tQ(t,e,this.length);for(var i=this[t+--e],n=1;e>0&&(n*=256);)i+=this[t+--e]*n;return i},tF.prototype.readUInt8=function(t,e){return e||tQ(t,1,this.length),this[t]},tF.prototype.readUInt16LE=function(t,e){return e||tQ(t,2,this.length),this[t]|this[t+1]<<8},tF.prototype.readUInt16BE=function(t,e){return e||tQ(t,2,this.length),this[t]<<8|this[t+1]},tF.prototype.readUInt32LE=function(t,e){return e||tQ(t,4,this.length),(this[t]|this[t+1]<<8|this[t+2]<<16)+0x1000000*this[t+3]},tF.prototype.readUInt32BE=function(t,e){return e||tQ(t,4,this.length),0x1000000*this[t]+(this[t+1]<<16|this[t+2]<<8|this[t+3])},tF.prototype.readIntLE=function(t,e,r){t|=0,e|=0,r||tQ(t,e,this.length);for(var i=this[t],n=1,o=0;++o<e&&(n*=256);)i+=this[t+o]*n;return i>=(n*=128)&&(i-=Math.pow(2,8*e)),i},tF.prototype.readIntBE=function(t,e,r){t|=0,e|=0,r||tQ(t,e,this.length);for(var i=e,n=1,o=this[t+--i];i>0&&(n*=256);)o+=this[t+--i]*n;return o>=(n*=128)&&(o-=Math.pow(2,8*e)),o},tF.prototype.readInt8=function(t,e){return e||tQ(t,1,this.length),128&this[t]?-1*(255-this[t]+1):this[t]},tF.prototype.readInt16LE=function(t,e){e||tQ(t,2,this.length);var r=this[t]|this[t+1]<<8;return 32768&r?0xffff0000|r:r},tF.prototype.readInt16BE=function(t,e){e||tQ(t,2,this.length);var r=this[t+1]|this[t]<<8;return 32768&r?0xffff0000|r:r},tF.prototype.readInt32LE=function(t,e){return e||tQ(t,4,this.length),this[t]|this[t+1]<<8|this[t+2]<<16|this[t+3]<<24},tF.prototype.readInt32BE=function(t,e){return e||tQ(t,4,this.length),this[t]<<24|this[t+1]<<16|this[t+2]<<8|this[t+3]},tF.prototype.readFloatLE=function(t,e){return e||tQ(t,4,this.length),tT(this,t,!0,23,4)},tF.prototype.readFloatBE=function(t,e){return e||tQ(t,4,this.length),tT(this,t,!1,23,4)},tF.prototype.readDoubleLE=function(t,e){return e||tQ(t,8,this.length),tT(this,t,!0,52,8)},tF.prototype.readDoubleBE=function(t,e){return e||tQ(t,8,this.length),tT(this,t,!1,52,8)},tF.prototype.writeUIntLE=function(t,e,r,i){t*=1,e|=0,r|=0,i||tX(this,t,e,r,Math.pow(2,8*r)-1,0);var n=1,o=0;for(this[e]=255&t;++o<r&&(n*=256);)this[e+o]=t/n&255;return e+r},tF.prototype.writeUIntBE=function(t,e,r,i){t*=1,e|=0,r|=0,i||tX(this,t,e,r,Math.pow(2,8*r)-1,0);var n=r-1,o=1;for(this[e+n]=255&t;--n>=0&&(o*=256);)this[e+n]=t/o&255;return e+r},tF.prototype.writeUInt8=function(t,e,r){return t*=1,e|=0,r||tX(this,t,e,1,255,0),tF.TYPED_ARRAY_SUPPORT||(t=Math.floor(t)),this[e]=255&t,e+1},tF.prototype.writeUInt16LE=function(t,e,r){return t*=1,e|=0,r||tX(this,t,e,2,65535,0),tF.TYPED_ARRAY_SUPPORT?(this[e]=255&t,this[e+1]=t>>>8):t0(this,t,e,!0),e+2},tF.prototype.writeUInt16BE=function(t,e,r){return t*=1,e|=0,r||tX(this,t,e,2,65535,0),tF.TYPED_ARRAY_SUPPORT?(this[e]=t>>>8,this[e+1]=255&t):t0(this,t,e,!1),e+2},tF.prototype.writeUInt32LE=function(t,e,r){return t*=1,e|=0,r||tX(this,t,e,4,0xffffffff,0),tF.TYPED_ARRAY_SUPPORT?(this[e+3]=t>>>24,this[e+2]=t>>>16,this[e+1]=t>>>8,this[e]=255&t):t1(this,t,e,!0),e+4},tF.prototype.writeUInt32BE=function(t,e,r){return t*=1,e|=0,r||tX(this,t,e,4,0xffffffff,0),tF.TYPED_ARRAY_SUPPORT?(this[e]=t>>>24,this[e+1]=t>>>16,this[e+2]=t>>>8,this[e+3]=255&t):t1(this,t,e,!1),e+4},tF.prototype.writeIntLE=function(t,e,r,i){if(t*=1,e|=0,!i){var n=Math.pow(2,8*r-1);tX(this,t,e,r,n-1,-n)}var o=0,s=1,a=0;for(this[e]=255&t;++o<r&&(s*=256);)t<0&&0===a&&0!==this[e+o-1]&&(a=1),this[e+o]=(t/s|0)-a&255;return e+r},tF.prototype.writeIntBE=function(t,e,r,i){if(t*=1,e|=0,!i){var n=Math.pow(2,8*r-1);tX(this,t,e,r,n-1,-n)}var o=r-1,s=1,a=0;for(this[e+o]=255&t;--o>=0&&(s*=256);)t<0&&0===a&&0!==this[e+o+1]&&(a=1),this[e+o]=(t/s|0)-a&255;return e+r},tF.prototype.writeInt8=function(t,e,r){return t*=1,e|=0,r||tX(this,t,e,1,127,-128),tF.TYPED_ARRAY_SUPPORT||(t=Math.floor(t)),t<0&&(t=255+t+1),this[e]=255&t,e+1},tF.prototype.writeInt16LE=function(t,e,r){return t*=1,e|=0,r||tX(this,t,e,2,32767,-32768),tF.TYPED_ARRAY_SUPPORT?(this[e]=255&t,this[e+1]=t>>>8):t0(this,t,e,!0),e+2},tF.prototype.writeInt16BE=function(t,e,r){return t*=1,e|=0,r||tX(this,t,e,2,32767,-32768),tF.TYPED_ARRAY_SUPPORT?(this[e]=t>>>8,this[e+1]=255&t):t0(this,t,e,!1),e+2},tF.prototype.writeInt32LE=function(t,e,r){return t*=1,e|=0,r||tX(this,t,e,4,0x7fffffff,-0x80000000),tF.TYPED_ARRAY_SUPPORT?(this[e]=255&t,this[e+1]=t>>>8,this[e+2]=t>>>16,this[e+3]=t>>>24):t1(this,t,e,!0),e+4},tF.prototype.writeInt32BE=function(t,e,r){return t*=1,e|=0,r||tX(this,t,e,4,0x7fffffff,-0x80000000),t<0&&(t=0xffffffff+t+1),tF.TYPED_ARRAY_SUPPORT?(this[e]=t>>>24,this[e+1]=t>>>16,this[e+2]=t>>>8,this[e+3]=255&t):t1(this,t,e,!1),e+4},tF.prototype.writeFloatLE=function(t,e,r){return t3(this,t,e,!0,r)},tF.prototype.writeFloatBE=function(t,e,r){return t3(this,t,e,!1,r)},tF.prototype.writeDoubleLE=function(t,e,r){return t6(this,t,e,!0,r)},tF.prototype.writeDoubleBE=function(t,e,r){return t6(this,t,e,!1,r)},tF.prototype.copy=function(t,e,r,i){if(r||(r=0),i||0===i||(i=this.length),e>=t.length&&(e=t.length),e||(e=0),i>0&&i<r&&(i=r),i===r||0===t.length||0===this.length)return 0;if(e<0)throw RangeError("targetStart out of bounds");if(r<0||r>=this.length)throw RangeError("sourceStart out of bounds");if(i<0)throw RangeError("sourceEnd out of bounds");i>this.length&&(i=this.length),t.length-e<i-r&&(i=t.length-e+r);var n,o=i-r;if(this===t&&r<e&&e<i)for(n=o-1;n>=0;--n)t[n+e]=this[n+r];else if(o<1e3||!tF.TYPED_ARRAY_SUPPORT)for(n=0;n<o;++n)t[n+e]=this[n+r];else Uint8Array.prototype.set.call(t,this.subarray(r,r+o),e);return o},tF.prototype.fill=function(t,e,r,i){if("string"==typeof t){if("string"==typeof e?(i=e,e=0,r=this.length):"string"==typeof r&&(i=r,r=this.length),1===t.length){var n,o=t.charCodeAt(0);o<256&&(t=o)}if(void 0!==i&&"string"!=typeof i)throw TypeError("encoding must be a string");if("string"==typeof i&&!tF.isEncoding(i))throw TypeError("Unknown encoding: "+i)}else"number"==typeof t&&(t&=255);if(e<0||this.length<e||this.length<r)throw RangeError("Out of range index");if(r<=e)return this;if(e>>>=0,r=void 0===r?this.length:r>>>0,t||(t=0),"number"==typeof t)for(n=e;n<r;++n)this[n]=t;else{var s=tz(t)?t:t5(new tF(t,i).toString()),a=s.length;for(n=0;n<r-e;++n)this[n+e]=s[n%a]}return this};var t8=/[^+\/0-9A-Za-z-_]/g;function t5(t,e){var r;e=e||1/0;for(var i=t.length,n=null,o=[],s=0;s<i;++s){if((r=t.charCodeAt(s))>55295&&r<57344){if(!n){if(r>56319||s+1===i){(e-=3)>-1&&o.push(239,191,189);continue}n=r;continue}if(r<56320){(e-=3)>-1&&o.push(239,191,189),n=r;continue}r=65536+(n-55296<<10|r-56320)}else n&&(e-=3)>-1&&o.push(239,191,189);if(n=null,r<128){if((e-=1)<0)break;o.push(r)}else if(r<2048){if((e-=2)<0)break;o.push(r>>6|192,63&r|128)}else if(r<65536){if((e-=3)<0)break;o.push(r>>12|224,r>>6&63|128,63&r|128)}else{if(!(r<1114112))throw Error("Invalid code point");if((e-=4)<0)break;o.push(r>>18|240,r>>12&63|128,r>>6&63|128,63&r|128)}}return o}function t4(t){return function(t){tE||tR();var e,r,i,n,o,s,a=t.length;if(a%4>0)throw Error("Invalid string. Length must be a multiple of 4");o="="===t[a-2]?2:+("="===t[a-1]),s=new tk(3*a/4-o),i=o>0?a-4:a;var u=0;for(e=0,r=0;e<i;e+=4,r+=3)n=tO[t.charCodeAt(e)]<<18|tO[t.charCodeAt(e+1)]<<12|tO[t.charCodeAt(e+2)]<<6|tO[t.charCodeAt(e+3)],s[u++]=n>>16&255,s[u++]=n>>8&255,s[u++]=255&n;return 2===o?(n=tO[t.charCodeAt(e)]<<2|tO[t.charCodeAt(e+1)]>>4,s[u++]=255&n):1===o&&(n=tO[t.charCodeAt(e)]<<10|tO[t.charCodeAt(e+1)]<<4|tO[t.charCodeAt(e+2)]>>2,s[u++]=n>>8&255,s[u++]=255&n),s}(function(t){var e;if((t=((e=t).trim?e.trim():e.replace(/^\s+|\s+$/g,"")).replace(t8,"")).length<2)return"";for(;t.length%4!=0;)t+="=";return t}(t))}function t9(t,e,r,i){for(var n=0;n<i&&!(n+r>=e.length||n>=t.length);++n)e[n+r]=t[n];return n}function t7(t){return!!t.constructor&&"function"==typeof t.constructor.isBuffer&&t.constructor.isBuffer(t)}function et(t,e,r,i){return new(r||(r=Promise))(function(n,o){function s(t){try{u(i.next(t))}catch(t){o(t)}}function a(t){try{u(i.throw(t))}catch(t){o(t)}}function u(t){var e;t.done?n(t.value):((e=t.value)instanceof r?e:new r(function(t){t(e)})).then(s,a)}u((i=i.apply(t,e||[])).next())})}"function"==typeof SuppressedError&&SuppressedError;class ee extends Error{constructor(t,e,...r){super(...r),Error.captureStackTrace&&Error.captureStackTrace(this,ee),this.name="PeraWalletConnectError",this.data=t,this.message=e}}let er=new class{constructor(t){this.listener=void 0,this.channel=t.channel}setupListener({onReceiveMessage:t}){this.close(),this.listener=e=>{if("object"==typeof e.data)try{e.data.channel===this.channel&&t(e)}catch(t){console.error(t)}},window.addEventListener("message",this.listener)}sendMessage({message:t,targetWindow:e,origin:r,timeout:i=1e3}){setTimeout(()=>{let i={channel:this.channel,message:t};e.postMessage(i,{targetOrigin:r||"*"})},i)}close(){this.listener&&(window.removeEventListener("message",this.listener),this.listener=void 0)}}({channel:"pera-web-wallet"});function ei(t){return new Promise((e,r)=>{try{let i=window.open(t,"_blank"),n=0,o=setInterval(()=>{50===(n+=1)?(clearInterval(o),r(new ee({type:"MESSAGE_NOT_RECEIVED"},"Couldn't open Pera Wallet, please try again."))):i&&(!0===i.closed&&(clearInterval(o),r(new ee({type:"OPERATION_CANCELLED"},"Operation cancelled by user"))),er.sendMessage({message:{type:"TAB_OPEN"},origin:t,targetWindow:i}))},700);er.setupListener({onReceiveMessage:t=>{"TAB_OPEN_RECEIVED"===t.data.message.type&&(clearInterval(o),e(i))}})}catch(t){r(t)}})}let en="pera-wallet-connect-modal-wrapper",eo="pera-wallet-redirect-modal-wrapper",es="pera-wallet-sign-txn-toast-wrapper",ea="pera-wallet-modal";function eu(t){let e=document.createElement("div");return e.setAttribute("id",t),document.body.appendChild(e),e}function eh(){eu(eo).innerHTML="<pera-wallet-redirect-modal></pera-wallet-redirect-modal>"}function el(){eu(es).innerHTML="<pera-wallet-sign-txn-toast></pera-wallet-sign-txn-toast>"}function ef(){ec(es)}function ec(t){let e=document.getElementById(t);e&&e.remove()}let ed="PeraWallet.Wallet",ep="walletconnect";function eg(){return"undefined"==typeof localStorage?void 0:localStorage}function em(t,e){var r;null==(r=eg())||r.setItem(ed,JSON.stringify({type:e||"pera-wallet",accounts:t,selectedAccount:t[0]}))}function ev(){var t;let e=null==(t=eg())?void 0:t.getItem(ed);return e?JSON.parse(e):null}function ey(){return new Promise((t,e)=>{var r,i;try{null==(r=eg())||r.removeItem(ep),null==(i=eg())||i.removeItem(ed),t(void 0)}catch(t){e(t)}})}function ew(){return et(this,void 0,void 0,function*(){let t={bridgeURL:"",webWalletURL:"",isWebWalletAvailable:!1,shouldDisplayNewBadge:!1,shouldUseSound:!0,silent:!1,promoteMobile:!1};try{let e=yield function(t,e={}){return fetch(t,e).then(t=>t.json()).then(t=>t)}("https://wc.perawallet.app/config.json",{cache:"no-store"});void 0!==e.web_wallet&&e.web_wallet_url&&(t.isWebWalletAvailable=e.web_wallet),void 0!==e.display_new_badge&&(t.shouldDisplayNewBadge=e.display_new_badge),void 0!==e.use_sound&&(t.shouldUseSound=e.use_sound),void 0!==e.silent&&(t.silent=e.silent),void 0!==e.promote_mobile&&(t.promoteMobile=e.promote_mobile),t=Object.assign(Object.assign({},t),{bridgeURL:function(t){let e=t.slice();for(let t=e.length-1;t>0;t--){let r=Math.floor(Math.random()*(t+1));[e[t],e[r]]=[e[r],e[t]]}return e}(e.servers||[])[0]||"",webWalletURL:e.web_wallet_url||""})}catch(t){console.log(t)}return t})}function eb(t){return Uint8Array.from(window.atob(t),t=>t.charCodeAt(0))}function eM(t,e){return{id:1e3*Date.now()+Math.floor(1e3*Math.random()),jsonrpc:"2.0",method:t,params:e}}function e_(){return"undefined"!=typeof navigator}function eS(){return e_()&&/Android/i.test(navigator.userAgent)}function eA(){return e_()&&/iPhone|iPad|iPod/i.test(navigator.userAgent)}function ex(){return e_()&&/iPhone|iPod|Android/i.test(navigator.userAgent)}function eO(){if(!e_())return null;let{userAgent:t}=navigator;return t.match(/DuckDuckGo/i)?"DuckDuckGo":t.match(/OPX/i)?"Opera GX":navigator.brave?"Brave":tS.default.getParser(navigator.userAgent).getBrowserName()}function ek(t){return{ROOT:`https://${t}`,CONNECT:`https://${t}/connect`,TRANSACTION_SIGN:`https://${t}/transaction/sign`}}function eE({method:t,signTxnRequestParams:e,signer:r,chainId:i,webWalletURL:n,resolve:o,reject:s}){let a=ek(n);!function(){et(this,void 0,void 0,function*(){try{let n=yield ei(a.TRANSACTION_SIGN);if(n){let o;"SIGN_TXN"===t?o={type:"SIGN_TXN",txn:e}:"SIGN_DATA"===t&&r&&i&&(o={type:"SIGN_DATA",data:e,signer:r,chainId:i}),o&&er.sendMessage({message:o,origin:a.TRANSACTION_SIGN,targetWindow:n})}let u=setInterval(()=>{!0===(null==n?void 0:n.closed)&&(s(new ee({type:`${t}_CANCELLED`},"Transaction signing is cancelled by user.")),clearInterval(u))},2e3);er.setupListener({onReceiveMessage:e=>(function({event:t,newPeraWalletTab:e,method:r,resolve:i,reject:n}){switch(t.data.message.type){case"SIGN_TXN_CALLBACK":null==e||e.close(),i(t.data.message.signedTxns.map(t=>eb(t.signedTxn)));break;case"SIGN_DATA_CALLBACK":null==e||e.close(),i(t.data.message.signedData.map(t=>eb(t.signedData)));break;case"SIGN_TXN_NETWORK_MISMATCH":n(new ee({type:`${r}_NETWORK_MISMATCH`,detail:t.data.message.error},t.data.message.error||"Network mismatch"));break;case"SIGN_TXN_CALLBACK_ERROR":null==e||e.close(),n(new ee({type:`${r}_CANCELLED`},t.data.message.error));break;case"SESSION_DISCONNECTED":null==e||e.close(),ey(),n(new ee({type:"SESSION_DISCONNECTED",detail:t.data.message.error},t.data.message.error))}})({event:e,newPeraWalletTab:n,method:t,resolve:o,reject:s})})}catch(t){s(t)}})}()}class eR{constructor(t){this.bridge=(null==t?void 0:t.bridge)||"",this.connector=null,this.shouldShowSignTxnToast=void 0===(null==t?void 0:t.shouldShowSignTxnToast)||t.shouldShowSignTxnToast,this.chainId=null==t?void 0:t.chainId,this.compactMode=(null==t?void 0:t.compactMode)||!1,this.singleAccount=(null==t?void 0:t.singleAccount)||!1}get platform(){let t,e;return t=ev(),e=null,"pera-wallet"===(null==t?void 0:t.type)?e="mobile":"pera-wallet-web"===(null==t?void 0:t.type)&&(e="web"),e}get isConnected(){var t;return"mobile"===this.platform?!!this.connector:"web"===this.platform&&!!(null==(t=ev())?void 0:t.accounts.length)}get isPeraDiscoverBrowser(){return this.checkIsPeraDiscoverBrowser()}connect(t){return new Promise((e,r)=>et(this,void 0,void 0,function*(){var i,n,o,s,a;try{let u,h,l;if(null==(i=this.connector)?void 0:i.connected)try{yield this.connector.killSession()}catch(t){}let{isWebWalletAvailable:f,bridgeURL:c,webWalletURL:d,shouldDisplayNewBadge:p,shouldUseSound:g,promoteMobile:m}=yield ew(),v=function({webWalletURL:t,chainId:e,resolve:r,reject:i}){let n=ek(t);return function(){return et(this,void 0,void 0,function*(){try{let t=yield ei(n.CONNECT);t&&er.sendMessage({message:{type:"CONNECT",data:Object.assign(Object.assign({},function(){let t=document.querySelector('meta[name="name"]'),e=document.querySelector('meta[name="description"]'),{title:r}=document,i="";return t instanceof HTMLMetaElement&&(r=t.content),e instanceof HTMLMetaElement&&(i=e.content),{title:r,description:i,url:window.location.origin,favicon:function(){let t=document.getElementsByTagName("link"),e=[];for(let r=0;r<t.length;r++){let i=t[r],n=i.getAttribute("rel");if(n&&n.toLowerCase().indexOf("icon")>-1){let t=i.getAttribute("href");if(t&&-1===t.toLowerCase().indexOf("https:")&&-1===t.toLowerCase().indexOf("http:")&&0!==t.indexOf("//")){let r=`${window.location.protocol}//${window.location.host}`;if(0===t.indexOf("/"))r+=t;else{let e=window.location.pathname.split("/");e.pop(),r+=`${e.join("/")}/${t}`}e.push(r)}else if(0===(null==t?void 0:t.indexOf("//"))){let r=window.location.protocol+t;e.push(r)}else t&&e.push(t)}}return e}()[0]}}()),{chainId:e})},origin:n.CONNECT,targetWindow:t});let o=setInterval(()=>{!0===(null==t?void 0:t.closed)&&(i(new ee({type:"CONNECT_CANCELLED"},"Connect is cancelled by user")),clearInterval(o),ec(en))},2e3);er.setupListener({onReceiveMessage:e=>(function({event:t,newPeraWalletTab:e,resolve:r,reject:i}){if(r&&"CONNECT_CALLBACK"===t.data.message.type){let i=t.data.message.data.addresses;em(i,"pera-wallet-web"),r(i),ec(en),null==e||e.close()}else"CONNECT_NETWORK_MISMATCH"===t.data.message.type&&(i(new ee({type:"CONNECT_NETWORK_MISMATCH",detail:t.data.message.error},t.data.message.error||"Your wallet is connected to a different network to this dApp. Update your wallet to the correct network (MainNet or TestNet) to continue.")),ec(en),null==e||e.close())})({event:e,newPeraWalletTab:t,resolve:r,reject:i})})}catch(t){ec(en),i(t)}})}}({resolve:e,reject:r,webWalletURL:d,chainId:this.chainId,isCompactMode:this.compactMode});f&&(window.onWebWalletConnect=v),this.connector=new tM({bridge:this.bridge||c||"https://bridge.walletconnect.org",qrcodeModal:function({isWebWalletAvailable:t,shouldDisplayNewBadge:e,shouldUseSound:r,compactMode:i,promoteMobile:n,singleAccount:o,selectedAccount:s}){var a;return{open:(a={isWebWalletAvailable:t,shouldDisplayNewBadge:e,shouldUseSound:r,compactMode:i,promoteMobile:n,singleAccount:o,selectedAccount:s},t=>{if(!document.getElementById(en)){let e=eu(en),r=`${t}&algorand=true`,{isWebWalletAvailable:i,shouldDisplayNewBadge:n,shouldUseSound:o,compactMode:s,promoteMobile:u,singleAccount:h,selectedAccount:l}=a;e.innerHTML=`<pera-wallet-connect-modal uri="${r}" is-web-wallet-avaliable="${i}" should-display-new-badge="${n}" should-use-sound="${o}" compact-mode="${s}" promote-mobile="${u}" single-account="${h}" selected-account="${l||""}"></pera-wallet-connect-modal>`}}),close:()=>ec(en)}}({isWebWalletAvailable:f,shouldDisplayNewBadge:p,shouldUseSound:g,compactMode:this.compactMode,promoteMobile:m,singleAccount:this.singleAccount,selectedAccount:null==t?void 0:t.selectedAccount})}),yield this.connector.createSession({chainId:this.chainId||4160}),u=document.getElementById(en),h=null==(o=null==(n=null==u?void 0:u.querySelector(en.replace("-wrapper","")))?void 0:n.shadowRoot)?void 0:o.querySelector(`.${ea}`),l=null==(a=null==(s=null==h?void 0:h.querySelector("pera-wallet-modal-header"))?void 0:s.shadowRoot)?void 0:a.getElementById("pera-wallet-modal-header-close-button"),null==l||l.addEventListener("click",()=>{(()=>r(new ee({type:"CONNECT_MODAL_CLOSED"},"Connect modal is closed by user")))(),ec(en)}),this.connector.on("connect",(t,i)=>{var n,o;t&&r(t),e((null==(n=this.connector)?void 0:n.accounts)||[]),em((null==(o=this.connector)?void 0:o.accounts)||[])})}catch(t){console.log(t),r(new ee({type:"SESSION_CONNECT",detail:t},t.message||"There was an error while connecting to Pera Wallet"))}}))}reconnectSession(){return new Promise((t,e)=>et(this,void 0,void 0,function*(){var r,i,n;try{let o,s=ev();if(!s)return void t([]);if("pera-wallet-web"===(null==s?void 0:s.type)){let{isWebWalletAvailable:r}=yield ew();r?t(s.accounts||[]):e(new ee({type:"SESSION_RECONNECT",detail:"Pera Web is not available"},"Pera Web is not available"))}this.connector&&t(this.connector.accounts||[]),this.bridge=(null==(r=(o=null==(n=eg())?void 0:n.getItem(ep))?JSON.parse(o):null)?void 0:r.bridge)||"",this.bridge&&(this.connector=new tM({bridge:this.bridge}),t((null==(i=this.connector)?void 0:i.accounts)||[])),this.isConnected||t([])}catch(t){yield this.disconnect(),e(new ee({type:"SESSION_RECONNECT",detail:t},t.message||"There was an error while reconnecting to Pera Wallet"))}}))}disconnect(){var t;return et(this,void 0,void 0,function*(){let e;this.isConnected&&"mobile"===this.platform&&(null==(e=null==(t=this.connector)?void 0:t.killSession())||e.then(()=>{this.connector=null})),yield ey()})}signTransactionWithMobile(t){return et(this,void 0,void 0,function*(){let e=eM("algo_signTxn",[t]);try{try{let{silent:t}=yield ew(),r=(yield this.connector.sendCustomRequest(e,{forcePushNotification:!t})).filter(Boolean);return"string"==typeof r[0]?r.map(eb):r.map(t=>Uint8Array.from(t))}catch(t){return yield Promise.reject(new ee({type:"SIGN_TRANSACTIONS",detail:t},t.message||"Failed to sign transaction"))}}finally{ec(eo),ec(es)}})}signTransactionWithWeb(t,e){return new Promise((r,i)=>eE({signTxnRequestParams:t,webWalletURL:e,method:"SIGN_TXN",resolve:r,reject:i}))}signDataWithMobile({data:t,signer:e,chainId:r}){return et(this,void 0,void 0,function*(){let i=eM("algo_signData",t.map(t=>Object.assign(Object.assign({},t),{signer:e,chainId:r})));try{try{let{silent:t}=yield ew(),e=(yield this.connector.sendCustomRequest(i,{forcePushNotification:!t})).filter(Boolean);return"string"==typeof e[0]?e.map(eb):e.map(t=>Uint8Array.from(t))}catch(t){return yield Promise.reject(new ee({type:"SIGN_TRANSACTIONS",detail:t},t.message||"Failed to sign transaction"))}}finally{ec(eo),ec(es)}})}signDataWithWeb({data:t,signer:e,chainId:r,webWalletURL:i}){return new Promise((n,o)=>eE({method:"SIGN_DATA",signTxnRequestParams:t,signer:e,chainId:r,webWalletURL:i,resolve:n,reject:o}))}checkIsPeraDiscoverBrowser(){return window.navigator.userAgent.includes("pera")}signTransaction(t,r){return et(this,void 0,void 0,function*(){if("mobile"===this.platform&&(ex()?eh():!ex()&&this.shouldShowSignTxnToast&&el(),!this.connector))throw Error("PeraWalletConnect was not initialized correctly.");let i=t.flatMap(t=>t.map(t=>{var i;let n,o;return r&&!(t.signers||[]).includes(r)&&(n=[]),o={txn:(i=t.txn,e.Buffer.from(t_.default.encodeUnsignedTransaction(i)).toString("base64"))},Array.isArray(n)&&(o.signers=n),t.authAddr&&(o.authAddr=t.authAddr),t.message&&(o.message=t.message),t.msig&&(o.msig=t.msig),o}));if("web"===this.platform){let{webWalletURL:t}=yield ew();return this.signTransactionWithWeb(i,t)}return this.signTransactionWithMobile(i)})}signData(t,r){return et(this,void 0,void 0,function*(){let i=this.chainId||4160;if("mobile"===this.platform&&(ex()?eh():!ex()&&this.shouldShowSignTxnToast&&el(),!this.connector))throw Error("PeraWalletConnect was not initialized correctly.");if("web"===this.platform){let{webWalletURL:e}=yield ew();return this.signDataWithWeb({data:t,signer:r,chainId:i,webWalletURL:e})}let n=t.map(t=>Object.assign(Object.assign({},t),{data:e.Buffer.from(t.data).toString("base64")}));return this.signDataWithMobile({data:n,signer:r,chainId:i})})}}"undefined"!=typeof window&&(window.global=window,window.Buffer=window.Buffer||tF,t.A(30565)),t.s(["P",()=>eo,"a",()=>"https://perawallet.app/download/","b",()=>eA,"c",()=>eS,"d",()=>eO,"e",()=>"perawallet-wc://","f",()=>ea,"g",()=>en,"h",()=>es,"i",()=>ex,"j",()=>"pera-wallet-sign-txn-modal-wrapper","k",()=>eR,"l",()=>ef,"r",()=>ec],53810)}]);